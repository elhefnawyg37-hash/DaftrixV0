<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no, maximum-scale=1" />
  <meta name="description" content="DaftriX ERP - نظام إدارة الموارد المؤسسية المتكامل" />
  <meta name="theme-color" content="#0f766e" />
  <title>DaftriX ERP</title>
  <link rel="icon" type="image/png" href="/logo.png">
  <link rel="apple-touch-icon" href="/logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/fonts/cairo.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Cairo', 'sans-serif'],
          },
          colors: {
            primary: '#0f766e', // teal-700
            primaryHover: '#0d9488', // teal-600
            secondary: '#1e293b', // slate-800
            bgLight: '#f8fafc', // slate-50
          },
          boxShadow: {
            'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
            'card': '0 0 0 1px rgba(226, 232, 240, 0.6), 0 4px 12px rgba(0, 0, 0, 0.03)',
            'glow': '0 0 15px rgba(13, 148, 136, 0.3)',
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --glass-border: rgba(255, 255, 255, 0.5);
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);

      /* Safe Area Insets for notches and navigation bars */
      --safe-area-inset-top: env(safe-area-inset-top, 0px);
      --safe-area-inset-right: env(safe-area-inset-right, 0px);
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-inset-left: env(safe-area-inset-left, 0px);
    }

    body {
      background-color: #f1f5f9;
      color: #1e293b;
      -webkit-font-smoothing: antialiased;
      /* Modern Dot Pattern Background */
      background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
      background-size: 24px 24px;
    }

    /* FORCE INPUT STYLES to prevent black-on-black in some browsers/dark modes */
    input,
    select,
    textarea {
      background-color: #ffffff !important;
      color: #1e293b !important;
      /* slate-800 */
      border-color: #e2e8f0;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: #0d9488 !important;
      box-shadow: 0 0 0 2px rgba(13, 148, 136, 0.1) !important;
    }

    /* HIDE NATIVE NUMBER SPINNERS */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=number] {
      -moz-appearance: textfield;
      appearance: textfield;
    }

    /* Smooth transitions */
    .transition-all {
      transition-property: all;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-duration: 300ms;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #94a3b8;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #64748b;
    }

    /* Hide scrollbar but keep scroll functionality */
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    /* Animation Utilities */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    /* Glassmorphism Utilities */
    .glass {
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
    }

    .glass-dark {
      background: rgba(15, 23, 42, 0.85);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border-left: 1px solid rgba(255, 255, 255, 0.05);
    }

    /* Table Row Hover */
    tr.hover-row:hover td {
      background-color: #f1f5f9;
    }

    /* ============================================= */
    /* MOBILE PERFORMANCE OPTIMIZATION              */
    /* Disable heavy blur effects on mobile devices */
    /* ============================================= */
    @media (max-width: 767px) {

      /* Disable backdrop-blur on mobile - very GPU intensive */
      .backdrop-blur,
      .backdrop-blur-sm,
      .backdrop-blur-md,
      .backdrop-blur-lg,
      .backdrop-blur-xl,
      .backdrop-blur-2xl,
      .backdrop-blur-3xl,
      [class*="backdrop-blur"] {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
      }

      /* Replace blur with solid fallback backgrounds */
      .glass {
        backdrop-filter: none !important;
        background: rgba(255, 255, 255, 0.95) !important;
      }

      .glass-dark {
        backdrop-filter: none !important;
        background: rgba(15, 23, 42, 0.98) !important;
      }

      /* Reduce decorative blur effects */
      .blur-3xl,
      .blur-2xl {
        filter: blur(8px) !important;
      }

      /* Simplify shadows on mobile */
      .shadow-2xl {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
      }

      /* Disable complex hover transitions for touch */
      .group-hover\:scale-110,
      .group-hover\:scale-150,
      .hover\:scale-105 {
        transform: none !important;
      }

      /* Faster animations */
      .transition-all,
      .transition-transform {
        transition-duration: 150ms !important;
      }

      /* ============================================= */
      /* SAFE AREA HANDLING FOR NOTCHES & NAV BARS    */
      /* ============================================= */

      /* Safe area for top (notch/camera) */
      .safe-area-top {
        padding-top: env(safe-area-inset-top, 0px);
      }

      /* Safe area for bottom (home indicator/nav bar) */
      .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom, 0px);
      }

      /* Safe area for all sides */
      .safe-area-all {
        padding-top: env(safe-area-inset-top, 0px);
        padding-bottom: env(safe-area-inset-bottom, 0px);
        padding-left: env(safe-area-inset-left, 0px);
        padding-right: env(safe-area-inset-right, 0px);
      }

      /* Min height accounting for safe areas */
      .min-h-safe-screen {
        min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
      }

      /* Fixed elements need safe area margins */
      .fixed-top-safe {
        top: env(safe-area-inset-top, 0px);
      }

      .fixed-bottom-safe {
        bottom: env(safe-area-inset-bottom, 0px);
      }

      /* Ensure main content doesn't hide behind notch */
      #root {
        min-height: 100vh;
        padding-top: env(safe-area-inset-top, 0px);
        padding-bottom: env(safe-area-inset-bottom, 0px);
      }
    }

    /* Print Styles - Critical Fixes */
    @media print {

      aside,
      header,
      button,
      .no-print,
      ::-webkit-scrollbar {
        display: none !important;
      }

      /* Reset containers to allow full page printing */
      body,
      #root,
      main,
      div[class*="overflow-"],
      .flex-1 {
        background: white !important;
        background-image: none !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        height: auto !important;
        overflow: visible !important;
        position: static !important;
        display: block !important;
        box-shadow: none !important;
        border: none !important;
      }

      table {
        width: 100% !important;
        border-collapse: collapse !important;
        page-break-inside: auto;
      }

      thead {
        display: table-header-group;
      }

      tr {
        page-break-inside: avoid;
        page-break-after: auto;
      }

      th,
      td {
        border: 1px solid #e2e8f0 !important;
        padding: 8px !important;
      }

      /* Typography Fixes for Print */
      * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color: #000 !important;
      }

      /* Hide specific decorative elements */
      .glass,
      .glass-dark {
        backdrop-filter: none !important;
        background: white !important;
        border: none !important;
        box-shadow: none !important;
      }
    }
  </style>

  <link rel="stylesheet" href="/index.css">
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "uuid": "https://aistudiocdn.com/uuid@^13.0.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.2.0"
  }
}
</script>
  <script type="module" crossorigin src="/assets/index-DYLume9J.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/react-vendor-CJgqbvH4.js">
  <link rel="modulepreload" crossorigin href="/assets/utils-vendor-5vCYNseS.js">
  <link rel="modulepreload" crossorigin href="/assets/query-vendor-GtDMnHGN.js">
  <link rel="modulepreload" crossorigin href="/assets/ui-vendor-BUxR0pcK.js">
  <link rel="modulepreload" crossorigin href="/assets/socket-vendor-TjCxX7sJ.js">
</head>

<body>
  <div id="root"></div>
  <script>
    // Unregister any service workers to prevent CORS issues
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function (registrations) {
        for (let registration of registrations) {
          registration.unregister();
          console.log('Unregistered service worker:', registration);
        }
      });
    }

    // Global Input Behavior: Auto-select text on focus
    // This fixes the "delete written first" annoyance
    document.addEventListener('focus', function (e) {
      if (e.target && (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA')) {
        // Only for text-like inputs
        const type = e.target.type;
        if (['text', 'number', 'email', 'password', 'search', 'tel', 'url'].includes(type) || e.target.tagName === 'TEXTAREA') {
          // Small delay to ensure focus is complete
          setTimeout(() => {
            try {
              e.target.select();
            } catch (err) {
              // Ignore errors (e.g. for hidden inputs)
            }
          }, 10);
        }
      }
    }, true);
  </script>
</body>

</html>