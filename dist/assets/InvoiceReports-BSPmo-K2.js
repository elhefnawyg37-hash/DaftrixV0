import{m as no,o as xe,t as $,p as fe,I as v,j as e,T as d,a as De,q as to,s as We}from"./index-DYLume9J.js";import{r as u,a as Me}from"./react-vendor-CJgqbvH4.js";import{D as Re}from"./DatePicker-qAKHAbTG.js";import{x as oe}from"./utils-vendor-5vCYNseS.js";import{a as io}from"./query-vendor-GtDMnHGN.js";import{a as le,aA as lo,a9 as ro,ah as ao,K as Oe,h as uo,g as Ne,r as Ie,aB as Ue,a7 as we,aC as ve,N as pe,j as Fe,R as co,aD as Je,t as Ye,s as qe,aE as Ke,d as _e,X as Qe,y as je,aF as mo,aG as Eo,aH as bo,aI as xo,U as fo,C as No}from"./ui-vendor-BUxR0pcK.js";import{A as vo}from"./Modal-CoQB3dYi.js";function po(){const p=io(),l=u.useMemo(()=>{const c=p.getQueriesData({queryKey:["partners"]}),a=new Map;c.forEach(([i,D])=>{D?.partners?.forEach(ae=>a.set(ae.id,ae.name))});const K=p.getQueryData(["products"]),b=new Map;K?.forEach(i=>b.set(i.id,i.name));const x=p.getQueryData(["accounts"]),g=new Map;x?.forEach(i=>g.set(i.id,i.name));const W=p.getQueryData(["master","categories"]),L=new Map;W?.forEach(i=>L.set(i.id,i.name));const G=p.getQueryData(["master","warehouses"]),N=new Map;G?.forEach(i=>N.set(i.id,i.name));const y=p.getQueryData(["master","branches"]),n=new Map;y?.forEach(i=>n.set(i.id,i.name));const m=p.getQueryData(["banks"]),h=new Map;m?.forEach(i=>h.set(i.id,i.name));const A=p.getQueryData(["master","salesmen"]),w=new Map;A?.forEach(i=>w.set(i.id,i.name));const J=p.getQueryData(["price-lists"]),F=new Map;return J?.forEach(i=>F.set(i.id,i.name)),{partnerMap:a,productMap:b,accountMap:g,categoryMap:L,warehouseMap:N,branchMap:n,bankMap:h,salesmanMap:w,priceListMap:F}},[p]);return{getPartnerName:(c,a)=>c?l.partnerMap.get(c)||a||"غير محدد":a||"غير محدد",getProductName:(c,a)=>c?l.productMap.get(c)||a||"غير محدد":a||"غير محدد",getAccountName:(c,a)=>c?l.accountMap.get(c)||a||"غير محدد":a||"غير محدد",getCategoryName:(c,a)=>c?l.categoryMap.get(c)||a||"غير مصنف":a||"غير مصنف",getWarehouseName:(c,a)=>c?l.warehouseMap.get(c)||a||"غير محدد":a||"غير محدد",getBranchName:(c,a)=>c?l.branchMap.get(c)||a||"غير محدد":a||"غير محدد",getBankName:(c,a)=>c?l.bankMap.get(c)||a||"غير محدد":a||"غير محدد",getSalesmanName:(c,a)=>c?l.salesmanMap.get(c)||a||"غير محدد":a||"غير محدد",getPriceListName:(c,a)=>c?l.priceListMap.get(c)||a||"غير محدد":a||"غير محدد",lookups:l}}const Fo=({invoices:p,config:l,onCreate:de,onEdit:T,onConvertQuote:re,onDelete:B,onRefresh:Q})=>{const{getPartnerName:V}=po(),{data:f}=no(),U=async o=>{try{const s=await De.getInvoice(o.id);let t=null;try{t=await De.get(`/partners/${s.partnerId}`)}catch{}let r=s.warehouseName||"";if(!r&&s.warehouseId)try{const C=await De.get("/warehouses");r=(Array.isArray(C)?C:C.warehouses||[]).find(so=>so.id===s.warehouseId)?.name||""}catch{}const I={[d.INVOICE_SALE]:"فاتورة مبيعات",[d.INVOICE_PURCHASE]:"فاتورة مشتريات",[d.RETURN_SALE]:"مرتجع مبيعات",[d.RETURN_PURCHASE]:"مرتجع مشتريات"},E={[d.INVOICE_SALE]:"emerald",[d.INVOICE_PURCHASE]:"blue",[d.RETURN_SALE]:"rose",[d.RETURN_PURCHASE]:"amber"},M={CASH:"نقدي",CREDIT:"آجل",CHEQUE:"شيك",BANK:"تحويل بنكي",MIXED:"مختلط"},j=$(s.date).split("-").reverse().join("/"),Ae=s.dueDate?$(s.dueDate).split("-").reverse().join("/"):"",eo=s.lines?.reduce((C,Y)=>C+(Y.price*Y.quantity-(Y.discount||0)),0)||s.total,he=E[s.type]||"slate",S=t?.balance||0,_=s.total||0,P=Number(s.paidAmount||s.paymentCollected||0),ze=Number(s.whtAmount||0),be=s.status===v.POSTED,ge=s.type===d.INVOICE_SALE||s.type===d.RETURN_PURCHASE,Ro=s.type===d.INVOICE_PURCHASE||s.type===d.RETURN_SALE;let R=S,O=S;s.type===d.INVOICE_SALE?(be?R=S-(_-ze)+P:P>0&&(R=S+P),O=R+(_-ze)-P):s.type===d.INVOICE_PURCHASE||s.type===d.RETURN_SALE?(be?R=S+_-P:P>0&&(R=S-P),O=R-_+P):s.type===d.RETURN_PURCHASE&&(be?R=S-_+P:P>0&&(R=S+P),O=R+_-P);const oo=`
            <div class="bg-white w-full shadow-xl mx-auto relative border border-slate-200 flex flex-col overflow-hidden">
                <!-- Header Bar -->
                <div class="h-2 bg-gradient-to-r from-${he}-600 to-${he}-800"></div>

                <!-- Header -->
                <div class="px-4 py-2 border-b border-slate-100 flex justify-between items-start">
                    <div class="flex items-start gap-2">
                        ${f?.logo?`
                        <div class="flex-shrink-0">
                            <img src="${f.logo}" alt="${f?.companyName||"شعار الشركة"}" 
                                 class="w-12 h-12 object-contain rounded border border-slate-200 bg-white p-0.5" />
                        </div>`:""}
                        <div>
                            <h2 class="text-lg font-bold text-slate-900 mb-0.5 tracking-tight leading-tight">${f?.companyName||"اسم الشركة"}</h2>
                            <div class="text-[10px] text-slate-500 leading-tight">
                                <p>${f?.companyAddress||""}</p>
                                <p class="font-mono">${f?.companyPhone||""} ${f?.companyEmail?"| "+f.companyEmail:""}</p>
                                ${f?.taxId?`<p>ض.ق: <span class="font-mono font-bold">${f.taxId}</span></p>`:""}
                            </div>
                        </div>
                    </div>
                    <div class="text-left">
                        <h1 class="text-xl font-extrabold text-${he}-600 uppercase tracking-wide mb-1">${I[s.type]||s.type}</h1>
                        <div class="space-y-0.5 text-[10px]">
                            <div class="flex items-center justify-end gap-1">
                                <span class="text-slate-400">رقم:</span>
                                <span class="font-mono font-bold text-slate-900 bg-slate-100 px-1 rounded">${s.number||s.id}</span>
                            </div>
                            <div class="flex items-center justify-end gap-1">
                                <span class="text-slate-400">تاريخ:</span>
                                <span class="font-mono font-bold text-slate-900">${j}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Customer/Supplier Info -->
                <div class="px-4 py-1.5 grid grid-cols-2 gap-3 text-[10px]">
                    <div class="bg-slate-50 p-2 rounded border border-slate-200">
                        <div class="text-[8px] text-slate-400 font-bold mb-0.5">${ge?"فاتورة إلى":"فاتورة من"}</div>
                        <div class="font-bold text-slate-900 text-xs">${t?.name||V(s.partnerId,s.partnerName)}</div>
                        <div class="text-slate-600 leading-tight">
                            ${t?.address?`<p>${t.address}</p>`:""}
                            ${t?.phone?`<p class="font-mono">${t.phone}</p>`:""}
                            ${t?.taxId?`<p>ض.ق: ${t.taxId}</p>`:""}
                        </div>
                    </div>
                    <div class="space-y-0.5">
                        <div class="flex justify-between">
                            <span class="text-slate-500">الدفع:</span>
                            <span class="font-bold text-slate-900">${M[s.paymentMethod||"CASH"]||s.paymentMethod}</span>
                        </div>
                        ${s.paymentMethod==="CREDIT"&&Ae?`
                        <div class="flex justify-between">
                            <span class="text-slate-500">استحقاق:</span>
                            <span class="font-bold text-rose-600">${Ae}</span>
                        </div>`:""}
                        ${r?`
                        <div class="flex justify-between">
                            <span class="text-slate-500">المخزن:</span>
                            <span class="font-bold text-slate-900">${r}</span>
                        </div>`:""}
                    </div>
                </div>

                <!-- Items Table -->
                <div class="flex-grow px-4 mb-2">
                    <table class="w-full text-right border-collapse">
                        <thead class="bg-slate-800 text-white">
                            <tr>
                                <th class="py-1 px-1 text-center text-[9px] font-bold w-6">#</th>
                                <th class="py-1 px-1 text-[9px] font-bold">الصنف</th>
                                <th class="py-1 px-1 text-center text-[9px] font-bold w-12">الكمية</th>
                                <th class="py-1 px-1 text-center text-[9px] font-bold w-16">السعر</th>
                                <th class="py-1 px-1 text-center text-[9px] font-bold w-12">خصم</th>
                                <th class="py-1 px-1 text-left text-[9px] font-bold w-20">الإجمالي</th>
                            </tr>
                        </thead>
                        <tbody class="text-[10px]">
                            ${s.lines?.map((C,Y)=>`
                                <tr class="border-b border-slate-100 ${Y%2===1?"bg-slate-50/40":""}">
                                    <td class="py-0.5 px-1 text-slate-400 font-mono text-center">${Y+1}</td>
                                    <td class="py-0.5 px-1 font-bold text-slate-800 leading-tight">${C.productName||"صنف"}</td>
                                    <td class="py-0.5 px-1 text-center text-slate-700 font-bold">${to(C.quantity)}</td>
                                    <td class="py-0.5 px-1 text-center text-slate-600 font-mono">${C.price?.toLocaleString()}</td>
                                    <td class="py-0.5 px-1 text-center text-rose-600 font-mono">${(C.discount||0)>0?(C.discount||0).toLocaleString():"-"}</td>
                                    <td class="py-0.5 px-1 text-left font-bold text-slate-900 font-mono">${(C.total||C.price*C.quantity-(C.discount||0)).toLocaleString()}</td>
                                </tr>
                            `).join("")||'<tr><td colspan="6" class="py-4 text-center text-slate-400">لا توجد أصناف</td></tr>'}
                        </tbody>
                    </table>
                </div>

                <!-- Footer with totals -->
                <div class="px-4 pb-3 mt-auto">
                    <div class="flex gap-3 justify-between items-end border-t border-slate-300 pt-2">
                        <!-- Notes -->
                        <div class="flex-1 text-[9px] text-slate-500">
                            ${s.notes?`<div class="mb-1 p-1 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 leading-tight"><strong>ملاحظات:</strong> ${s.notes}</div>`:""}
                            ${f?.printFooterText?`<div class="pt-1 border-t border-slate-200 text-center text-[8px] text-slate-400 whitespace-pre-line">${f.printFooterText}</div>`:""}
                        </div>

                        <!-- Totals + Balance -->
                        <div class="w-56 space-y-0.5 text-[10px]">
                            <div class="flex justify-between text-slate-600"><span>المجموع الفرعي</span><span class="font-mono font-bold">${eo.toLocaleString()}</span></div>
                            ${s.globalDiscount?`<div class="flex justify-between text-rose-600"><span>خصم</span><span class="font-mono font-bold">(${s.globalDiscount.toLocaleString()})</span></div>`:""}
                            ${s.shippingFee?`<div class="flex justify-between text-emerald-600"><span>إضافات</span><span class="font-mono font-bold">+${s.shippingFee.toLocaleString()}</span></div>`:""}
                            ${s.taxAmount?`<div class="flex justify-between text-slate-600"><span>ضريبة</span><span class="font-mono">${s.taxAmount.toLocaleString()}</span></div>`:""}
                            
                            <!-- Net Payable -->
                            <div class="flex justify-between bg-slate-900 text-white px-2 py-1 rounded text-sm font-bold">
                                <span>الصافي</span>
                                <span class="font-mono">${s.total.toLocaleString()} ج.م</span>
                            </div>

                            <!-- Balance Info -->
                            ${t?`
                            <div class="pt-1 border-t border-dashed border-slate-300 space-y-0.5 mt-1">
                                <div class="flex justify-between">
                                    <span class="text-slate-600 font-bold">الرصيد السابق</span>
                                    <span class="font-mono font-bold ${R>0?"text-rose-600":R<0?"text-emerald-600":"text-slate-600"}">
                                        ${Math.abs(R).toLocaleString()} ${R>0?"مدين":R<0?"دائن":""}
                                    </span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-slate-600">قيمة الفاتورة</span>
                                    <span class="font-mono font-bold ${ge?"text-rose-600":"text-emerald-600"}">
                                        ${ge?"":"-"}${s.total.toLocaleString()}
                                    </span>
                                </div>
                                <div class="flex justify-between bg-${O>0?"rose":"emerald"}-100 px-2 py-1 rounded">
                                    <span class="text-slate-700 font-bold">الرصيد الجديد</span>
                                    <span class="font-mono font-bold ${O>0?"text-rose-600":"text-emerald-600"}">
                                        ${Math.abs(O).toLocaleString()} ${O>0?"مدين":O<0?"دائن":""}
                                    </span>
                                </div>
                            </div>`:""}
                        </div>
                    </div>
                </div>

                <!-- Print Footer -->
                <div class="text-center text-[9px] text-slate-400 py-2 border-t border-slate-200">
                    تم الطباعة بتاريخ ${new Date().toLocaleDateString("ar-EG")} الساعة ${new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})}
                    ${s.createdBy?` | بواسطة: ${s.createdBy}`:""}
                </div>
            </div>
            `;We("",`${I[s.type]||"فاتورة"} - ${s.number||s.id}`,oo)}catch{alert("حدث خطأ أثناء تحميل تفاصيل الفاتورة للطباعة")}},[q,c]=u.useState(""),[a,K]=u.useState(""),[b,x]=u.useState("ALL"),[g,W]=u.useState("ALL"),[L,G]=u.useState("ALL"),[N,y]=u.useState(null),[n,m]=u.useState(null),[h,A]=u.useState(!1),[w,J]=u.useState(null),[F,i]=u.useState(null),[D,ae]=u.useState([]),[se,He]=u.useState(""),[Be,Ve]=u.useState(""),[Ce,Le]=u.useState(!1),[ye,X]=u.useState(null),[ne,ke]=u.useState(null),[H,Z]=u.useState(1),[ee]=u.useState(20),[ue,te]=u.useState(()=>{const o=xe(),s=new Date(o.getFullYear(),o.getMonth(),1);return $(s)}),[ce,ie]=u.useState(fe());u.useEffect(()=>{const o=setTimeout(()=>{K(q)},400);return()=>clearTimeout(o)},[q]);const k=u.useMemo(()=>p.filter(o=>o.type===l.transactionType).filter(o=>{const s=o.id.includes(a)||o.number&&o.number.includes(a)||o.partnerName.toLowerCase().includes(a.toLowerCase()),t=$(o.date),r=t>=ue&&t<=ce,I=b==="ALL"?!0:o.status===b,E=g==="ALL"?!0:(o.createdBy||"System")===g,M=L==="ALL"?!0:o.paymentMethod===L;return s&&r&&I&&E&&M}).sort((o,s)=>s.date.localeCompare(o.date)),[p,l.transactionType,a,ue,ce,b,g,L]),z=Math.ceil(k.length/ee),me=u.useMemo(()=>{const o=(H-1)*ee,s=o+ee;return k.slice(o,s)},[k,H,ee]);u.useEffect(()=>{Z(1)},[a,ue,ce,b,g,L]);const Pe=u.useMemo(()=>{let o=0,s=0;const t=k.length;for(let r=0;r<t;r++){const I=k[r];I.status!==v.VOID&&(o+=I.total),I.status===v.DRAFT&&s++}return{totalAmount:o,count:t,draftCount:s}},[k]),Se=u.useMemo(()=>{const o=new Set;return p.forEach(s=>{s.type===l.transactionType&&o.add(s.createdBy||"System")}),Array.from(o).sort()},[p,l.transactionType]),Ge=()=>{const o=`Invoices-${l.title}_${new Date().toISOString().split("T")[0]}.xlsx`,s=[{col1:"الرقم",col2:"التاريخ",col3:l.partnerLabel,col4:"الحالة",col5:"الإجمالي",col6:"ملاحظات"},...k.map(E=>({col1:E.number||E.id,col2:$(E.date).split("-").reverse().join("/"),col3:E.partnerName,col4:E.status===v.POSTED?"مرحل":"مسودة",col5:E.total,col6:E.notes||"-"})),{col1:"الإجمالي",col2:"",col3:"",col4:"",col5:k.reduce((E,M)=>E+M.total,0),col6:""}],t=oe.utils.json_to_sheet(s,{skipHeader:!0});t["!cols"]=[{wch:15},{wch:15},{wch:30},{wch:10},{wch:15},{wch:40}];const r=oe.utils.decode_range(t["!ref"]||"A1");for(let E=r.s.r;E<=r.e.r;++E)for(let M=r.s.c;M<=r.e.c;++M){const j=oe.utils.encode_cell({r:E,c:M});t[j]&&(t[j].s||(t[j].s={}),t[j].s={font:{name:"Calibri",sz:12},border:{top:{style:"thin",color:{rgb:"CBD5E1"}},bottom:{style:"thin",color:{rgb:"CBD5E1"}},left:{style:"thin",color:{rgb:"CBD5E1"}},right:{style:"thin",color:{rgb:"CBD5E1"}}},alignment:{horizontal:"right",vertical:"center"}},E===0&&(t[j].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"FFFFFF"}},t[j].s.fill={fgColor:{rgb:"1E293B"}},t[j].s.alignment.horizontal="center"),E===s.length-1&&(t[j].s.font={name:"Calibri",bold:!0,sz:12},t[j].s.fill={fgColor:{rgb:"E2E8F0"}}),typeof t[j].v=="number"&&(t[j].z="#,##0.00"))}const I=oe.utils.book_new();oe.utils.book_append_sheet(I,t,"Invoices"),oe.writeFile(I,o,{cellStyles:!0})},Ee=o=>{if(o==="TODAY"){const s=fe();te(s),ie(s)}else if(o==="MONTH"){const s=xe(),t=new Date(s.getFullYear(),s.getMonth(),1);te($(t)),ie(fe())}else if(o==="YEAR"){const s=xe(),t=new Date(s.getFullYear(),0,1);te($(t)),ie(fe())}else if(o==="ALL"){te("2020-01-01");const s=xe(),t=new Date(s.getFullYear()+1,11,31);ie($(t))}},$e=async o=>{y(o),J(null),m({linkedReceipts:[],linkedPayments:[],linkedJournals:[],warning:"",loading:!0});try{const s=localStorage.getItem("authToken"),t=await fetch(`/api/invoices/${o.id}/preview-delete`,{headers:{Authorization:`Bearer ${s}`}});if(t.ok){const r=await t.json();m({linkedReceipts:r.linkedDocuments?.receipts||[],linkedPayments:r.linkedDocuments?.payments||[],linkedJournals:r.linkedDocuments?.journals||[],warning:r.warning||"",loading:!1})}else m(r=>r?{...r,loading:!1}:null)}catch{m(t=>t?{...t,loading:!1}:null)}},Xe=async()=>{if(N&&B){A(!0),J(null);try{B(N.id),y(null),m(null)}catch(o){J(o.message||"فشل في حذف الفاتورة")}finally{A(!1)}}},Te=async o=>{i(o),X(null),He(""),Ve("");try{const s=localStorage.getItem("authToken"),t=await fetch("/api/invoices/transfer/users",{headers:{Authorization:`Bearer ${s}`}});if(t.ok){const r=await t.json();ae(r.users||[])}else X("فشل في تحميل قائمة المستخدمين")}catch{X("خطأ في الاتصال بالخادم")}},Ze=async()=>{if(!F||!se)return;const o=D.find(s=>s.id===se);if(o){Le(!0),X(null);try{const s=localStorage.getItem("authToken"),t=await fetch("/api/invoices/transfer",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({invoiceIds:[F.id],targetUserId:o.id,targetUserName:o.name||o.username,reason:Be||"تحويل يدوي"})});if(t.ok){const r=await t.json();ke(r.message||"تم تحويل الفاتورة بنجاح"),setTimeout(()=>{i(null),ke(null),Q?Q():window.location.reload()},2e3)}else{const r=await t.json();X(r.error||r.message||"فشل التحويل")}}catch{X("خطأ في الاتصال بالخادم")}finally{Le(!1)}}};return e.jsxDEV("div",{className:"space-y-6 animate-fade-in",children:[e.jsxDEV("div",{className:`bg-gradient-to-r ${l.transactionType===d.INVOICE_SALE?"from-teal-600 via-emerald-600 to-cyan-600":l.transactionType===d.INVOICE_PURCHASE?"from-slate-700 via-slate-600 to-gray-600":l.transactionType===d.RETURN_SALE?"from-rose-600 via-pink-600 to-red-600":l.transactionType===d.RETURN_PURCHASE?"from-indigo-600 via-purple-600 to-violet-600":"from-blue-600 via-indigo-600 to-violet-600"} p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-[2rem] md:rounded-[2.5rem] shadow-2xl mb-4 sm:mb-8 relative overflow-hidden border border-white/20 ring-1 ring-white/10`,children:[e.jsxDEV("div",{className:"hidden sm:block absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-white/20 rounded-full blur-3xl animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:642,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden sm:block absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:643,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-4 mb-2 sm:mb-3",children:[e.jsxDEV("div",{className:"p-2 sm:p-3.5 bg-white/10 backdrop-blur-md rounded-xl sm:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(le,{size:24,className:"sm:w-9 sm:h-9 text-white",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:649,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:648,columnNumber:29},void 0),e.jsxDEV("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-black tracking-tight drop-shadow-sm",children:l.title},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:651,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:647,columnNumber:25},void 0),e.jsxDEV("p",{className:"hidden sm:block text-white/90 text-base sm:text-lg font-bold max-w-xl leading-relaxed opacity-95",children:["إدارة ",l.title," والمعاملات المالية مع تتبع فوري للحركات والتقارير"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:653,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:646,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:gap-4 w-full sm:w-auto",children:[e.jsxDEV("button",{onClick:Ge,className:"flex-1 sm:flex-initial bg-white/10 backdrop-blur-md border border-white/30 text-white px-4 sm:px-6 py-2.5 sm:py-3.5 rounded-xl sm:rounded-2xl hover:bg-white/20 flex items-center justify-center gap-2 transition-all font-black shadow-lg",title:"تصدير Excel",children:[e.jsxDEV(lo,{size:18,className:"sm:w-[22px] sm:h-[22px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:660,columnNumber:29},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"تصدير Excel"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:661,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:659,columnNumber:25},void 0),e.jsxDEV("button",{onClick:de,className:"flex-1 sm:flex-initial bg-white text-slate-900 px-4 sm:px-8 py-2.5 sm:py-3.5 rounded-xl sm:rounded-2xl hover:bg-slate-50 flex items-center justify-center gap-2 shadow-xl transition-all font-black ring-2 sm:ring-4 ring-white/30",children:[e.jsxDEV(ro,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:664,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-sm sm:text-base",children:["إنشاء ",l.isQuote?"عرض":"فاتورة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:665,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:663,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:658,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:645,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:635,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex sm:grid sm:grid-cols-3 gap-3 sm:gap-6 overflow-x-auto pb-2 sm:pb-0 no-scrollbar mb-4 sm:mb-0",children:[e.jsxDEV("div",{className:"min-w-[200px] sm:min-w-0 flex-shrink-0 bg-white/60 backdrop-blur-xl p-4 sm:p-6 rounded-xl sm:rounded-[2rem] border border-white/60 shadow-xl flex items-center justify-between relative overflow-hidden group hover:shadow-2xl transition-all ring-1 ring-white/50",children:[e.jsxDEV("div",{className:`absolute top-0 left-0 w-1.5 sm:w-2 h-full bg-${l.color}-500`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:674,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"text-slate-600 text-[10px] sm:text-sm font-black mb-1 sm:mb-2 uppercase tracking-wider",children:["إجمالي ",l.title]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:676,columnNumber:25},void 0),e.jsxDEV("div",{className:`text-2xl sm:text-4xl font-black text-${l.color}-700 drop-shadow-sm`,children:[Pe.totalAmount.toLocaleString()," ",e.jsxDEV("span",{className:"text-[10px] sm:text-sm text-slate-500 font-bold",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:678,columnNumber:66},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:677,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:675,columnNumber:21},void 0),e.jsxDEV("div",{className:`p-2.5 sm:p-4 bg-${l.color}-50 text-${l.color}-600 rounded-xl sm:rounded-2xl shadow-inner relative z-10 group-hover:scale-110 transition-transform`,children:e.jsxDEV(ao,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:682,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:681,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:673,columnNumber:17},void 0),e.jsxDEV("div",{className:"min-w-[160px] sm:min-w-0 flex-shrink-0 bg-white/60 backdrop-blur-xl p-4 sm:p-6 rounded-xl sm:rounded-[2rem] border border-white/60 shadow-xl flex items-center justify-between relative overflow-hidden group hover:shadow-2xl transition-all ring-1 ring-white/50",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1.5 sm:w-2 h-full bg-blue-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:687,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"text-blue-800 text-[10px] sm:text-sm font-black mb-1 sm:mb-2 uppercase tracking-wider",children:"عدد العمليات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:689,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-2xl sm:text-4xl font-black text-blue-900 drop-shadow-sm",children:Pe.count},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:690,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:688,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-2.5 sm:p-4 bg-blue-50 text-blue-600 rounded-xl sm:rounded-2xl shadow-inner relative z-10 group-hover:scale-110 transition-transform",children:e.jsxDEV(le,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:693,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:692,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:686,columnNumber:17},void 0),e.jsxDEV("div",{className:"min-w-[160px] sm:min-w-0 flex-shrink-0 bg-white/60 backdrop-blur-xl p-4 sm:p-6 rounded-xl sm:rounded-[2rem] border border-white/60 shadow-xl flex items-center justify-between relative overflow-hidden group hover:shadow-2xl transition-all ring-1 ring-white/50",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1.5 sm:w-2 h-full bg-amber-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:698,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"text-amber-900 text-[10px] sm:text-sm font-black mb-1 sm:mb-2 uppercase tracking-wider",children:"مسودات معلقة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:700,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-2xl sm:text-4xl font-black text-amber-800 drop-shadow-sm",children:Pe.draftCount},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:701,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:699,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-2.5 sm:p-4 bg-amber-50 text-amber-600 rounded-xl sm:rounded-2xl shadow-inner relative z-10 group-hover:scale-110 transition-transform",children:e.jsxDEV(Oe,{size:24,className:"sm:w-8 sm:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:704,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:703,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:697,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:672,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-xl p-3 sm:p-5 rounded-xl sm:rounded-2xl shadow-lg border border-white/60 space-y-3 sm:space-y-4 ring-1 ring-white/50",children:[e.jsxDEV("div",{className:"flex flex-wrap gap-2 sm:gap-4 items-center overflow-x-auto no-scrollbar",children:[e.jsxDEV("div",{className:"flex gap-1 sm:gap-2 bg-slate-100/50 p-1 sm:p-1.5 rounded-lg sm:rounded-xl border border-slate-200/60 flex-shrink-0",children:["ALL","POSTED","DRAFT"].map(o=>e.jsxDEV("button",{onClick:()=>x(o),className:`px-3 sm:px-5 py-1.5 sm:py-2.5 rounded-md sm:rounded-lg text-[11px] sm:text-sm font-black transition-all whitespace-nowrap ${b===o?"bg-white text-slate-800 shadow-md":"text-slate-500 hover:text-slate-700"}`,children:o==="ALL"?"الكل":o==="POSTED"?"مرحلة":"مسودة"},o,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:716,columnNumber:29},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:714,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:gap-3 items-center bg-white/50 px-2.5 sm:px-4 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl border border-slate-200/60 shadow-sm flex-shrink-0",children:[e.jsxDEV("label",{className:"hidden sm:block text-xs font-black text-slate-500 uppercase tracking-wider whitespace-nowrap",children:"طريقة الدفع:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:728,columnNumber:25},void 0),e.jsxDEV("select",{value:L,onChange:o=>G(o.target.value),className:"px-1 sm:px-2 py-1 text-xs sm:text-sm font-bold bg-transparent border-none outline-none text-slate-800 cursor-pointer",children:[e.jsxDEV("option",{value:"ALL",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:734,columnNumber:29},void 0),e.jsxDEV("option",{value:"CASH",children:"نقدي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:735,columnNumber:29},void 0),e.jsxDEV("option",{value:"CREDIT",children:"آجل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:736,columnNumber:29},void 0),e.jsxDEV("option",{value:"CHEQUE",children:"شيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:737,columnNumber:29},void 0),e.jsxDEV("option",{value:"BANK",children:"تحويل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:738,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:729,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:727,columnNumber:21},void 0),Se.length>1&&e.jsxDEV("div",{className:"flex gap-2 sm:gap-3 items-center bg-white/50 px-2.5 sm:px-4 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl border border-slate-200/60 shadow-sm flex-shrink-0",children:[e.jsxDEV("label",{className:"text-[10px] sm:text-xs font-black text-slate-500 uppercase tracking-wider whitespace-nowrap",children:"أنشأ بواسطة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:745,columnNumber:29},void 0),e.jsxDEV("select",{value:g,onChange:o=>W(o.target.value),className:"px-2 py-1 text-sm font-bold bg-transparent border-none outline-none text-slate-800 cursor-pointer",children:[e.jsxDEV("option",{value:"ALL",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:751,columnNumber:33},void 0),Se.map(o=>e.jsxDEV("option",{value:o,children:o},o,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:753,columnNumber:37},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:746,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:744,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:712,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 sm:gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-4 overflow-x-auto no-scrollbar",children:[e.jsxDEV("div",{className:"flex bg-slate-100/50 p-1 sm:p-1.5 rounded-lg sm:rounded-xl border border-slate-200/60 gap-0.5 sm:gap-1 flex-shrink-0",children:[e.jsxDEV("button",{onClick:()=>Ee("TODAY"),className:"px-2.5 sm:px-4 py-1.5 sm:py-2 text-[10px] sm:text-xs font-black text-slate-600 hover:bg-white rounded-md sm:rounded-lg transition-all",children:"اليوم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:765,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Ee("MONTH"),className:"px-2.5 sm:px-4 py-1.5 sm:py-2 text-[10px] sm:text-xs font-black text-slate-600 hover:bg-white rounded-md sm:rounded-lg transition-all",children:"الشهر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:766,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Ee("YEAR"),className:"px-2.5 sm:px-4 py-1.5 sm:py-2 text-[10px] sm:text-xs font-black text-slate-600 hover:bg-white rounded-md sm:rounded-lg transition-all",children:"السنة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:767,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Ee("ALL"),className:"px-2.5 sm:px-4 py-1.5 sm:py-2 text-[10px] sm:text-xs font-black text-slate-600 hover:bg-white rounded-md sm:rounded-lg transition-all",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:768,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:764,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 sm:gap-3 bg-white/50 border border-slate-200/60 rounded-lg sm:rounded-xl px-2 sm:px-4 py-1.5 sm:py-2.5 shadow-sm flex-shrink-0",children:[e.jsxDEV("div",{className:"w-24 sm:w-auto",children:e.jsxDEV(Re,{value:ue,onChange:te},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:774,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:773,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-slate-400 text-[10px] sm:text-sm font-black",children:"إلى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:776,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-24 sm:w-auto",children:e.jsxDEV(Re,{value:ce,onChange:ie},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:778,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:777,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:772,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:763,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative flex-1 group",children:[e.jsxDEV(uo,{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-teal-500 transition-colors",size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:785,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث برقم الفاتورة أو اسم العميل...",value:q,onChange:o=>c(o.target.value),className:"w-full pl-3 sm:pl-4 pr-10 sm:pr-12 py-2.5 sm:py-3 bg-white/50 border border-slate-200/60 rounded-lg sm:rounded-xl text-sm font-bold focus:bg-white focus:ring-2 sm:focus:ring-4 focus:ring-teal-100/50 focus:border-teal-400 outline-none transition-all shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:786,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:784,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:761,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:710,columnNumber:13},void 0),e.jsxDEV("div",{className:"md:hidden space-y-4 mb-6",children:me.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-4 py-10 bg-white/40 rounded-3xl border border-dashed border-slate-300/60",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center shadow-inner",children:e.jsxDEV(le,{size:32,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:802,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:801,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-slate-600 font-black",children:"لا توجد بيانات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:804,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:800,columnNumber:21},void 0):me.map(o=>{const s=o.status===v.POSTED&&o.paymentMethod==="CREDIT"&&o.dueDate&&new Date(o.dueDate)<new Date,t=o.status===v.VOID;return e.jsxDEV("div",{className:`bg-white/60 backdrop-blur-xl p-5 rounded-2xl border border-white/60 shadow-lg relative overflow-hidden group hover:bg-white transition-all ${t?"opacity-75 grayscale":""} animate-fade-in`,children:[e.jsxDEV("div",{className:`absolute top-0 right-0 w-1.5 h-full ${o.status===v.POSTED?"bg-emerald-500":"bg-amber-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:812,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-start mb-3 pl-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`font-mono text-sm font-black ${t?"text-slate-400 line-through":"text-slate-700"}`,children:o.number||o.id},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:817,columnNumber:45},void 0),s&&!t&&e.jsxDEV(Ne,{size:14,className:"text-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:818,columnNumber:70},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:816,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 font-bold mt-1",children:$(o.date).split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:820,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:815,columnNumber:37},void 0),e.jsxDEV("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black flex items-center gap-1 ${o.status===v.POSTED?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:o.status===v.POSTED?"مرحلة":"مسودة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:824,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:814,columnNumber:33},void 0),e.jsxDEV("div",{className:"mb-4 pl-2",children:[e.jsxDEV("div",{className:"text-slate-900 font-black text-base mb-1",children:V(o.partnerId,o.partnerName)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:830,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-bold",children:[e.jsxDEV(Ie,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:832,columnNumber:41},void 0)," ",o.createdBy||"System"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:831,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:829,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-end justify-between border-t border-slate-100 pt-3 pl-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>T(o),className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg border border-indigo-100 hover:bg-indigo-100 transition-colors",title:"تعديل",children:e.jsxDEV(Ue,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:839,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:838,columnNumber:41},void 0),e.jsxDEV("button",{onClick:r=>{r.stopPropagation(),U(o)},className:"p-2 bg-teal-50 text-teal-600 rounded-lg border border-teal-100 hover:bg-teal-100 transition-colors",title:"طباعة",children:e.jsxDEV(we,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:843,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:842,columnNumber:41},void 0),e.jsxDEV("button",{onClick:r=>{r.stopPropagation(),Te(o)},className:"p-2 bg-amber-50 text-amber-600 rounded-lg border border-amber-100 hover:bg-amber-100 transition-colors",title:"تحويل",children:e.jsxDEV(ve,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:847,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:846,columnNumber:41},void 0),e.jsxDEV("button",{onClick:r=>{r.stopPropagation(),$e(o)},className:`p-2 rounded-lg border transition-colors ${o.status===v.POSTED?"bg-rose-50 text-rose-600 border-rose-200 hover:bg-rose-100":"bg-slate-50 text-slate-400 border-slate-200 hover:text-rose-500 hover:bg-rose-50"}`,title:"حذف",children:e.jsxDEV(pe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:855,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:850,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:837,columnNumber:37},void 0),e.jsxDEV("div",{className:`font-black text-xl ${t?"text-slate-400":"text-slate-800"}`,children:[o.total.toLocaleString()," ",e.jsxDEV("span",{className:"text-xs font-bold text-slate-500",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:859,columnNumber:70},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:858,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:836,columnNumber:33},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:811,columnNumber:29},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:798,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden md:block bg-white/60 backdrop-blur-xl rounded-[2.5rem] shadow-2xl border border-white/60 overflow-hidden ring-1 ring-white/50",children:[e.jsxDEV("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto custom-scrollbar",children:e.jsxDEV("table",{className:"w-full text-sm text-right border-collapse",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black sticky top-0 z-20 shadow-lg",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-5 w-32 text-xs uppercase tracking-wider border-b border-slate-700",children:"الرقم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:874,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-5 w-32 text-xs uppercase tracking-wider border-b border-slate-700",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:875,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-5 text-xs uppercase tracking-wider border-b border-slate-700",children:l.partnerLabel},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:876,columnNumber:33},void 0),!l.isQuote&&e.jsxDEV("th",{className:"p-5 w-32 text-center text-xs uppercase tracking-wider border-b border-slate-700",children:"الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:877,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-5 w-32 text-center text-xs uppercase tracking-wider border-b border-slate-700",children:"أنشأ بواسطة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:878,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-5 w-40 text-left pl-8 text-xs uppercase tracking-wider border-b border-slate-700",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:879,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-5 w-32 text-center text-xs uppercase tracking-wider border-b border-slate-700",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:880,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:873,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:872,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:me.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:7,className:"p-16 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-4 py-10 bg-white/40 rounded-3xl border border-dashed border-slate-300/60",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center shadow-inner",children:e.jsxDEV(le,{size:40,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:888,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:887,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-slate-600 font-black text-lg",children:"لا توجد بيانات مسجلة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:890,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-sm text-slate-400 font-bold",children:"جرب تعديل الفلاتر أو الفترة الزمنية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:891,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:886,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:885,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:885,columnNumber:33},void 0):me.map((o,s)=>{const t=o.status===v.POSTED&&o.paymentMethod==="CREDIT"&&o.dueDate&&new Date(o.dueDate)<new Date;o.whtAmount&&o.whtAmount>0;const r=o.status===v.VOID,I=s%2===0?"bg-white/40":l.transactionType===d.INVOICE_SALE?"bg-teal-50/30":l.transactionType===d.INVOICE_PURCHASE?"bg-slate-50/30":l.transactionType===d.RETURN_SALE?"bg-rose-50/30":l.transactionType===d.RETURN_PURCHASE?"bg-indigo-50/30":"bg-blue-50/30";return e.jsxDEV("tr",{className:`${I} hover:bg-white hover:shadow-lg hover:scale-[1.005] hover:z-10 relative transition-all duration-200 group ${t&&!r?"bg-rose-50/50 hover:bg-rose-100/50":""} ${r?"opacity-50 grayscale":""}`,children:[e.jsxDEV("td",{className:`p-5 font-mono font-black ${r?"text-slate-400 line-through":"text-slate-700"}`,children:o.number||o.id},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:909,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-5 font-bold text-slate-700",children:[$(o.date).split("-").reverse().join("/"),t&&!r&&e.jsxDEV("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-rose-100 text-rose-700 text-[10px] font-black mt-1 shadow-sm",children:[e.jsxDEV(Ne,{size:10},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:914,columnNumber:53},void 0)," متأخر ",Math.floor((new Date().getTime()-new Date(o.dueDate).getTime())/(1e3*3600*24))," يوم"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:913,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:910,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-5",children:e.jsxDEV("div",{className:"font-black text-slate-900 text-base",children:V(o.partnerId,o.partnerName)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:919,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:918,columnNumber:41},void 0),!l.isQuote&&e.jsxDEV("td",{className:"p-5 text-center",children:e.jsxDEV("span",{className:`px-4 py-1.5 rounded-xl text-xs font-black flex items-center justify-center gap-1.5 w-fit mx-auto transition-all group-hover:scale-105 shadow-sm ${o.status===v.POSTED?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-emerald-200":"bg-gradient-to-r from-amber-400 to-orange-400 text-white shadow-amber-200"}`,children:[o.status===v.POSTED?e.jsxDEV(Fe,{size:14,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:924,columnNumber:92},void 0):e.jsxDEV(Oe,{size:14,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:924,columnNumber:136},void 0),o.status===v.POSTED?"مرحلة":"مسودة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:923,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:922,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-5 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 bg-white/50 py-1 px-3 rounded-lg w-fit mx-auto border border-slate-100",children:[e.jsxDEV(Ie,{size:14,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:931,columnNumber:49},void 0),e.jsxDEV("span",{className:"text-xs font-bold text-slate-600",children:o.createdBy||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:932,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:930,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:929,columnNumber:41},void 0),e.jsxDEV("td",{className:`p-5 font-black text-left pl-8 font-mono text-lg ${r?"text-slate-400 line-through":"text-slate-900"}`,children:(o.total||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:935,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-5 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 opacity-80 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:()=>T(o),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-indigo-600 hover:bg-indigo-50 hover:border-indigo-300 transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",title:"تعديل / عرض",children:e.jsxDEV(Ue,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:939,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:938,columnNumber:49},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),U(o)},className:"p-2.5 bg-white border border-slate-200 rounded-xl text-teal-600 hover:bg-teal-50 hover:border-teal-300 transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",title:"طباعة سريعة",children:e.jsxDEV(we,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:948,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:943,columnNumber:49},void 0),l.isQuote&&e.jsxDEV("button",{onClick:()=>re?.(o),className:"p-2.5 bg-white border border-slate-200 rounded-xl text-emerald-600 hover:bg-emerald-50 hover:border-emerald-300 transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",title:"تحويل لفاتورة",children:e.jsxDEV(co,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:956,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:952,columnNumber:53},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),Te(o)},className:"p-2.5 bg-white border border-slate-200 rounded-xl text-amber-600 hover:bg-amber-50 hover:border-amber-300 transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",title:"تحويل لمستخدم آخر",children:e.jsxDEV(ve,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:966,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:961,columnNumber:49},void 0),e.jsxDEV("button",{onClick:E=>{E.stopPropagation(),$e(o)},className:`p-2.5 border rounded-xl transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5 ${o.status===v.POSTED?"bg-rose-50 text-rose-600 border-rose-200 hover:bg-rose-100":"bg-white text-slate-400 border-slate-200 hover:text-rose-500 hover:bg-rose-50"}`,title:o.status===v.POSTED?"إلغاء / عكس":"حذف",children:e.jsxDEV(pe,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:975,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:970,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:937,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:936,columnNumber:41},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:908,columnNumber:37},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:883,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:871,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:870,columnNumber:17},void 0),z>1&&e.jsxDEV("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-4 flex items-center justify-between",children:[e.jsxDEV("div",{className:"text-sm text-slate-600",children:["عرض ",e.jsxDEV("span",{className:"font-bold text-slate-800",children:(H-1)*ee+1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:990,columnNumber:33},void 0)," -",e.jsxDEV("span",{className:"font-bold text-slate-800",children:[" ",Math.min(H*ee,k.length)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:991,columnNumber:29},void 0)," من",e.jsxDEV("span",{className:"font-bold text-slate-800",children:[" ",k.length]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:992,columnNumber:29},void 0)," سجل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:989,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>Z(1),disabled:H===1,className:"p-2 rounded-lg border border-slate-200 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"الصفحة الأولى",children:e.jsxDEV(Je,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1002,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:996,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Z(o=>Math.max(1,o-1)),disabled:H===1,className:"p-2 rounded-lg border border-slate-200 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"السابق",children:e.jsxDEV(Ye,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1010,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1004,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,z)},(o,s)=>{let t;return z<=5||H<=3?t=s+1:H>=z-2?t=z-4+s:t=H-2+s,e.jsxDEV("button",{onClick:()=>Z(t),className:`min-w-[36px] h-9 rounded-lg font-bold text-sm transition-all ${H===t?"bg-gradient-to-r from-teal-600 to-indigo-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:t},t,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1027,columnNumber:41},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1013,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Z(o=>Math.min(z,o+1)),disabled:H===z,className:"p-2 rounded-lg border border-slate-200 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"التالي",children:e.jsxDEV(qe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1047,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1041,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Z(z),disabled:H===z,className:"p-2 rounded-lg border border-slate-200 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"الصفحة الأخيرة",children:e.jsxDEV(Ke,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1055,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1049,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:995,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:988,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:869,columnNumber:13},void 0),N&&Me.createPortal(e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",onClick:()=>{y(null),m(null)},children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",onClick:o=>o.stopPropagation(),children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r from-rose-500 to-pink-500",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsxDEV(_e,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1068,columnNumber:33},void 0)," تأكيد الحذف"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1067,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{y(null),m(null)},className:"text-white/80 hover:text-white",children:e.jsxDEV(Qe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1070,columnNumber:147},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1070,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1066,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"bg-rose-50 border border-rose-100 rounded-xl p-4 flex gap-3 items-start",children:[e.jsxDEV("div",{className:"p-2 bg-white rounded-full shadow-sm text-rose-600",children:e.jsxDEV(pe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1076,columnNumber:100},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1076,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold text-rose-800 text-sm",children:["حذف ",l.title," رقم ",e.jsxDEV("span",{className:"font-mono",children:N.number||N.id.substring(0,8)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1078,columnNumber:108},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1078,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-rose-600 mt-1",children:[N.partnerName," - ",N.total.toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1079,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1077,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1075,columnNumber:29},void 0),w&&e.jsxDEV("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-3 text-rose-700 text-sm font-bold flex items-center gap-2",children:[e.jsxDEV(Ne,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1086,columnNumber:37},void 0),w]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1085,columnNumber:33},void 0),n?.loading&&e.jsxDEV("div",{className:"flex items-center justify-center py-4 gap-2 text-slate-500",children:[e.jsxDEV(je,{size:20,className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1094,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-sm",children:"جاري تحميل البيانات المرتبطة..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1095,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1093,columnNumber:33},void 0),!n?.loading&&n&&(n.linkedReceipts.length>0||n.linkedPayments.length>0)&&e.jsxDEV("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-amber-800 font-bold",children:[e.jsxDEV(_e,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1103,columnNumber:41},void 0),e.jsxDEV("span",{children:"سيتم حذف السندات المرتبطة التالية:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1104,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1102,columnNumber:37},void 0),n.linkedReceipts.length>0&&e.jsxDEV("div",{className:"bg-white rounded-lg p-3 border border-amber-100",children:[e.jsxDEV("div",{className:"text-xs font-bold text-emerald-700 mb-2 flex items-center gap-1",children:[e.jsxDEV(mo,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1111,columnNumber:49},void 0),"سندات قبض (",n.linkedReceipts.length,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1110,columnNumber:45},void 0),e.jsxDEV("div",{className:"space-y-1",children:n.linkedReceipts.map(o=>e.jsxDEV("div",{className:"flex justify-between text-xs bg-emerald-50 px-2 py-1 rounded",children:[e.jsxDEV("span",{className:"font-mono text-slate-700",children:o.number||o.id.substring(0,8)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1117,columnNumber:57},void 0),e.jsxDEV("span",{className:"font-bold text-emerald-700",children:[o.total?.toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1118,columnNumber:57},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1116,columnNumber:53},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1114,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1109,columnNumber:41},void 0),n.linkedPayments.length>0&&e.jsxDEV("div",{className:"bg-white rounded-lg p-3 border border-amber-100",children:[e.jsxDEV("div",{className:"text-xs font-bold text-rose-700 mb-2 flex items-center gap-1",children:[e.jsxDEV(Eo,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1129,columnNumber:49},void 0),"سندات صرف (",n.linkedPayments.length,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1128,columnNumber:45},void 0),e.jsxDEV("div",{className:"space-y-1",children:n.linkedPayments.map(o=>e.jsxDEV("div",{className:"flex justify-between text-xs bg-rose-50 px-2 py-1 rounded",children:[e.jsxDEV("span",{className:"font-mono text-slate-700",children:o.number||o.id.substring(0,8)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1135,columnNumber:57},void 0),e.jsxDEV("span",{className:"font-bold text-rose-700",children:[o.total?.toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1136,columnNumber:57},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1134,columnNumber:53},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1132,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1127,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1101,columnNumber:33},void 0),!n?.loading&&n?.linkedJournals&&n.linkedJournals.length>0&&e.jsxDEV("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-indigo-800 font-bold mb-2",children:[e.jsxDEV(bo,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1149,columnNumber:41},void 0),e.jsxDEV("span",{children:["قيود يومية مرتبطة (",n.linkedJournals.length,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1150,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1148,columnNumber:37},void 0),e.jsxDEV("div",{className:"space-y-1",children:[n.linkedJournals.slice(0,3).map(o=>e.jsxDEV("div",{className:"text-xs bg-white px-2 py-1 rounded border border-indigo-100 text-slate-600 truncate",children:o.description},o.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1154,columnNumber:45},void 0)),n.linkedJournals.length>3&&e.jsxDEV("div",{className:"text-xs text-indigo-600",children:["... و ",n.linkedJournals.length-3," قيود أخرى"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1159,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1152,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1147,columnNumber:33},void 0),N.status===v.POSTED?e.jsxDEV("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg border border-slate-200",children:[e.jsxDEV("p",{className:"font-bold mb-2",children:'تنبيه: هذا المستند "مرحل". الحذف سيؤدي إلى:'},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1168,columnNumber:37},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsxDEV("li",{children:["عكس حركات المخزون (",N.lines?.length||0," صنف)."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1170,columnNumber:41},void 0),e.jsxDEV("li",{children:"إلغاء القيد المحاسبي والسندات المرتبطة."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1171,columnNumber:41},void 0),e.jsxDEV("li",{children:["تعديل رصيد ",N.partnerName,"."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1172,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1169,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1167,columnNumber:33},void 0):e.jsxDEV("p",{className:"text-sm text-slate-600",children:'هذا المستند في حالة "مسودة". سيتم حذفه نهائياً.'},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1176,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-slate-800 pt-2",children:"هل أنت متأكد تماماً من رغبتك في المتابعة؟"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1179,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1073,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex gap-3",children:[e.jsxDEV("button",{onClick:()=>{y(null),m(null)},className:"flex-1 py-2.5 border border-slate-300 rounded-xl text-slate-600 font-bold hover:bg-white transition-colors",disabled:h,children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1183,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Xe,disabled:h||n?.loading,className:"flex-1 py-2.5 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-xl font-bold hover:from-rose-600 hover:to-pink-600 shadow-lg shadow-rose-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(je,{size:18,className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1196,columnNumber:39},void 0)," جاري الحذف..."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1196,columnNumber:37},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(pe,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1198,columnNumber:39},void 0)," نعم، حذف المستند"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1198,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1190,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1182,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1065,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1064,columnNumber:17},void 0),document.body),F&&Me.createPortal(e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",onClick:()=>i(null),children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:o=>o.stopPropagation(),children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-gradient-to-r from-amber-500 to-orange-500",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsxDEV(ve,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1213,columnNumber:33},void 0)," تحويل الفاتورة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1212,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>i(null),className:"text-white/80 hover:text-white",children:e.jsxDEV(Qe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1215,columnNumber:120},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1215,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1211,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4 flex gap-3 items-start",children:[e.jsxDEV("div",{className:"p-2 bg-white rounded-full shadow-sm text-amber-600",children:e.jsxDEV(le,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1221,columnNumber:101},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1221,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold text-amber-800 text-sm",children:["تحويل ",l.title," رقم ",e.jsxDEV("span",{className:"font-mono",children:F.id},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1223,columnNumber:111},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1223,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-amber-600 mt-1",children:[F.partnerName," - ",F.total.toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1224,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-amber-500 mt-0.5",children:["المالك الحالي: ",F.createdBy||"غير محدد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1225,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1222,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1220,columnNumber:29},void 0),ye&&e.jsxDEV("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-3 text-rose-700 text-sm font-bold flex items-center gap-2",children:[e.jsxDEV(Ne,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1232,columnNumber:37},void 0),ye]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1231,columnNumber:33},void 0),ne&&e.jsxDEV("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6 text-center animate-fade-in",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsxDEV(xo,{size:32,className:"text-emerald-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1241,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1240,columnNumber:37},void 0),e.jsxDEV("h4",{className:"font-bold text-emerald-800 text-lg",children:ne},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1243,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-sm text-emerald-600 mt-2",children:"جاري تحديث القائمة..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1244,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1239,columnNumber:33},void 0),!ne&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"اختر المستخدم الجديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1251,columnNumber:37},void 0),D.length>0?e.jsxDEV("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:D.map(o=>e.jsxDEV("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${se===o.id?"bg-amber-50 border-amber-400 shadow-md":"bg-white border-slate-200 hover:border-amber-300 hover:bg-amber-50/50"}`,children:[e.jsxDEV("input",{type:"radio",name:"transferUser",value:o.id,checked:se===o.id,onChange:()=>He(o.id),className:"accent-amber-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1262,columnNumber:53},void 0),e.jsxDEV("div",{className:"p-2 bg-slate-100 rounded-full",children:e.jsxDEV(Ie,{size:16,className:"text-slate-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1271,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1270,columnNumber:53},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:o.name||o.username},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1274,columnNumber:57},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500",children:o.role},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1275,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1273,columnNumber:53},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1255,columnNumber:49},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1253,columnNumber:41},void 0):e.jsxDEV("div",{className:"text-center py-6 text-slate-400",children:[e.jsxDEV(fo,{size:32,className:"mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1282,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-sm",children:"لا يوجد مستخدمين آخرين متاحين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1283,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1281,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1250,columnNumber:33},void 0),!ne&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"سبب التحويل (اختياري)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1292,columnNumber:37},void 0),e.jsxDEV("input",{type:"text",value:Be,onChange:o=>Ve(o.target.value),placeholder:"مثال: انتهاء الوردية",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-200 focus:border-amber-400 outline-none transition-all"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1293,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1291,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1218,columnNumber:25},void 0),!ne&&e.jsxDEV("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex gap-3",children:[e.jsxDEV("button",{onClick:()=>i(null),className:"flex-1 py-2.5 border border-slate-300 rounded-xl text-slate-600 font-bold hover:bg-white transition-colors",disabled:Ce,children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1307,columnNumber:33},void 0),e.jsxDEV("button",{onClick:Ze,disabled:!se||Ce,className:"flex-1 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 shadow-lg shadow-amber-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ce?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(je,{size:18,className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1320,columnNumber:43},void 0)," جاري التحويل..."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1320,columnNumber:41},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ve,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1322,columnNumber:43},void 0)," تأكيد التحويل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1322,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1314,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1306,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1210,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:1209,columnNumber:17},void 0),document.body)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceList.tsx",lineNumber:633,columnNumber:9},void 0)},Ho=({invoices:p})=>{const[l,de]=u.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[T,re]=u.useState(new Date().toISOString().split("T")[0]),[B,Q]=u.useState("ALL"),[V,f]=u.useState(1),[U,q]=u.useState(50),[c,a]=u.useState({isOpen:!1,message:"",type:"info"}),K=(n,m="info")=>{a({isOpen:!0,message:n,type:m})},b=u.useMemo(()=>p.filter(n=>{const m=n.date.split("T")[0],h=m>=l&&m<=T,A=n.status===v.POSTED;let w=!1;return B==="ALL"?w=[d.INVOICE_SALE,d.INVOICE_PURCHASE,d.RETURN_SALE,d.RETURN_PURCHASE].includes(n.type):B==="SALE"?w=[d.INVOICE_SALE,d.RETURN_SALE].includes(n.type):B==="PURCHASE"&&(w=[d.INVOICE_PURCHASE,d.RETURN_PURCHASE].includes(n.type)),h&&A&&w}),[p,l,T,B]),x=u.useMemo(()=>{const n=b.filter(i=>i.type===d.INVOICE_SALE).reduce((i,D)=>i+parseFloat(String(D.total||0)),0),m=b.filter(i=>i.type===d.RETURN_SALE).reduce((i,D)=>i+parseFloat(String(D.total||0)),0),h=b.filter(i=>i.type===d.INVOICE_PURCHASE).reduce((i,D)=>i+parseFloat(String(D.total||0)),0),A=b.filter(i=>i.type===d.RETURN_PURCHASE).reduce((i,D)=>i+parseFloat(String(D.total||0)),0),w=n-m,J=h-A,F=b.length;return{totalSales:n,totalSalesReturns:m,totalPurchases:h,totalPurchaseReturns:A,netSales:w,netPurchases:J,count:F}},[b]),g=Math.ceil(b.length/U),W=(V-1)*U,L=W+U,G=u.useMemo(()=>b.slice(W,L),[b,W,L]),N=(n,m)=>{n(m),f(1)},y=n=>{switch(n){case d.INVOICE_SALE:return"فاتورة بيع";case d.INVOICE_PURCHASE:return"فاتورة مشتريات";case d.RETURN_SALE:return"مرتجع مبيعات";case d.RETURN_PURCHASE:return"مرتجع مشتريات";default:return n}};return e.jsxDEV("div",{className:"space-y-6 animate-fade-in",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-violet-600 p-8 rounded-3xl shadow-xl mb-8 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:118,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:119,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(No,{size:32,className:"text-white",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:125,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:124,columnNumber:29},void 0),e.jsxDEV("h1",{className:"text-4xl font-black tracking-tight drop-shadow-sm",children:"تقارير الفواتير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:127,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:123,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-white/90 text-base font-bold max-w-xl leading-relaxed opacity-95",children:"تقارير شاملة للمبيعات والمشتريات مع تحليل مفصل للحركات المالية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:129,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:122,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-3 items-center",children:[e.jsxDEV("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md p-1.5 rounded-xl border border-white/20",children:[e.jsxDEV("button",{onClick:()=>N(Q,"ALL"),className:`px-4 py-2 text-sm font-black rounded-lg transition-all ${B==="ALL"?"bg-white shadow text-slate-900":"text-white hover:bg-white/20"}`,children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:136,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>N(Q,"SALE"),className:`px-4 py-2 text-sm font-black rounded-lg transition-all ${B==="SALE"?"bg-white shadow text-teal-700":"text-white hover:bg-white/20"}`,children:"مبيعات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:137,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>N(Q,"PURCHASE"),className:`px-4 py-2 text-sm font-black rounded-lg transition-all ${B==="PURCHASE"?"bg-white shadow text-rose-700":"text-white hover:bg-white/20"}`,children:"مشتريات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:138,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:135,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-3 py-2 rounded-xl border border-white/20",children:[e.jsxDEV(Re,{value:l,onChange:n=>N(de,n)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:141,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-white font-bold",children:"→"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:142,columnNumber:29},void 0),e.jsxDEV(Re,{value:T,onChange:n=>N(re,n)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:143,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:140,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{if(b.length===0){K("لا توجد فواتير للطباعة","warning");return}const n=`
                                <div style="font-family: 'Cairo', sans-serif; direction: rtl; padding: 20px;">
                                    <h1 style="text-align: center; color: #1e293b; margin-bottom: 20px;">تقرير الفواتير</h1>
                                    <p style="text-align: center; color: #64748b; margin-bottom: 30px;">من ${l.split("-").reverse().join("/")} إلى ${T.split("-").reverse().join("/")}</p>
                                    <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                                        <thead>
                                            <tr style="background: #1e293b; color: white;">
                                                <th style="padding: 12px; border: 1px solid #334155;">التاريخ</th>
                                                <th style="padding: 12px; border: 1px solid #334155;">رقم الفاتورة</th>
                                                <th style="padding: 12px; border: 1px solid #334155;">النوع</th>
                                                <th style="padding: 12px; border: 1px solid #334155;">العميل / المورد</th>
                                                <th style="padding: 12px; border: 1px solid #334155;">الإجمالي</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${b.map((m,h)=>`
                                                <tr style="background: ${h%2===0?"#fff":"#f8fafc"};">
                                                    <td style="padding: 10px; border: 1px solid #e2e8f0;">${m.date.split("T")[0].split("-").reverse().join("/")}</td>
                                                    <td style="padding: 10px; border: 1px solid #e2e8f0; font-family: monospace;">#${m.id}</td>
                                                    <td style="padding: 10px; border: 1px solid #e2e8f0;">${y(m.type)}</td>
                                                    <td style="padding: 10px; border: 1px solid #e2e8f0; font-weight: bold;">${m.partnerName}</td>
                                                    <td style="padding: 10px; border: 1px solid #e2e8f0; font-weight: bold;">${m.total.toLocaleString()}</td>
                                                </tr>
                                            `).join("")}
                                        </tbody>
                                        <tfoot>
                                            <tr style="background: #1e293b; color: white; font-weight: bold;">
                                                <td colspan="4" style="padding: 12px; border: 1px solid #334155;">الإجماليات</td>
                                                <td style="padding: 12px; border: 1px solid #334155;">المبيعات: ${x.netSales.toLocaleString()} | المشتريات: ${x.netPurchases.toLocaleString()}</td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            `;We("invoice-reports-print",`Invoice_Report_${l}_${T}`,n),K("تم إرسال التقرير للطباعة","success")},className:"p-3 bg-white/10 backdrop-blur-md border-2 border-white/30 text-white rounded-xl hover:bg-white/20 transition-all",children:e.jsxDEV(we,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:186,columnNumber:153},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:145,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:134,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:121,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsxDEV("div",{className:"bg-gradient-to-br from-teal-50 to-white p-6 rounded-2xl border-2 border-teal-200 shadow-lg relative overflow-hidden group hover:shadow-xl transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-2 h-full bg-teal-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:194,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-teal-800 font-black mb-2 uppercase tracking-wider relative z-10",children:"صافي المبيعات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:195,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-4xl font-black text-teal-700 relative z-10",children:[x.netSales.toLocaleString()," ",e.jsxDEV("span",{className:"text-sm text-teal-500 font-bold",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:196,columnNumber:125},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:196,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 mt-2 font-bold relative z-10",children:["بعد خصم المرتجعات (",x.totalSalesReturns.toLocaleString(),")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:197,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:193,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gradient-to-br from-rose-100 via-rose-50 to-white p-6 rounded-2xl border-2 border-rose-300 shadow-lg relative overflow-hidden group hover:shadow-xl transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-2 h-full bg-rose-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-rose-900 font-black mb-2 uppercase tracking-wider relative z-10",children:"صافي المشتريات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:201,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-4xl font-black text-rose-700 relative z-10",children:[x.netPurchases.toLocaleString()," ",e.jsxDEV("span",{className:"text-sm text-rose-500 font-bold",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:202,columnNumber:129},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:202,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 mt-2 font-bold relative z-10",children:["بعد خصم المرتجعات (",x.totalPurchaseReturns.toLocaleString(),")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:203,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:199,columnNumber:17},void 0),e.jsxDEV("div",{className:`bg-gradient-to-br p-6 rounded-2xl border-2 shadow-lg relative overflow-hidden group hover:shadow-xl transition-all ${x.netSales-x.netPurchases>=0?"from-emerald-100 via-emerald-50 to-white border-emerald-300":"from-amber-100 via-amber-50 to-white border-amber-300"}`,children:[e.jsxDEV("div",{className:`absolute top-0 left-0 w-2 h-full ${x.netSales-x.netPurchases>=0?"bg-emerald-700":"bg-amber-700"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:206,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-sm font-black mb-2 uppercase tracking-wider relative z-10 ${x.netSales-x.netPurchases>=0?"text-emerald-900":"text-amber-900"}`,children:"الفرق (مجمل الربح)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:207,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-4xl font-black relative z-10 ${x.netSales-x.netPurchases>=0?"text-emerald-700":"text-amber-700"}`,children:(x.netSales-x.netPurchases).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:208,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 mt-2 font-bold relative z-10",children:"المبيعات - المشتريات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:209,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:205,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gradient-to-br from-blue-100 via-blue-50 to-white p-6 rounded-2xl border-2 border-blue-300 shadow-lg relative overflow-hidden group hover:shadow-xl transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-2 h-full bg-blue-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:212,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-blue-900 font-black mb-2 uppercase tracking-wider relative z-10",children:"عدد الفواتير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-4xl font-black text-blue-800 relative z-10",children:x.count},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:214,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 mt-2 font-bold relative z-10",children:"خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:215,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:211,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxDEV("div",{className:"md:hidden space-y-3 p-4 bg-slate-50",children:[G.map(n=>e.jsxDEV("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:["#",n.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:227,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 font-mono",children:n.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:228,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:226,columnNumber:33},void 0),e.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-bold ${n.type===d.INVOICE_SALE?"bg-teal-100 text-teal-700":n.type===d.INVOICE_PURCHASE?"bg-slate-100 text-slate-700":n.type.includes("RETURN")?"bg-rose-100 text-rose-700":"bg-gray-100"}`,children:y(n.type)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:230,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:225,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-sm text-slate-500",children:"العميل/المورد:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:238,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-medium text-slate-700",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:239,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:237,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-3 border-t border-slate-100",children:[e.jsxDEV("span",{className:"font-bold text-lg text-slate-900",children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:242,columnNumber:33},void 0),e.jsxDEV("span",{className:"flex items-center gap-1 text-emerald-600 font-bold text-xs",children:[e.jsxDEV(Fe,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:243,columnNumber:110},void 0)," مرحلة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:243,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:241,columnNumber:29},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:224,columnNumber:25},void 0)),b.length===0&&e.jsxDEV("div",{className:"text-center py-8 text-slate-400",children:"لا توجد فواتير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:248,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:222,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden md:block max-h-[500px] overflow-y-auto",children:e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black border-b border-slate-900 sticky top-0",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:256,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"رقم الفاتورة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:257,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"النوع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:258,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"العميل / المورد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:259,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:260,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:261,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:255,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:254,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[G.map((n,m)=>{const h=m%2===0?"bg-white":"bg-blue-50/50";return e.jsxDEV("tr",{className:`${h} hover:brightness-95 transition-all`,children:[e.jsxDEV("td",{className:"p-4 font-bold text-slate-700 font-mono",children:n.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:269,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 font-black text-slate-800 font-mono",children:["#",n.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:270,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-bold ${n.type===d.INVOICE_SALE?"bg-teal-100 text-teal-700":n.type===d.INVOICE_PURCHASE?"bg-slate-100 text-slate-700":n.type.includes("RETURN")?"bg-rose-100 text-rose-700":"bg-gray-100"}`,children:y(n.type)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:272,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:271,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 font-black text-slate-900",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:279,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 font-black font-mono text-lg text-slate-900",children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:280,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("span",{className:"flex items-center gap-1 text-emerald-600 font-bold text-xs",children:[e.jsxDEV(Fe,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:282,columnNumber:122},void 0)," مرحلة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:282,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:281,columnNumber:41},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:268,columnNumber:37},void 0)}),b.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:"لا توجد فواتير أو مرتجعات في هذه الفترة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:287,columnNumber:63},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:287,columnNumber:59},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:264,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:253,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:252,columnNumber:17},void 0),b.length>0&&e.jsxDEV("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-slate-50 border-t border-slate-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-slate-600",children:"عرض"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:296,columnNumber:29},void 0),e.jsxDEV("select",{value:U,onChange:n=>{q(Number(n.target.value)),f(1)},className:"px-3 py-1 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:25,children:"25"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:305,columnNumber:33},void 0),e.jsxDEV("option",{value:50,children:"50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:306,columnNumber:33},void 0),e.jsxDEV("option",{value:100,children:"100"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:307,columnNumber:33},void 0),e.jsxDEV("option",{value:500,children:"500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:308,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:297,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-sm text-slate-600",children:["من أصل ",b.length]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:310,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:295,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-slate-600 hidden sm:inline",children:["الصفحة ",V," من ",g]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:314,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>f(1),disabled:V===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",title:"الصفحة الأولى",children:e.jsxDEV(Je,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:324,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:318,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>f(n=>Math.max(1,n-1)),disabled:V===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",title:"السابق",children:e.jsxDEV(Ye,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:332,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:326,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>f(n=>Math.min(g,n+1)),disabled:V===g,className:"p-2 rounded-lg border border-slate-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",title:"التالي",children:e.jsxDEV(qe,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:340,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:334,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>f(g),disabled:V===g,className:"p-2 rounded-lg border border-slate-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",title:"الصفحة الأخيرة",children:e.jsxDEV(Ke,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:348,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:342,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:317,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:313,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:294,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(vo,{isOpen:c.isOpen,onClose:()=>a(n=>({...n,isOpen:!1})),message:c.message,type:c.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:357,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/invoices/InvoiceReports.tsx",lineNumber:114,columnNumber:9},void 0)};export{Ho as I,Fo as a};
