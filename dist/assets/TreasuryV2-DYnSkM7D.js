import{m as yn,c as qe,p as Re,j as e,q as Ye,I as gn,T as en,G as xe,A as Dn,t as _e,a as He,H as Bn,D as Vn,d as Fn,B as jn,F as Hn,f as wn,J as kn,l as Mn,b as Sn,n as In}from"./index-2AF0VSfh.js";import{r as l,R as Ge,a as Tn}from"./react-vendor-CJgqbvH4.js";import{S as he}from"./SearchableSelect-Cv3sOJ4i.js";import{D as ve}from"./DatePicker-Di8gzfVd.js";import{A as Je,C as Cn}from"./Modal-BBl0NUsU.js";import{b2 as Te,ax as Le,a7 as ke,o as Oe,q as sn,X as Fe,h as tn,aJ as We,aO as Be,b3 as dn,j as De,K as we,b4 as un,b5 as an,ae as Me,p as nn,aE as Ln,s as xn,t as Rn,aD as qn,$ as Ue,E as Pn,r as An,b6 as zn,L as ze,b7 as Jn,aA as mn,b8 as $n,a9 as Se,g as pn,W as rn,aU as cn,d as on,a as Ke,b9 as On,z as Wn,N as Xe,ay as En,ba as Un,af as _n,ai as Ie,ac as Qe,aN as ln,ad as Xn,ah as Gn,aL as fn,aK as Qn,aW as Yn,R as Nn,U as bn}from"./ui-vendor-DNgltnAO.js";import{x as Ve}from"./utils-vendor-5vCYNseS.js";import"./query-vendor-GtDMnHGN.js";import"./socket-vendor-TjCxX7sJ.js";const Kn=({type:C,partners:B,accounts:te,banks:ne,cheques:re,costCenters:w,salesmen:oe,onSave:x})=>{const{data:m}=yn(),[u,S]=l.useState({date:Re(),amount:0,partnerId:"",description:"",paymentMethod:qe.CASH,chequeNumber:"",bankName:"",dueDate:"",referenceNumber:"",salesmanId:""}),[U,L]=l.useState(""),[y,Y]=l.useState("NEW"),[p,a]=l.useState(""),[K,z]=l.useState(!1),[g,ae]=l.useState(null),[_,ie]=l.useState({isOpen:!1,message:"",type:"info"}),X=(t,F="error")=>{ie({isOpen:!0,message:t,type:F})},P=C==="IN",b=P?"سند قبض نقدية / شيكات":"سند صرف نقدية / شيكات",J=P?"teal":"rose",c=P?Te:Le,ce=B.find(t=>t.id===u.partnerId),j=l.useMemo(()=>re?re.filter(t=>t.type==="RECEIVABLE"&&(t.status==="PENDING"||t.status==="UNDER_COLLECTION")):[],[re]),se=()=>{if(u.amount<=0&&y!=="ENDORSE")return X("الرجاء إدخال المبلغ","warning");if(!u.partnerId)return X("الرجاء اختيار الجهة","warning");if(u.paymentMethod==="BANK"&&!U)return X("الرجاء اختيار البنك","warning");if(u.paymentMethod==="CHEQUE")if(!P&&y==="ENDORSE"){if(!p)return X("الرجاء اختيار الشيك للتظهير","warning")}else{if(!u.chequeNumber||!u.dueDate)return X("الرجاء إدخال بيانات الشيك","warning");if(!P&&!U)return X("الرجاء اختيار البنك المسحوب عليه","warning")}const t=ne.find(f=>f.id===U),F=t?.accountId;let i=u.amount,E=u.bankName,N=u.chequeNumber,v=u.dueDate;if(!P&&u.paymentMethod==="CHEQUE"&&y==="ENDORSE"){const f=j.find(Q=>Q.id===p);f&&(i=f.amount,E=f.bankName,N=f.number,v=f.dueDate)}else(!P&&u.paymentMethod==="CHEQUE"&&y==="NEW"||P&&u.paymentMethod==="BANK")&&(E=t?.name||"");const R={...u,amount:i,chequeNumber:N,bankName:E,dueDate:v,type:P?en.RECEIPT:en.PAYMENT,status:gn.POSTED,partnerName:ce?.name,bankAccountId:F,chequeEntryMode:!P&&u.paymentMethod==="CHEQUE"?y:void 0,chequeId:p,sourceBankName:t?.name,salesmanId:u.salesmanId,salesmanName:oe.find(f=>f.id===u.salesmanId)?.name};x(R),ae({...R,id:"NEW"}),z(!0),S({...u,amount:0,description:"",chequeNumber:"",referenceNumber:"",bankName:"",dueDate:"",salesmanId:""}),L(""),a(""),Y("NEW")};return l.useEffect(()=>{if(y==="ENDORSE"&&p){const t=j.find(F=>F.id===p);t&&S(F=>({...F,amount:t.amount}))}},[p,y,j]),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:`rounded-3xl p-8 mb-6 relative overflow-hidden shadow-2xl ${P?"bg-gradient-to-r from-emerald-700 via-teal-600 to-cyan-600":"bg-gradient-to-r from-rose-700 via-pink-600 to-fuchsia-600"}`,children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(c,{size:32,className:"text-white",strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:168,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:167,columnNumber:29},void 0),e.jsxDEV("h1",{className:"text-4xl font-black tracking-tight drop-shadow-md",children:b},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:170,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:166,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-white/90 text-lg font-bold max-w-xl leading-relaxed opacity-95",children:P?"تسجيل المقبوضات النقدية والشيكات الواردة من العملاء.":"تسجيل المدفوعات النقدية والشيكات الصادرة للموردين والمصروفات."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:172,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:165,columnNumber:21},void 0),g&&e.jsxDEV("button",{onClick:()=>z(!0),className:"bg-white/10 border border-white/20 text-white px-6 py-3 rounded-xl hover:bg-white/20 transition-all font-black flex items-center justify-center gap-2 text-sm backdrop-blur-md shadow-sm",children:[e.jsxDEV(ke,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:179,columnNumber:29},void 0),e.jsxDEV("span",{children:"طباعة آخر سند"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:180,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:178,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:164,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:159,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-slate-50 rounded-3xl shadow-xl border border-slate-200 p-8 max-w-6xl mx-auto relative overflow-hidden",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-8 border-b border-slate-200 pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-3xl font-black text-slate-800 mb-1 tracking-tight",children:m?.companyName||"DaftriX ERP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:189,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-base font-bold text-slate-600",children:["الإدارة المالية - ",P?"Treasury Receipt":"Treasury Payment"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:190,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:188,columnNumber:21},void 0),e.jsxDEV("div",{className:`border-2 border-${J}-200 bg-${J}-50 text-${J}-800 px-6 py-2 rounded-xl font-black text-xl uppercase tracking-wider shadow-sm`,children:P?"Receipt Voucher":"Payment Voucher"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:192,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:187,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[e.jsxDEV("div",{className:"md:col-span-8 space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{label:P?"استلمنا من السيد/السادة":"اصرفوا للسيد/السادة",options:B.map(t=>({id:t.id,label:t.name,subLabel:`رصيد: ${t.balance.toLocaleString()}`})),value:u.partnerId,onChange:t=>S({...u,partnerId:t}),placeholder:"-- اختر الجهة --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:202,columnNumber:33},void 0),ce&&e.jsxDEV("div",{className:"mt-2 text-sm font-bold flex gap-2 bg-white p-2 rounded-lg border border-slate-200 shadow-sm w-fit",children:[e.jsxDEV("span",{className:"text-slate-600",children:"الرصيد الحالي:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:215,columnNumber:41},void 0),e.jsxDEV("span",{dir:"ltr",className:ce.balance>=0?"text-emerald-700":"text-rose-700",children:ce.balance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:216,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:214,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:201,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:"وذلك مقابل / البيان"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:221,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",value:u.description,onChange:t=>S({...u,description:t.target.value}),className:"w-full border-2 border-slate-200 bg-white text-slate-900 font-bold rounded-xl p-3 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 outline-none transition-all",placeholder:"شرح مختصر..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:222,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:220,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:200,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxDEV("div",{children:e.jsxDEV(he,{label:"المندوب (اختياري)",options:oe.map(t=>({id:t.id,label:t.name,subLabel:t.type})),value:u.salesmanId,onChange:t=>S({...u,salesmanId:t}),placeholder:"-- اختر المندوب --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:235,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:234,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:233,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:247,columnNumber:33},void 0),e.jsxDEV("select",{value:u.paymentMethod,onChange:t=>S({...u,paymentMethod:t.target.value}),className:"w-full border-2 border-slate-200 rounded-xl p-3 bg-white text-slate-900 font-bold focus:border-teal-500 focus:ring-2 focus:ring-teal-200 outline-none transition-all",children:[e.jsxDEV("option",{value:qe.CASH,children:"نقدي (Cash)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:253,columnNumber:37},void 0),e.jsxDEV("option",{value:qe.CHEQUE,children:"شيك (Cheque)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:254,columnNumber:37},void 0),e.jsxDEV("option",{value:qe.BANK,children:"تحويل بنكي (Bank Transfer)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:255,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:248,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:246,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:259,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:u.amount,onChange:t=>S({...u,amount:parseFloat(t.target.value)}),className:`w-full border-2 border-slate-200 rounded-xl p-3 pl-12 font-black text-xl focus:border-teal-500 focus:ring-2 focus:ring-teal-200 outline-none transition-all ${y==="ENDORSE"&&!P?"bg-slate-100 text-slate-500":"bg-white text-slate-900"}`,disabled:!P&&y==="ENDORSE"&&u.paymentMethod===qe.CHEQUE},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:261,columnNumber:37},void 0),e.jsxDEV("span",{className:"absolute left-4 top-3.5 text-slate-500 font-black text-lg",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:268,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:260,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:258,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:245,columnNumber:25},void 0),(u.paymentMethod==="BANK"||!P&&u.paymentMethod==="CHEQUE"&&y==="NEW")&&e.jsxDEV("div",{className:"animate-fade-in",children:e.jsxDEV(he,{label:P?"إلى حساب (البنك المستلم)":u.paymentMethod==="BANK"?"من حساب (البنك المصدر)":"مسحوب على بنك (My Bank)",options:ne.map(t=>({id:t.id,label:t.name,subLabel:t.accountNumber})),value:U,onChange:L,placeholder:"-- اختر البنك --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:276,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:275,columnNumber:29},void 0),u.paymentMethod===qe.CHEQUE&&e.jsxDEV("div",{className:"p-6 bg-white rounded-2xl border-2 border-slate-200 shadow-sm animate-fade-in",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"font-black text-slate-800 flex items-center gap-2 text-sm uppercase tracking-wider",children:[e.jsxDEV(Oe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:290,columnNumber:136},void 0)," بيانات الشيك"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:290,columnNumber:37},void 0),!P&&e.jsxDEV("div",{className:"flex bg-slate-100 border border-slate-200 rounded-lg p-1",children:[e.jsxDEV("button",{onClick:()=>Y("NEW"),className:`px-4 py-1.5 text-xs font-black rounded-md transition-all ${y==="NEW"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:text-slate-700"}`,children:"إصدار جديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:295,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>Y("ENDORSE"),className:`px-4 py-1.5 text-xs font-black rounded-md transition-all ${y==="ENDORSE"?"bg-amber-500 text-white shadow-md":"text-slate-500 hover:text-slate-700"}`,children:"تظهير شيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:301,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:294,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:289,columnNumber:33},void 0),y==="ENDORSE"&&!P?e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700",children:"اختر شيك من الخزنة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:313,columnNumber:41},void 0),e.jsxDEV(he,{options:j.map(t=>({id:t.id,label:`${t.amount.toLocaleString()} ج.م - ${t.bankName}`,subLabel:`#${t.number} | ${t.partnerName} | Due: ${t.dueDate}`})),value:p,onChange:a,placeholder:"-- اختر شيك متاح --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:314,columnNumber:41},void 0),j.length===0&&e.jsxDEV("p",{className:"text-sm font-bold text-rose-500 mt-1",children:"لا توجد شيكات متاحة للتظهير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:324,columnNumber:77},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:312,columnNumber:37},void 0):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"رقم الشيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:329,columnNumber:45},void 0),e.jsxDEV("input",{type:"text",placeholder:"رقم الشيك",value:u.chequeNumber,onChange:t=>S({...u,chequeNumber:t.target.value}),className:"w-full border-2 border-slate-200 bg-slate-50 text-slate-900 font-bold rounded-xl p-2.5 text-sm focus:border-teal-500 focus:bg-white transition-all"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:330,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:328,columnNumber:41},void 0),P&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"البنك المسحوب عليه"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:334,columnNumber:49},void 0),e.jsxDEV("input",{type:"text",placeholder:"اسم البنك",value:u.bankName,onChange:t=>S({...u,bankName:t.target.value}),className:"w-full border-2 border-slate-200 bg-slate-50 text-slate-900 font-bold rounded-xl p-2.5 text-sm focus:border-teal-500 focus:bg-white transition-all"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:335,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:333,columnNumber:45},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"تاريخ الاستحقاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:340,columnNumber:45},void 0),e.jsxDEV(ve,{placeholder:"تاريخ الاستحقاق",value:u.dueDate,onChange:t=>S({...u,dueDate:t})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:341,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:339,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:327,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:288,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:199,columnNumber:21},void 0),e.jsxDEV("div",{className:"md:col-span-4 space-y-4 bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-fit",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:352,columnNumber:29},void 0),e.jsxDEV(ve,{value:u.date,onChange:t=>S({...u,date:t})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:353,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:351,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"رقم مرجعي (يدوي)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:356,columnNumber:29},void 0),e.jsxDEV("input",{type:"text",value:u.referenceNumber,onChange:t=>S({...u,referenceNumber:t.target.value}),className:"w-full border-2 border-slate-200 bg-slate-50 text-slate-900 rounded-xl p-3 text-sm font-mono font-bold focus:border-teal-500 focus:bg-white transition-all",placeholder:"مثال: دفتر رقم 5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:357,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:355,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:350,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:197,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-10 flex justify-end border-t border-slate-200 pt-6",children:e.jsxDEV("button",{onClick:se,className:`w-full md:w-auto bg-gradient-to-r from-${J}-600 to-${J}-700 text-white px-10 py-4 rounded-xl font-black text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-3 transition-all`,children:[e.jsxDEV(sn,{size:24},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:364,columnNumber:25},void 0)," حفظ وترحيل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:363,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:362,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:186,columnNumber:13},void 0),K&&g&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-slate-900/90 flex items-center justify-center p-4 backdrop-blur-md animate-fade-in",children:e.jsxDEV("div",{className:"bg-white w-full max-w-3xl rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxDEV("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsxDEV("h3",{className:"font-black text-slate-800 flex items-center gap-2 text-xl",children:[e.jsxDEV(ke,{size:24,className:"text-teal-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:374,columnNumber:103},void 0)," معاينة السند"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:374,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>z(!1),className:"text-slate-400 hover:text-rose-500 transition-colors",children:e.jsxDEV(Fe,{size:28},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:375,columnNumber:138},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:375,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:373,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-100",children:e.jsxDEV("div",{className:"bg-white shadow-xl mx-auto p-12 text-slate-800 relative border border-slate-200 rounded-xl",style:{minHeight:"600px"},id:"voucher-print",children:[e.jsxDEV("div",{className:"text-center border-b-4 border-slate-800 pb-8 mb-10",children:[m?.logo&&e.jsxDEV("div",{className:"flex justify-center mb-4",children:e.jsxDEV("img",{src:m.logo,alt:m?.companyName||"شعار الشركة",className:"w-24 h-24 object-contain"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:385,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:384,columnNumber:41},void 0),e.jsxDEV("h1",{className:"text-3xl font-black mb-3 text-slate-900",children:m?.companyName||"DaftriX ERP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:392,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-base font-bold text-slate-500",children:m?.companyAddress||"القاهرة - التجمع الخامس - شارع التسعين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:393,columnNumber:37},void 0),m?.companyPhone&&e.jsxDEV("p",{className:"text-sm font-mono text-slate-500 mt-1",children:m.companyPhone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:394,columnNumber:68},void 0),e.jsxDEV("div",{className:"mt-6 inline-block px-10 py-3 border-4 border-slate-900 text-slate-900 font-black text-2xl rounded-xl uppercase tracking-widest",children:P?"سند قبض نقدية / شيكات":"سند صرف نقدية / شيكات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:395,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:381,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between mb-10",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex gap-3 text-lg",children:[e.jsxDEV("span",{className:"font-black w-24 text-slate-700",children:"التاريخ:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:402,columnNumber:77},void 0)," ",e.jsxDEV("span",{className:"font-bold",children:g.date},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:402,columnNumber:142},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:402,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex gap-3 text-lg",children:[e.jsxDEV("span",{className:"font-black w-24 text-slate-700",children:"رقم السند:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:403,columnNumber:77},void 0)," ",e.jsxDEV("span",{className:"font-mono font-bold bg-slate-100 px-2 rounded",children:g.id||"######"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:403,columnNumber:144},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:403,columnNumber:41},void 0),g.referenceNumber&&e.jsxDEV("div",{className:"flex gap-3 text-lg",children:[e.jsxDEV("span",{className:"font-black w-24 text-slate-700",children:"رقم مرجعي:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:404,columnNumber:109},void 0)," ",e.jsxDEV("span",{className:"font-bold",children:g.referenceNumber},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:404,columnNumber:176},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:404,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:401,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-4 border-slate-900 p-6 rounded-2xl min-w-[240px] text-center bg-slate-50",children:[e.jsxDEV("div",{className:"text-base text-slate-600 font-black mb-2 uppercase tracking-wider",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:407,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-3xl font-black text-slate-900",children:[g.amount.toLocaleString()," ",e.jsxDEV("span",{className:"text-lg text-slate-600",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:408,columnNumber:131},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:408,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:406,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:400,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-8 text-xl leading-relaxed",children:[e.jsxDEV("div",{className:"flex border-b-2 border-slate-100 pb-4",children:[e.jsxDEV("span",{className:"font-black min-w-[180px] text-slate-800",children:P?"استلمنا من:":"اصرفوا إلى:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:414,columnNumber:41},void 0),e.jsxDEV("span",{className:"flex-1 font-bold text-slate-900",children:g.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:415,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:413,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex border-b-2 border-slate-100 pb-4",children:[e.jsxDEV("span",{className:"font-black min-w-[180px] text-slate-800",children:"مبلغ وقدره:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:418,columnNumber:41},void 0),e.jsxDEV("span",{className:"flex-1 italic font-bold text-slate-600 bg-slate-50 px-4 py-1 rounded-lg",children:["فقط ",g.amount.toLocaleString()," جنيه مصري لا غير"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:419,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:417,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex border-b-2 border-slate-100 pb-4",children:[e.jsxDEV("span",{className:"font-black min-w-[180px] text-slate-800",children:"وذلك مقابل:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:422,columnNumber:41},void 0),e.jsxDEV("span",{className:"flex-1 font-bold text-slate-900",children:g.description},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:423,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:421,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex border-b-2 border-slate-100 pb-4",children:[e.jsxDEV("span",{className:"font-black min-w-[180px] text-slate-800",children:"طريقة الدفع:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:426,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1 flex gap-8",children:[e.jsxDEV("span",{className:"flex items-center gap-3 font-bold",children:[e.jsxDEV("span",{className:`w-6 h-6 border-2 border-slate-400 rounded-full flex items-center justify-center ${g.paymentMethod==="CASH"?"bg-slate-900 border-slate-900":""}`,children:g.paymentMethod==="CASH"&&e.jsxDEV("span",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:430,columnNumber:94},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:429,columnNumber:49},void 0)," نقدي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:428,columnNumber:45},void 0),e.jsxDEV("span",{className:"flex items-center gap-3 font-bold",children:[e.jsxDEV("span",{className:`w-6 h-6 border-2 border-slate-400 rounded-full flex items-center justify-center ${g.paymentMethod==="CHEQUE"?"bg-slate-900 border-slate-900":""}`,children:g.paymentMethod==="CHEQUE"&&e.jsxDEV("span",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:435,columnNumber:96},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:434,columnNumber:49},void 0)," شيك"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:433,columnNumber:45},void 0),e.jsxDEV("span",{className:"flex items-center gap-3 font-bold",children:[e.jsxDEV("span",{className:`w-6 h-6 border-2 border-slate-400 rounded-full flex items-center justify-center ${g.paymentMethod==="BANK"?"bg-slate-900 border-slate-900":""}`,children:g.paymentMethod==="BANK"&&e.jsxDEV("span",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:440,columnNumber:94},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:439,columnNumber:49},void 0)," تحويل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:438,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:427,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:425,columnNumber:37},void 0),g.paymentMethod==="BANK"&&g.sourceBankName&&e.jsxDEV("div",{className:"bg-slate-100 p-6 rounded-xl text-base flex justify-between border border-slate-200",children:e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-black text-slate-800",children:P?"على حسابنا في بنك:":"من حسابنا في بنك:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:449,columnNumber:50},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-900",children:g.sourceBankName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:449,columnNumber:158},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:449,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:448,columnNumber:41},void 0),g.paymentMethod==="CHEQUE"&&e.jsxDEV("div",{className:"bg-slate-100 p-6 rounded-xl text-base grid grid-cols-3 gap-6 border border-slate-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-black text-slate-800",children:"رقم الشيك:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:455,columnNumber:50},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-900",children:g.chequeNumber},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:455,columnNumber:112},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:455,columnNumber:45},void 0),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-black text-slate-800",children:"البنك:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:456,columnNumber:50},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-900",children:g.bankName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:456,columnNumber:108},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:456,columnNumber:45},void 0),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-black text-slate-800",children:"الاستحقاق:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:457,columnNumber:50},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-900",children:g.dueDate},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:457,columnNumber:112},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:457,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:454,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:412,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-20 grid grid-cols-3 gap-12 text-center text-base",children:[e.jsxDEV("div",{className:"border-t-2 border-slate-300 pt-4",children:e.jsxDEV("div",{className:"font-black text-slate-800 mb-6",children:"المحاسب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:464,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:463,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-t-2 border-slate-300 pt-4",children:e.jsxDEV("div",{className:"font-black text-slate-800 mb-6",children:"المدير المالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:467,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:466,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-t-2 border-slate-300 pt-4",children:e.jsxDEV("div",{className:"font-black text-slate-800 mb-6",children:P?"المستلم":"المستفيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:470,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:469,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:462,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:379,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:378,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-5 border-t border-slate-100 bg-white flex justify-end gap-4",children:[e.jsxDEV("button",{onClick:()=>z(!1),className:"px-8 py-3 border-2 border-slate-200 rounded-xl text-slate-600 font-bold hover:bg-slate-50 transition-colors",children:"إغلاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:477,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>Ye("voucher-print","Voucher"),className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 flex items-center gap-3 shadow-xl hover:shadow-2xl transition-all",children:[e.jsxDEV(ke,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:478,columnNumber:245},void 0)," طباعة السند"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:478,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:476,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:372,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:371,columnNumber:17},void 0),e.jsxDEV(Je,{isOpen:_.isOpen,onClose:()=>ie(t=>({...t,isOpen:!1})),message:_.message,type:_.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:484,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/CashVoucher.tsx",lineNumber:157,columnNumber:9},void 0)},je=C=>{const B=Number(C);return isNaN(B)?"0.00":B.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},ge=C=>{const B=Number(C);return isNaN(B)?0:B},$e=C=>!C||C==="Unknown"||C==="N/A"?"غير محدد":C,Ae=C=>!C||C==="N/A"||C==="#N/A"?"---":C,Zn=({cheques:C,onAction:B,banks:te})=>{const[ne,re]=l.useState("RECEIVABLE"),[w,oe]=l.useState("PENDING"),[x,m]=l.useState(""),[u,S]=l.useState("ALL"),[U,L]=l.useState("ALL"),[y,Y]=l.useState(""),[p,a]=l.useState(""),[K,z]=l.useState(!1),[g,ae]=l.useState(null),[_,ie]=l.useState("asc"),[X,P]=l.useState(1),[b,J]=l.useState(100),[c,ce]=l.useState(!0),[j,se]=l.useState(null),[t,F]=l.useState(!1),[i,E]=l.useState([]),[N,v]=l.useState(null),[R,f]=l.useState(""),[Q,Z]=l.useState(Re()),[H,de]=l.useState(!1),[ee,fe]=l.useState(null),[Ne,n]=l.useState(""),h=r=>{E(A=>A.includes(r)?A.filter(d=>d!==r):[...A,r])},Ee=r=>{const d=(r?me.filter(W=>W.status===r):me).map(W=>W.id),T=d.every(W=>i.includes(W));E(T?W=>W.filter(ue=>!d.includes(ue)):W=>[...new Set([...W,...d])])},me=l.useMemo(()=>C.filter(r=>{const A=r.type===ne,d=r.number?.includes(x)||r.partnerName?.toLowerCase().includes(x.toLowerCase())||ge(r.amount).toString().includes(x),T=u==="ALL"||r.bankName===u,W=U==="ALL"||r.status===U,ue=(!y||r.dueDate>=y)&&(!p||r.dueDate<=p);return A&&d&&T&&W&&ue}),[C,ne,x,u,U,y,p]),be=te.map(r=>r.name).filter(Boolean),Ce={PENDING:{label:ne==="RECEIVABLE"?"بالخزنة (Pending)":"شيكات صادرة (Issued)",color:"slate",icon:we},UNDER_COLLECTION:{label:"برسم التحصيل (In Bank)",color:"blue",icon:we},COLLECTED:{label:"تم التحصيل (Collected)",color:"emerald",icon:De},CASHED:{label:"تم الصرف (Cashed)",color:"emerald",icon:De},ENDORSED:{label:"تم التظهير (Endorsed)",color:"amber",icon:dn},BOUNCED:{label:"مرتجعة (Bounced)",color:"rose",icon:Be}},Pe=r=>{const A=new Date;A.setHours(0,0,0,0);const d=new Date(r);d.setHours(0,0,0,0);const T=Math.floor((d.getTime()-A.getTime())/(1e3*60*60*24));return T<0?{bg:"bg-rose-50",text:"text-rose-700",badge:"متأخر"}:T===0?{bg:"bg-orange-50",text:"text-orange-700",badge:"مستحق اليوم"}:T<=7?{bg:"bg-amber-50",text:"text-amber-700",badge:"قريب"}:{bg:"bg-emerald-50",text:"text-emerald-700",badge:"مستقبلي"}},pe=r=>{g===r?ie(_==="asc"?"desc":"asc"):(ae(r),ie("asc")),P(1)},o=l.useMemo(()=>g?[...me].sort((r,A)=>{let d,T;switch(g){case"amount":d=ge(r.amount),T=ge(A.amount);break;case"dueDate":d=new Date(r.dueDate).getTime(),T=new Date(A.dueDate).getTime();break;case"partnerName":d=r.partnerName?.toLowerCase()||"",T=A.partnerName?.toLowerCase()||"";break;case"bankName":d=r.bankName?.toLowerCase()||"",T=A.bankName?.toLowerCase()||"";break;default:return 0}return d<T?_==="asc"?-1:1:d>T?_==="asc"?1:-1:0}):me,[me,g,_]),I=l.useMemo(()=>{if(!c)return o;const r=(X-1)*b;return o.slice(r,r+b)},[o,X,b,c]),V=Math.ceil(o.length/b),$=l.useMemo(()=>{const r={};return I.forEach(A=>{r[A.status]||(r[A.status]=[]),r[A.status].push(A)}),r},[I]),G=()=>{const r=o.map(ue=>({"رقم الشيك":Ae(ue.number),"تاريخ الاستحقاق":ue.dueDate.split("T")[0].split("-").reverse().join("/"),"الطرف المستفيد":ue.partnerName,"البنك المسحوب عليه":$e(ue.bankName),المبلغ:ge(ue.amount),الحالة:Ce[ue.status]?.label||ue.status})),A=Ve.utils.json_to_sheet(r),d=Ve.utils.book_new();d.Workbook||(d.Workbook={}),d.Workbook.Views||(d.Workbook.Views=[]),d.Workbook.Views[0]||(d.Workbook.Views[0]={}),d.Workbook.Views[0].RTL=!0,Ve.utils.book_append_sheet(d,A,"الشيكات");const W=`شيكات_${ne==="RECEIVABLE"?"وارد":"صادر"}_${Re()}.xlsx`;Ve.writeFile(d,W)},q=()=>{Y(""),a("")},O=({column:r})=>g!==r?e.jsxDEV(Jn,{size:14,className:"opacity-30"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:264,columnNumber:43},void 0):_==="asc"?e.jsxDEV(an,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:265,columnNumber:42},void 0):e.jsxDEV(un,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:265,columnNumber:66},void 0),D=(r,A)=>{const d=Array.isArray(r)?r:[r];A===xe.UNDER_COLLECTION||A===xe.COLLECTED||A===xe.CASHED?(fe({cheques:d,action:A}),de(!0)):B(d,A)},s=()=>{!Ne||!ee||(B(ee.cheques,ee.action,Ne),de(!1),fe(null),n(""),E([]))},k=()=>{if(!N)return;const r={...N,bounceReason:R};B(r,xe.BOUNCED),v(null),f("")},M=()=>{if(i.length===0)return;const r=C.filter(W=>i.includes(W.id)),A=r.map((W,ue)=>`
            <tr class="border-b">
                <td class="p-2">${ue+1}</td>
                <td class="p-2 font-bold">${Ae(W.number)}</td>
                <td class="p-2">${$e(W.bankName)}</td>
                <td class="p-2">${W.partnerName}</td>
                <td class="p-2">${W.dueDate}</td>
                <td class="p-2 font-bold text-right">${je(ge(W.amount))}</td>
            </tr>
        `).join(""),d=r.reduce((W,ue)=>W+ge(ue.amount),0),T=`
            <div style="direction: rtl; font-family: 'Cairo', sans-serif; padding: 20px;">
                <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px;">
                    <h2 style="margin:0;">حافظة إيداع شيكات (Check Manifest)</h2>
                    <p>تاريخ الطباعة: ${Re().split("-").reverse().join("/")}</p>
                </div>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px;">
                    <thead style="background: #f3f4f6;">
                        <tr>
                            <th style="padding: 8px; text-align: right; border: 1px solid #ddd;">م</th>
                            <th style="padding: 8px; text-align: right; border: 1px solid #ddd;">رقم الشيك</th>
                            <th style="padding: 8px; text-align: right; border: 1px solid #ddd;">البنك المسحوب عليه</th>
                            <th style="padding: 8px; text-align: right; border: 1px solid #ddd;">العميل</th>
                            <th style="padding: 8px; text-align: right; border: 1px solid #ddd;">تاريخ الاستحقاق</th>
                            <th style="padding: 8px; text-align: left; border: 1px solid #ddd;">المبلغ</th>
                        </tr>
                    </thead>
                    <tbody>${A}</tbody>
                    <tfoot>
                        <tr style="background: #e5e7eb; font-weight: bold;">
                            <td colspan="5" style="padding: 10px; text-align: center;">الإجمالي (${r.length} شيك)</td>
                            <td style="padding: 10px; text-align: right;">${je(d)}</td>
                        </tr>
                    </tfoot>
                </table>
                <div style="margin-top: 40px; display: flex; justify-content: space-between;">
                    <div>توقيع المستلم (البنك): ....................</div>
                    <div>توقيع المسؤول: ....................</div>
                </div>
            </div>
        `;Ye("manifest-print","Hafza",T)},le=r=>{if(i.length===0)return;const A=C.filter(d=>i.includes(d.id));D(A,r)};return e.jsxDEV("div",{className:"space-y-4 md:space-y-6 min-h-screen md:min-h-0 md:h-[calc(100vh-100px)] flex flex-col animate-fade-in pb-20 md:pb-0",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-violet-600 p-5 md:p-8 rounded-2xl md:rounded-3xl shadow-xl relative overflow-hidden shrink-0",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:360,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:361,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10",children:e.jsxDEV("div",{className:"flex items-center gap-3 md:gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/10 backdrop-blur-md rounded-xl md:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(Oe,{size:24,className:"text-white md:w-8 md:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:366,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:365,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("h1",{className:"text-2xl md:text-4xl font-black tracking-tight drop-shadow-sm",children:"إدارة الشيكات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:369,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-white/90 text-sm md:text-base font-bold mt-1 opacity-95",children:"Cheque Management System"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:370,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:368,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:364,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:363,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:358,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col gap-4 shrink-0",children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"flex-1 bg-slate-50 p-1.5 rounded-2xl border border-slate-200 shadow-sm flex flex-col md:flex-row items-stretch md:items-center gap-2 focus-within:ring-2 focus-within:ring-indigo-100 transition-all",children:[e.jsxDEV("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsxDEV("div",{className:"relative flex-1 group",children:[e.jsxDEV(tn,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors",size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:387,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث برقم الشيك، العميل...",value:x,onChange:r=>m(r.target.value),className:"w-full pl-4 pr-12 py-3 bg-transparent text-sm md:text-base outline-none font-medium text-slate-700 placeholder:text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:388,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:386,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>F(!t),className:`md:hidden p-3 rounded-xl border border-slate-200 shadow-sm transition-colors ${t?"bg-indigo-50 text-indigo-600 border-indigo-200":"bg-white text-slate-500"}`,children:e.jsxDEV(We,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:400,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:396,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:385,columnNumber:25},void 0),e.jsxDEV("div",{className:`${t?"flex":"hidden"} md:flex flex-col md:flex-row gap-2 w-full md:w-auto`,children:[e.jsxDEV("div",{className:"hidden md:block w-px h-8 bg-slate-200 my-auto"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:406,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full md:w-48",children:e.jsxDEV("select",{value:u,onChange:r=>S(r.target.value),className:"w-full bg-transparent px-4 py-3 md:py-2 text-sm outline-none font-bold text-slate-600 cursor-pointer hover:bg-slate-50 rounded-xl transition-colors border-t md:border-t-0 md:border-0 border-slate-200 h-full border rounded-xl md:rounded-none mt-2 md:mt-0",children:[e.jsxDEV("option",{value:"ALL",children:"كل البنوك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:409,columnNumber:37},void 0),be.map((r,A)=>e.jsxDEV("option",{value:r,children:r},`bank-${A}-${r}`,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:410,columnNumber:71},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:408,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:407,columnNumber:29},void 0),e.jsxDEV("div",{className:"hidden md:block w-px h-8 bg-slate-200 my-auto"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:413,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full md:w-48",children:e.jsxDEV("select",{value:U,onChange:r=>L(r.target.value),className:"w-full bg-transparent px-4 py-3 md:py-2 text-sm outline-none font-bold text-slate-600 cursor-pointer hover:bg-slate-50 rounded-xl transition-colors border-t md:border-t-0 md:border-0 border-slate-200 h-full border rounded-xl md:rounded-none mt-2 md:mt-0",children:[e.jsxDEV("option",{value:"ALL",children:"كل الحالات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:416,columnNumber:37},void 0),Object.entries(Ce).map(([r,A])=>e.jsxDEV("option",{value:r,children:A.label},r,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:418,columnNumber:41},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:415,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:414,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:405,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:384,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxDEV("div",{className:"bg-slate-100 p-1 rounded-xl border border-slate-200 flex shrink-0 relative order-2 md:order-1",children:[e.jsxDEV("button",{onClick:()=>{re("RECEIVABLE"),E([])},className:`flex-1 md:flex-none relative z-10 px-4 md:px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex justify-center items-center gap-2 ${ne==="RECEIVABLE"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[e.jsxDEV(un,{size:16,className:ne==="RECEIVABLE"?"text-indigo-500":"opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:433,columnNumber:33},void 0),e.jsxDEV("span",{className:"whitespace-nowrap",children:"واردة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:434,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:429,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{re("PAYABLE"),E([])},className:`flex-1 md:flex-none relative z-10 px-4 md:px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex justify-center items-center gap-2 ${ne==="PAYABLE"?"bg-white text-rose-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[e.jsxDEV(an,{size:16,className:ne==="PAYABLE"?"text-rose-500":"opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:440,columnNumber:33},void 0),e.jsxDEV("span",{className:"whitespace-nowrap",children:"صادرة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:441,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:436,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:428,columnNumber:25},void 0),e.jsxDEV("div",{className:`${t?"flex":"hidden"} md:flex gap-2 relative order-1 md:order-2 flex-col md:flex-row`,children:[e.jsxDEV("button",{onClick:()=>z(!K),className:`flex-1 md:flex-none justify-center px-4 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 border-2 whitespace-nowrap ${K||y||p?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:[e.jsxDEV(Me,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:455,columnNumber:33},void 0),e.jsxDEV("span",{className:"md:hidden",children:"تاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:456,columnNumber:33},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:"تاريخ الاستحقاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:457,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:448,columnNumber:29},void 0),e.jsxDEV("button",{onClick:G,className:"flex-1 md:flex-none justify-center px-4 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 bg-emerald-50 text-emerald-700 border-2 border-emerald-200 hover:bg-emerald-100 whitespace-nowrap",children:[e.jsxDEV(nn,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:465,columnNumber:33},void 0),e.jsxDEV("span",{className:"md:hidden",children:"Excel"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:466,columnNumber:33},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:"تصدير Excel"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:467,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:461,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:446,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:426,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:382,columnNumber:17},void 0),K&&e.jsxDEV("div",{className:"bg-white p-4 rounded-2xl border border-blue-200 shadow-sm animate-fade-in",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row items-end gap-4",children:[e.jsxDEV("div",{className:"w-full md:w-auto",children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"من تاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:478,columnNumber:33},void 0),e.jsxDEV(ve,{value:y,onChange:Y},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:479,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:477,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-full md:w-auto",children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"إلى تاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:482,columnNumber:33},void 0),e.jsxDEV(ve,{value:p,onChange:a},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:483,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:481,columnNumber:29},void 0),e.jsxDEV("button",{onClick:q,className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold hover:bg-slate-200 transition-colors h-[38px]",children:"مسح"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:485,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:476,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:475,columnNumber:21},void 0),e.jsxDEV("div",{className:`${t?"flex":"hidden"} md:flex flex-col md:flex-row justify-between items-center gap-3 md:gap-4 bg-white p-3 md:p-2 rounded-xl border border-slate-200 shadow-sm shrink-0`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 w-full md:w-auto justify-between md:justify-start",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-slate-500 font-bold",children:"عرض"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:494,columnNumber:29},void 0),e.jsxDEV("select",{value:b,onChange:r=>{J(Number(r.target.value)),P(1)},className:"bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5 text-xs font-bold outline-none focus:border-indigo-400",children:[e.jsxDEV("option",{value:20,children:"20"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:503,columnNumber:33},void 0),e.jsxDEV("option",{value:50,children:"50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:504,columnNumber:33},void 0),e.jsxDEV("option",{value:100,children:"100"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:505,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:495,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs text-slate-500 font-bold",children:"في الصفحة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:493,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-[10px] bg-slate-100 px-2 py-1 rounded text-slate-500 font-bold md:hidden",children:[(X-1)*b+1," - ",Math.min(X*b,o.length)," من ",o.length]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:509,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:492,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 w-full md:w-auto justify-center md:justify-end",dir:"ltr",children:[e.jsxDEV("button",{onClick:()=>P(1),disabled:X===1,className:"p-2 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:hover:bg-transparent transition-colors border border-transparent hover:border-slate-200",title:"First Page",children:e.jsxDEV(Ln,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:521,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:515,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>P(r=>Math.max(r-1,1)),disabled:X===1,className:"p-2 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:hover:bg-transparent transition-colors border border-transparent hover:border-slate-200",title:"Previous Page",children:e.jsxDEV(xn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:529,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:523,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs font-bold text-slate-600 min-w-[80px] text-center bg-slate-50 py-1.5 rounded-lg border border-slate-100 mx-1",children:[X," / ",V||1]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:532,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>P(r=>Math.min(r+1,V)),disabled:X===V||V===0,className:"p-2 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:hover:bg-transparent transition-colors border border-transparent hover:border-slate-200",title:"Next Page",children:e.jsxDEV(Rn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:542,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:536,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>P(V),disabled:X===V||V===0,className:"p-2 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:hover:bg-transparent transition-colors border border-transparent hover:border-slate-200",title:"Last Page",children:e.jsxDEV(qn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:550,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:544,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:514,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:491,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:380,columnNumber:13},void 0),e.jsxDEV("div",{className:`flex-1 min-h-0 relative bg-white rounded-2xl shadow-sm border border-slate-200 md:overflow-hidden flex flex-col ${t?"opacity-50 pointer-events-none md:opacity-100 md:pointer-events-auto":""}`,children:[e.jsxDEV("div",{className:"shrink-0 flex items-center gap-3 p-4 bg-slate-50/50 backdrop-blur-xl border-b border-slate-200 overflow-x-auto no-scrollbar scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Object.entries($).map(([r,A])=>{const d=A,T=Ce[r]||{label:r,color:"slate",icon:we},W=d.reduce((Ze,vn)=>Ze+ge(vn.amount),0),ue=T.icon,ye=w===r;return e.jsxDEV("button",{onClick:()=>oe(r),className:`
                                    relative flex flex-col md:flex-row items-center md:items-center gap-2 md:gap-2 
                                    p-3 md:px-3 md:py-2 
                                    rounded-2xl md:rounded-lg 
                                    transition-all whitespace-nowrap border group overflow-hidden 
                                    min-w-[130px] md:min-w-0
                                    flex-shrink-0 snap-start
                                    text-center md:text-right
                                    ${ye?`bg-white border-${T.color}-200 text-${T.color}-700 shadow-lg shadow-${T.color}-100/50 md:shadow-sm ring-1 ring-${T.color}-200 md:ring-0`:"bg-white border-transparent text-slate-500 hover:bg-white hover:border-slate-200 shadow-sm"}
                                `,children:[e.jsxDEV("div",{className:`p-2 md:p-1 rounded-xl md:rounded-md transition-colors shrink-0 ${ye?`bg-${T.color}-50`:"bg-slate-100 group-hover:bg-slate-200"}`,children:e.jsxDEV(ue,{size:20,className:"md:w-[14px] md:h-[14px]",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:585,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:584,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex flex-col items-center md:items-start w-full",children:[e.jsxDEV("div",{className:`text-sm md:text-xs font-black md:font-bold leading-tight mb-0.5 md:mb-0 ${ye?`text-${T.color}-800`:"text-slate-600"}`,children:T.label},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:588,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-[10px] md:text-[9px] opacity-90 font-mono font-bold flex flex-col md:flex-row items-center md:gap-1",children:[e.jsxDEV("span",{className:"bg-slate-100 px-1.5 rounded text-slate-600 mb-0.5 md:mb-0",children:d.length},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:590,columnNumber:41},void 0),e.jsxDEV("span",{className:"md:hidden opacity-0 h-0"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:591,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-[11px] md:text-[9px]",children:je(W)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:592,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:589,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:587,columnNumber:33},void 0),ye&&e.jsxDEV("div",{className:`absolute bottom-0 left-0 w-full h-1 md:h-0.5 bg-${T.color}-500 rounded-b-2xl`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:595,columnNumber:46},void 0)]},r,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:568,columnNumber:29},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:559,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1 md:overflow-auto",children:(()=>{const r=$[w]||[],A=r.reduce((d,T)=>d+ge(T.amount),0);return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"md:hidden px-4 pt-4 pb-2 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-xs font-bold text-slate-500",children:[r.length," شيك • ",je(A)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:612,columnNumber:37},void 0),r.length>0&&e.jsxDEV("button",{onClick:()=>Ee(w),className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 transition-colors",children:r.every(d=>i.includes(d.id))?"إلغاء الكل":"تحديد الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:614,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:611,columnNumber:33},void 0),e.jsxDEV("div",{className:"md:hidden p-4 space-y-4",children:r.length>0?r.map(d=>{const T=Pe(d.dueDate);Ce[d.status];const W=i.includes(d.id);return e.jsxDEV("div",{className:`rounded-xl border p-4 transition-all shadow-sm relative overflow-hidden ${W?"border-indigo-300 bg-indigo-50/50":"border-slate-200 bg-white"}`,children:[e.jsxDEV("div",{className:`absolute top-0 right-0 w-1 pt-1 h-full ${d.type==="RECEIVABLE"?"bg-indigo-500":"bg-rose-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:633,columnNumber:53},void 0),e.jsxDEV("div",{className:"flex justify-between items-start mb-3 pr-2",children:[e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"relative pt-1",children:[e.jsxDEV("input",{type:"checkbox",checked:W,onChange:()=>h(d.id),className:"appearance-none w-6 h-6 border-2 border-slate-300 rounded-lg bg-white checked:bg-indigo-600 checked:border-indigo-600 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all cursor-pointer relative z-10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:638,columnNumber:65},void 0),W&&e.jsxDEV("div",{className:"absolute top-1 left-0 w-6 h-6 flex items-center justify-center pointer-events-none z-20 text-white",children:e.jsxDEV(De,{size:14,fill:"currentColor",className:"text-white"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:646,columnNumber:73},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:645,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:637,columnNumber:61},void 0),e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>se(d),className:"font-mono text-sm font-black text-indigo-600 hover:underline flex items-center gap-1",children:["#",Ae(d.number),e.jsxDEV("div",{className:`px-1.5 py-0.5 rounded text-[9px] font-bold ${T.bg} ${T.text}`,children:T.badge},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:656,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:651,columnNumber:65},void 0),e.jsxDEV("div",{className:"font-bold text-slate-800 text-sm mt-1",children:d.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:660,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:650,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:636,columnNumber:57},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"font-black text-base text-slate-800 font-mono tracking-tight",dir:"ltr",children:je(ge(d.amount))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:664,columnNumber:61},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 font-bold mt-1 bg-slate-100 px-1.5 py-0.5 rounded text-center inline-block min-w-[60px]",children:d.dueDate.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:667,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:663,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:635,columnNumber:53},void 0),e.jsxDEV("div",{className:"bg-slate-50 p-2.5 rounded-lg border border-slate-100 pr-2",children:e.jsxDEV("div",{className:"flex justify-between items-center text-xs",children:[e.jsxDEV("span",{className:"text-slate-500 font-bold",children:"البنك:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:675,columnNumber:61},void 0),e.jsxDEV("span",{className:"font-bold text-slate-700",children:$e(d.bankName)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:676,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:674,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:673,columnNumber:53},void 0),e.jsxDEV("div",{className:"mt-3 flex gap-2 overflow-x-auto pb-1 scrollbar-hide pr-2",children:[d.type==="RECEIVABLE"&&d.status==="PENDING"&&e.jsxDEV("button",{onClick:()=>D(d,xe.UNDER_COLLECTION),className:"flex-1 py-2 px-3 rounded-lg bg-blue-600 text-white font-bold text-xs shadow-sm hover:bg-blue-700 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(Ue,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:686,columnNumber:65},void 0)," إيداع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:682,columnNumber:61},void 0),d.type==="RECEIVABLE"&&d.status==="UNDER_COLLECTION"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>D(d,xe.COLLECTED),className:"flex-1 py-2 px-3 rounded-lg bg-emerald-500 text-white font-bold text-xs shadow-sm hover:bg-emerald-600 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(De,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:695,columnNumber:69},void 0)," تحصيل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:691,columnNumber:65},void 0),e.jsxDEV("button",{onClick:()=>v(d),className:"flex-1 py-2 px-3 rounded-lg bg-rose-50 text-rose-600 border border-rose-200 font-bold text-xs hover:bg-rose-100 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(Be,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:701,columnNumber:69},void 0)," رفض"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:697,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:690,columnNumber:61},void 0),d.type==="PAYABLE"&&d.status==="PENDING"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>D(d,xe.CASHED),className:"flex-1 py-2 px-3 rounded-lg bg-emerald-600 text-white font-bold text-xs shadow-sm hover:bg-emerald-700 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(De,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:711,columnNumber:69},void 0)," صرف"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:707,columnNumber:65},void 0),e.jsxDEV("button",{onClick:()=>v(d),className:"flex-1 py-2 px-3 rounded-lg bg-rose-50 text-rose-600 border border-rose-200 font-bold text-xs hover:bg-rose-100 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(Be,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:717,columnNumber:69},void 0)," ارتجاع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:713,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:706,columnNumber:61},void 0),d.type==="RECEIVABLE"&&d.status==="ENDORSED"&&e.jsxDEV("button",{onClick:()=>v(d),className:"flex-1 py-2 px-3 rounded-lg bg-rose-50 text-rose-600 border border-rose-200 font-bold text-xs hover:bg-rose-100 flex justify-center items-center gap-1 whitespace-nowrap",children:[e.jsxDEV(Be,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:726,columnNumber:65},void 0)," ارتجاع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:722,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:680,columnNumber:53},void 0)]},d.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:632,columnNumber:49},void 0)}):e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[e.jsxDEV(we,{size:48,className:"mb-3 opacity-30"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:735,columnNumber:45},void 0),e.jsxDEV("p",{className:"font-bold text-center",children:"لا توجد شيكات في هذه الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:736,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:734,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:624,columnNumber:33},void 0),e.jsxDEV("div",{className:"hidden md:block",children:r.length>0?e.jsxDEV("table",{className:"w-full text-sm text-right border-separate border-spacing-y-1 px-2",children:[e.jsxDEV("thead",{className:"bg-slate-800 text-white font-bold sticky top-0 z-[9] shadow-sm",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4 w-10 rounded-r-xl",children:e.jsxDEV("input",{type:"checkbox",checked:r.length>0&&r.every(d=>i.includes(d.id)),onChange:()=>Ee(w),className:"rounded-md border-slate-500 w-5 h-5 text-indigo-500 focus:ring-indigo-400 transition-all cursor-pointer accent-indigo-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:748,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:747,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4",children:e.jsxDEV("button",{onClick:()=>se(r[0]),className:"flex items-center gap-1 hover:text-indigo-200 transition-colors",children:"رقم الشيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:756,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:755,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4",children:e.jsxDEV("button",{onClick:()=>pe("dueDate"),className:"flex items-center gap-1 hover:text-indigo-200 transition-colors w-full",children:["تاريخ الاستحقاق",e.jsxDEV(O,{column:"dueDate"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:769,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:764,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:763,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4",children:e.jsxDEV("button",{onClick:()=>pe("partnerName"),className:"flex items-center gap-1 hover:text-indigo-200 transition-colors",children:["الطرف المستفيد",e.jsxDEV(O,{column:"partnerName"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:778,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:773,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:772,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4",children:e.jsxDEV("button",{onClick:()=>pe("bankName"),className:"flex items-center gap-1 hover:text-indigo-200 transition-colors",children:["البنك",e.jsxDEV(O,{column:"bankName"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:787,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:782,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:781,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4",children:e.jsxDEV("button",{onClick:()=>pe("amount"),className:"flex items-center gap-1 hover:text-indigo-200 transition-colors",children:["المبلغ",e.jsxDEV(O,{column:"amount"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:796,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:791,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:790,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4 text-right",children:"أنشأ بواسطة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:799,columnNumber:53},void 0),e.jsxDEV("th",{className:"p-4 text-center rounded-l-xl",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:800,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:746,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:745,columnNumber:45},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-50",children:r.map((d,T)=>{const W=Pe(d.dueDate),ue=T%2===0?"bg-slate-50":"bg-indigo-100/60";return e.jsxDEV("tr",{className:`${ue} group transition-all duration-200 hover:brightness-95 hover:scale-[1.002] ${i.includes(d.id)?"bg-indigo-100 shadow-sm":""}`,style:{animationDelay:`${T*50}ms`},children:[e.jsxDEV("td",{className:"p-4 rounded-r-xl",children:e.jsxDEV("input",{type:"checkbox",checked:i.includes(d.id),onChange:()=>h(d.id),className:"rounded-md border-slate-300 w-5 h-5 text-indigo-600 focus:ring-indigo-500 transition-all cursor-pointer"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:814,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:813,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4 font-mono text-slate-800 font-black text-base",children:e.jsxDEV("button",{onClick:()=>se(d),className:"flex items-center gap-2 hover:text-indigo-600 transition-colors group/btn",children:["#",Ae(d.number),e.jsxDEV(Pn,{size:16,className:"opacity-0 group-hover/btn:opacity-100 transition-all text-indigo-500 -translate-x-2 group-hover/btn:translate-x-0"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:822,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:817,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:816,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold shadow-sm ${W.bg} ${W.text}`,children:W.badge},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:827,columnNumber:69},void 0),e.jsxDEV("span",{className:"font-mono text-xs text-slate-600 font-bold",children:d.dueDate.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:830,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:826,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:825,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4 font-black text-slate-900",children:d.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:835,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4 text-slate-600 text-sm font-bold",children:$e(d.bankName)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:836,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4 font-black text-indigo-700 font-mono text-lg",children:je(ge(d.amount))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:837,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center border border-slate-200",children:e.jsxDEV(An,{size:12,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:841,columnNumber:73},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:840,columnNumber:69},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-slate-600",children:d.createdBy||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:843,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:839,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:838,columnNumber:61},void 0),e.jsxDEV("td",{className:"p-4 rounded-l-xl",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[d.type==="RECEIVABLE"&&d.status==="PENDING"&&e.jsxDEV("button",{onClick:()=>D(d,xe.UNDER_COLLECTION),className:"p-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white border border-blue-200 hover:border-blue-600 transition-all shadow-sm",title:"إيداع",children:e.jsxDEV(Ue,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:850,columnNumber:77},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:849,columnNumber:73},void 0),d.type==="RECEIVABLE"&&d.status==="UNDER_COLLECTION"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>D(d,xe.COLLECTED),className:"p-2 rounded-xl bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white border border-emerald-200 hover:border-emerald-600 transition-all shadow-sm",title:"تحصيل",children:e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:856,columnNumber:81},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:855,columnNumber:77},void 0),e.jsxDEV("button",{onClick:()=>v(d),className:"p-2 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white border border-rose-200 hover:border-rose-600 transition-all shadow-sm",title:"رفض",children:e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:859,columnNumber:81},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:858,columnNumber:77},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:854,columnNumber:73},void 0),d.type==="PAYABLE"&&d.status==="PENDING"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>D(d,xe.CASHED),className:"p-2 rounded-xl bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white border border-emerald-200 hover:border-emerald-600 transition-all shadow-sm",title:"تم الصرف",children:e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:866,columnNumber:81},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:865,columnNumber:77},void 0),e.jsxDEV("button",{onClick:()=>v(d),className:"p-2 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white border border-rose-200 hover:border-rose-600 transition-all shadow-sm",title:"ارتجاع",children:e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:869,columnNumber:81},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:868,columnNumber:77},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:864,columnNumber:73},void 0),d.type==="RECEIVABLE"&&d.status==="ENDORSED"&&e.jsxDEV("button",{onClick:()=>v(d),className:"p-2 rounded-xl bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white border border-rose-200 hover:border-rose-600 transition-all shadow-sm",title:"ارتجاع (من المورد)",children:e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:875,columnNumber:77},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:874,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:847,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:846,columnNumber:61},void 0)]},d.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:808,columnNumber:57},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:803,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:744,columnNumber:41},void 0):e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-96 text-slate-400",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-6 animate-pulse",children:e.jsxDEV(zn,{size:48,className:"text-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:888,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:887,columnNumber:45},void 0),e.jsxDEV("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:"لا توجد شيكات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:890,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-slate-500 max-w-xs text-center",children:"لا توجد شيكات تطابق معايير البحث أو الفلترة الحالية."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:891,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>{m(""),S("ALL"),L("ALL")},className:"mt-6 px-6 py-2 bg-indigo-50 text-indigo-600 rounded-xl font-bold hover:bg-indigo-100 transition-colors",children:"مسح الفلاتر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:892,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:886,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:742,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:609,columnNumber:29},void 0)})()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:602,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:557,columnNumber:13},void 0),i.length>0&&e.jsxDEV("div",{className:"absolute bottom-4 left-4 right-4 md:left-1/2 md:right-auto md:-translate-x-1/2 bg-slate-900/90 backdrop-blur-md text-white p-3 md:p-2 md:pl-6 md:pr-2 rounded-2xl shadow-2xl flex flex-col md:flex-row items-center gap-4 md:gap-6 animate-fade-in z-50 border border-white/10 ring-1 ring-black/5",children:[e.jsxDEV("div",{className:"flex items-center justify-between w-full md:w-auto gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"bg-indigo-500 w-10 h-10 rounded-xl flex items-center justify-center font-bold text-base shadow-lg shadow-indigo-500/30",children:i.length},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:912,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-sm font-bold text-white",children:"شيكات محددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:914,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-[10px] text-slate-400 font-medium",children:"إجراءات جماعية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:915,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:913,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:911,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>E([]),className:"md:hidden w-8 h-8 flex items-center justify-center text-slate-400 hover:text-white bg-white/10 rounded-lg transition-colors",children:e.jsxDEV(Fe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:918,columnNumber:208},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:918,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:910,columnNumber:21},void 0),e.jsxDEV("div",{className:"hidden md:block h-10 w-px bg-white/10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:921,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 justify-start md:justify-center scrollbar-hide",children:[ne==="RECEIVABLE"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2.5 bg-white/10 text-white rounded-xl text-sm font-bold hover:bg-white/20 transition-all border border-white/5 whitespace-nowrap",children:[e.jsxDEV(ke,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:926,columnNumber:248},void 0)," طباعة حافظة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:926,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>le(xe.UNDER_COLLECTION),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-500 transition-all shadow-lg shadow-blue-900/20 whitespace-nowrap",children:[e.jsxDEV(Ue,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:927,columnNumber:285},void 0)," إيداع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:927,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>le(xe.COLLECTED),className:"flex items-center gap-2 px-4 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-500 transition-all shadow-lg shadow-emerald-900/20 whitespace-nowrap",children:[e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:928,columnNumber:287},void 0)," تحصيل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:928,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:925,columnNumber:29},void 0),ne==="PAYABLE"&&e.jsxDEV("button",{onClick:()=>le(xe.CASHED),className:"flex items-center gap-2 px-4 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-500 transition-all shadow-lg shadow-emerald-900/20 whitespace-nowrap",children:[e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:932,columnNumber:280},void 0)," تم الصرف"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:932,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>E([]),className:"hidden md:flex w-10 h-10 items-center justify-center text-slate-400 hover:text-white hover:bg-white/10 rounded-xl ml-2 transition-colors",children:e.jsxDEV(Fe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:934,columnNumber:221},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:934,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:923,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:909,columnNumber:17},void 0),j&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>se(null),children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-fade-in border border-slate-200",onClick:r=>r.stopPropagation(),children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-indigo-50 to-blue-50 flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:e.jsxDEV(Oe,{size:24,className:"text-indigo-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:947,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:946,columnNumber:37},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 text-xl flex items-center gap-2",children:["شيك رقم #",Ae(j.number)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:950,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:"عرض سريع للتفاصيل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:953,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:949,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:945,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>se(null),className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:e.jsxDEV(Fe,{size:20,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:960,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:956,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:944,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:e.jsxDEV("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm bg-${Ce[j.status]?.color}-50 text-${Ce[j.status]?.color}-700 border-2 border-${Ce[j.status]?.color}-200`,children:[Ge.createElement(Ce[j.status]?.icon||we,{size:16}),Ce[j.status]?.label]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:968,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:967,columnNumber:37},void 0),e.jsxDEV("div",{className:`px-3 py-1.5 rounded-lg font-bold text-xs ${Pe(j.dueDate).bg} ${Pe(j.dueDate).text}`,children:Pe(j.dueDate).badge},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:973,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:966,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsxDEV("p",{className:"text-xs text-slate-500 font-medium mb-1",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:981,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-indigo-600 font-mono",children:[je(ge(j.amount))," ",e.jsxDEV("span",{className:"text-xs text-slate-500",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:982,columnNumber:150},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:982,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:980,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsxDEV("p",{className:"text-xs text-slate-500 font-medium mb-1",children:"تاريخ الاستحقاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:985,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-slate-800",children:new Date(j.dueDate).toLocaleDateString("ar-EG",{dateStyle:"full"})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:986,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:984,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:979,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[e.jsxDEV(dn,{size:20,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:993,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-slate-500 font-medium",children:"الطرف المستفيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:995,columnNumber:45},void 0),e.jsxDEV("p",{className:"font-bold text-slate-800",children:j.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:996,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:992,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[e.jsxDEV(ze,{size:20,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1e3,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-slate-500 font-medium",children:"البنك المسحوب عليه"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1002,columnNumber:45},void 0),e.jsxDEV("p",{className:"font-bold text-slate-800",children:$e(j.bankName)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1003,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1001,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:999,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:991,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-slate-500 font-medium",children:"النوع:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1010,columnNumber:37},void 0),e.jsxDEV("span",{className:`px-3 py-1 rounded-lg font-bold text-xs ${j.type==="RECEIVABLE"?"bg-indigo-50 text-indigo-700":"bg-rose-50 text-rose-700"}`,children:j.type==="RECEIVABLE"?"شيك وارد":"شيك صادر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1011,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1009,columnNumber:33},void 0),e.jsxDEV("div",{className:"border-t border-slate-200 pt-4",children:[e.jsxDEV("p",{className:"text-xs font-bold text-slate-700 mb-3",children:"إجراءات سريعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1018,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-wrap",children:[j.type==="RECEIVABLE"&&j.status==="PENDING"&&e.jsxDEV("button",{onClick:()=>{D(j,xe.UNDER_COLLECTION),se(null)},className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-xl text-sm font-bold hover:bg-blue-100 border border-blue-200 transition-colors",children:[e.jsxDEV(Ue,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1025,columnNumber:49},void 0)," إيداع للتحصيل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1021,columnNumber:45},void 0),j.type==="RECEIVABLE"&&j.status==="UNDER_COLLECTION"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>{D(j,xe.COLLECTED),se(null)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-sm font-bold hover:bg-emerald-100 border border-emerald-200 transition-colors",children:[e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1034,columnNumber:53},void 0)," تحصيل نهائي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1030,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>{v(j),se(null)},className:"flex items-center gap-2 px-4 py-2 bg-rose-50 text-rose-700 rounded-xl text-sm font-bold hover:bg-rose-100 border border-rose-200 transition-colors",children:[e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1040,columnNumber:53},void 0)," تسجيل ارتجاع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1036,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1029,columnNumber:45},void 0),j.type==="PAYABLE"&&j.status==="PENDING"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>{D(j,xe.CASHED),se(null)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-sm font-bold hover:bg-emerald-100 border border-emerald-200 transition-colors",children:[e.jsxDEV(De,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1050,columnNumber:53},void 0)," تم الصرف"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1046,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>{v(j),se(null)},className:"flex items-center gap-2 px-4 py-2 bg-rose-50 text-rose-700 rounded-xl text-sm font-bold hover:bg-rose-100 border border-rose-200 transition-colors",children:[e.jsxDEV(Be,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1056,columnNumber:53},void 0)," تسجيل ارتجاع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1052,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1045,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1019,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1017,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:964,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:943,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:942,columnNumber:21},void 0),N&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-fade-in border border-slate-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-100 bg-rose-50/50 flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-rose-800 text-lg flex items-center gap-2",children:[e.jsxDEV(Be,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1075,columnNumber:109},void 0)," تسجيل ارتجاع شيك"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1075,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-rose-600/70 mt-1",children:"يرجى تحديد سبب الرفض بدقة للأغراض القانونية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1076,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1074,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>v(null),className:"bg-white p-1.5 rounded-full text-slate-400 hover:text-rose-500 shadow-sm",children:e.jsxDEV(Fe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1078,columnNumber:167},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1078,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1073,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-6 space-y-5",children:[e.jsxDEV("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 text-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute left-0 top-0 h-full w-1 bg-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1082,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between mb-2",children:[e.jsxDEV("span",{className:"text-slate-500",children:"رقم الشيك:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1083,columnNumber:80},void 0)," ",e.jsxDEV("span",{className:"font-mono font-bold text-slate-800 text-base",children:Ae(N.number)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1083,columnNumber:131},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1083,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between mb-2",children:[e.jsxDEV("span",{className:"text-slate-500",children:"المبلغ:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1084,columnNumber:80},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-800",children:je(ge(N.amount))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1084,columnNumber:128},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1084,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-500",children:"العميل:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1085,columnNumber:75},void 0)," ",e.jsxDEV("span",{className:"font-bold text-slate-800",children:N.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1085,columnNumber:123},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1085,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1081,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"تاريخ الرفض البنكي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1089,columnNumber:37},void 0),e.jsxDEV(ve,{value:Q,onChange:Z},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1090,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1088,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"سبب الرفض (Bounce Reason)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1094,columnNumber:37},void 0),e.jsxDEV("div",{className:"space-y-2",children:["رصيد غير كاف","توقيع غير مطابق","حساب مغلق","تاريخ غير صحيح","أخرى"].map(r=>e.jsxDEV("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${R===r?"bg-rose-50 border-rose-200 ring-1 ring-rose-200":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[e.jsxDEV("input",{type:"radio",name:"bounceReason",value:r,checked:R===r,onChange:A=>f(A.target.value),className:"text-rose-600 focus:ring-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1098,columnNumber:49},void 0),e.jsxDEV("span",{className:`text-sm font-bold ${R===r?"text-rose-700":"text-slate-600"}`,children:r},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1099,columnNumber:49},void 0)]},r,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1097,columnNumber:45},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1095,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1093,columnNumber:33},void 0),e.jsxDEV("button",{onClick:k,className:"w-full bg-rose-600 text-white py-3.5 rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all flex items-center justify-center gap-2",children:[e.jsxDEV(Be,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1106,columnNumber:37},void 0)," تأكيد الارتجاع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1105,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1080,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1072,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1071,columnNumber:21},void 0),H&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-fade-in",children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[e.jsxDEV(ze,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1120,columnNumber:106},void 0)," اختيار البنك"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1120,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>{de(!1),fe(null)},className:"text-slate-400 hover:text-rose-500",children:e.jsxDEV(Fe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1121,columnNumber:157},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1121,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1119,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl text-sm text-blue-800",children:[e.jsxDEV("p",{className:"font-bold mb-1",children:ee?.action===xe.UNDER_COLLECTION?"إيداع شيكات للتحصيل":ee?.action===xe.COLLECTED?"تحصيل نهائي":"صرف شيكات موردين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1125,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs opacity-80",children:["يرجى اختيار الحساب البنكي الذي سيتم فيه تنفيذ العملية لـ ",ee?.cheques.length," شيك."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1129,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1124,columnNumber:33},void 0),e.jsxDEV(he,{label:"اختر الحساب البنكي",options:te?te.map(r=>({id:r.id,label:r.name,subLabel:r.accountNumber})):[],value:Ne,onChange:n,placeholder:"-- اختر البنك --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1132,columnNumber:33},void 0),e.jsxDEV("button",{onClick:s,disabled:!Ne,className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg disabled:opacity-50 transition-all",children:"تأكيد العملية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1140,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1123,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1118,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:1117,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/ChequeManager.tsx",lineNumber:356,columnNumber:9},void 0)},eo=({journal:C,accounts:B,banks:te,onSaveAdjustment:ne,initialBankId:re,onResync:w})=>{const[oe,x]=l.useState(re||""),[m,u]=l.useState(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-01`),[S,U]=l.useState(Re()),[L,y]=l.useState({isOpen:!1,message:"",type:"info"}),[Y,p]=l.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),a=(t,F="error")=>{y({isOpen:!0,message:t,type:F})};Ge.useEffect(()=>{re&&x(re)},[re]);const[K,z]=l.useState(!1),[g,ae]=l.useState("EXPENSE"),[_,ie]=l.useState(""),[X,P]=l.useState(""),[b,J]=l.useState(""),c=l.useMemo(()=>{if(!oe)return null;const t=te.find(H=>H.id===oe);if(!t)return null;const F=t.accountId||B.find(H=>H.name===t.name)?.id;if(!F)return{error:"LINK_MISSING",bankDetails:t,openingBalance:0,closingBalance:0,totalDeposits:0,totalWithdrawals:0,transactions:[]};const i=B.find(H=>H.id===F),E=F;let N=Number(i?.openingBalance)||0;C.forEach(H=>{if(H.date.split("T")[0]<m){const ee=H.lines.find(fe=>fe.accountId===E);ee&&(N+=ee.debit-ee.credit)}});const v=C.filter(H=>{const de=H.date.split("T")[0];return de>=m&&de<=S}).map(H=>{const de=H.lines.find(ee=>ee.accountId===E);return de?{...H,debit:de.debit,credit:de.credit}:null}).filter(H=>H!==null).sort((H,de)=>new Date(H.date).getTime()-new Date(de.date).getTime());let R=N,f=0,Q=0;const Z=v.map(H=>(R+=H.debit-H.credit,f+=H.debit,Q+=H.credit,{...H,balance:R}));return{error:null,account:i,bankDetails:t,bankGLId:E,openingBalance:N,closingBalance:R,totalDeposits:f,totalWithdrawals:Q,transactions:Z}},[oe,m,S,C,B,te]),ce=()=>{if(!c||c.error||!_||!X||!b){a("يرجى استكمال البيانات","warning");return}const t=Number(_),F=[];g==="EXPENSE"?(F.push({accountId:b,accountName:B.find(E=>E.id===b)?.name||"",debit:t,credit:0}),F.push({accountId:c.bankGLId,accountName:c.account?.name||"Bank",debit:0,credit:t})):(F.push({accountId:c.bankGLId,accountName:c.account?.name||"Bank",debit:t,credit:0}),F.push({accountId:b,accountName:B.find(E=>E.id===b)?.name||"",debit:0,credit:t}));const i={date:Re(),description:`Bank Adjustment: ${X}`,lines:F,referenceId:"BANK-ADJ"};ne?.(i),z(!1),ie(""),P(""),J(""),a("تم تسجيل العملية بنجاح","success")},j=()=>{if(!c||c.error)return;const t=Dn,i=`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
            <meta charset="UTF-8">
            <title>${`Bank_Statement_${c.bankDetails.name}_${new Date().toISOString().split("T")[0]}`}</title>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
            <style>
                @page { size: A4; margin: 10mm; }
                * { box-sizing: border-box; }
                body { font-family: 'Cairo', sans-serif; margin: 0; padding: 0; background: #fff; color: #334155; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                
                .header { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 3px solid #0f766e; padding-bottom: 20px; margin-bottom: 30px; }
                .company-info h1 { margin: 0; font-size: 26px; color: #0f172a; font-weight: 800; line-height: 1.2; }
                .company-info p { margin: 4px 0; font-size: 12px; color: #64748b; }
                
                .report-info { text-align: left; }
                .report-info h2 { margin: 0; font-size: 22px; color: #0f766e; font-weight: 700; }
                .report-info .period { font-size: 13px; color: #64748b; margin-top: 5px; font-weight: 600; }
                
                .bank-card { background: #f0fdfa; border: 1px solid #ccfbf1; border-radius: 10px; padding: 15px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
                .bank-info div { margin-bottom: 4px; font-size: 13px; }
                .bank-info strong { color: #0f766e; width: 100px; display: inline-block; }
                
                .summary-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 30px; }
                .summary-card { padding: 15px; border: 1px solid #e2e8f0; border-radius: 8px; background: #fff; text-align: center; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
                .summary-card .label { font-size: 11px; color: #64748b; margin-bottom: 8px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
                .summary-card .value { font-size: 18px; font-weight: 800; color: #0f172a; }
                
                table { width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 40px; }
                th { background-color: #f1f5f9; color: #334155; font-weight: 700; padding: 12px 10px; text-align: right; border-bottom: 2px solid #cbd5e1; vertical-align: bottom; }
                td { padding: 10px; border-bottom: 1px solid #e2e8f0; color: #334155; vertical-align: top; }
                tr:nth-child(even) { background-color: #fcfcfc; }
                tr:hover { background-color: #f8fafc; }
                
                .signatures { display: flex; justify-content: space-between; margin-top: 60px; page-break-inside: avoid; }
                .signature-box { width: 30%; text-align: center; }
                .signature-line { border-top: 1px solid #cbd5e1; margin-top: 50px; width: 80%; margin-left: auto; margin-right: auto; }
                .signature-label { font-size: 12px; font-weight: 700; color: #475569; margin-bottom: 5px; }
                
                .footer { position: fixed; bottom: 0; left: 0; right: 0; padding: 15px 0; border-top: 1px solid #e2e8f0; text-align: center; font-size: 10px; color: #94a3b8; background: #fff; }
                
                @media print {
                    .no-print { display: none; }
                    body { -webkit-print-color-adjust: exact; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <div class="company-info">
                    <h1>${t.companyName}</h1>
                    <p>${t.companyAddress}</p>
                    <p>${t.companyPhone} | ${t.companyEmail}</p>
                </div>
                <div class="report-info">
                    <h2>كشف حساب بنك (Bank Statement)</h2>
                    <div class="period">
                        من ${m.split("-").reverse().join("/")} إلى ${S.split("-").reverse().join("/")}
                    </div>
                </div>
            </div>

            <div class="bank-card">
                <div class="bank-info">
                    <div><strong>البنك:</strong> <span style="font-size: 16px; font-weight: bold;">${c.bankDetails.name}</span></div>
                    <div><strong>رقم الحساب:</strong> ${c.bankDetails.accountNumber||"-"}</div>
                    <div><strong>GL Account:</strong> ${c.account?.code} - ${c.account?.name}</div>
                </div>
                <div style="text-align: left; font-size: 12px; color: #64748b;">
                    تاريخ الطباعة: ${new Date().toLocaleString("ar-EG")}
                </div>
            </div>

            <div class="summary-grid">
                <div class="summary-card">
                    <div class="label">رصيد افتتاحي (Opening)</div>
                    <div class="value">${(c.openingBalance||0).toLocaleString()}</div>
                </div>
                <div class="summary-card">
                    <div class="label">إجمالي إيداع (Deposits)</div>
                    <div class="value" style="color: #059669;">${(c.totalDeposits||0).toLocaleString()}</div>
                </div>
                <div class="summary-card">
                    <div class="label">إجمالي سحب (Withdrawals)</div>
                    <div class="value" style="color: #be123c;">${(c.totalWithdrawals||0).toLocaleString()}</div>
                </div>
                <div class="summary-card" style="background: #f0fdfa; border-color: #ccfbf1;">
                    <div class="label">الرصيد الختامي (Ending)</div>
                    <div class="value" style="font-size: 18px;">${(c.closingBalance||0).toLocaleString()}</div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th style="width: 15%;">التاريخ<br>Date</th>
                        <th style="width: 40%;">البيان / الوصف<br>Description</th>
                        <th style="width: 15%;">إيداع<br>Deposit</th>
                        <th style="width: 15%;">سحب<br>Withdrawal</th>
                        <th style="width: 15%;">الرصيد<br>Balance</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                         <td style="font-family: monospace;">-</td>
                         <td><strong>رصيد افتتاحي (Balance Forward)</strong></td>
                         <td style="text-align: center;">-</td>
                         <td style="text-align: center;">-</td>
                         <td style="text-align: center; font-weight: bold; direction: ltr;">${(c.openingBalance||0).toLocaleString()}</td>
                    </tr>
                    ${c.transactions.map(N=>`
                        <tr>
                            <td style="font-family: monospace;">${N.date.split("T")[0].split("-").reverse().join("/")}</td>
                            <td>${N.description}</td>
                            <td style="text-align: center; color: #059669; font-weight: ${N.debit>0?"bold":"normal"};">${N.debit>0?N.debit.toLocaleString():"-"}</td>
                            <td style="text-align: center; color: #be123c; font-weight: ${N.credit>0?"bold":"normal"};">${N.credit>0?N.credit.toLocaleString():"-"}</td>
                            <td style="text-align: center; font-weight: bold; direction: ltr;">${(N.balance||0).toLocaleString()}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>

            <div class="signatures">
                <div class="signature-box">
                    <div class="signature-label">إعداد (Prepared By)</div>
                    <div class="signature-line"></div>
                </div>
                <div class="signature-box">
                    <div class="signature-label">مراجعة (Reviewed By)</div>
                    <div class="signature-line"></div>
                </div>
                <div class="signature-box">
                    <div class="signature-label">اعتماد (Approved By)</div>
                    <div class="signature-line"></div>
                </div>
            </div>

            <div class="footer">
                ${t.companyName} - ${t.companyAddress} - Printed by Cloud ERP System
            </div>

            <script>
                window.onload = () => { setTimeout(() => { window.print(); }, 500); }
            <\/script>
        </body>
        </html>
        `,E=window.open("","_blank","width=1200,height=900");E&&(E.document.write(i),E.document.close())},se=()=>{if(!c||c.error)return;const t=`كشف_البنك_${c.bankDetails.name}_${new Date().toISOString().split("T")[0]}.xlsx`,F=[{col1:"كشف حساب البنك",col2:"",col3:"",col4:"",col5:""},{col1:`البنك: ${c.bankDetails.name}`,col2:"",col3:`الفترة: ${m.split("-").reverse().join("/")} - ${S.split("-").reverse().join("/")}`,col4:"",col5:""},{col1:c.bankDetails.accountNumber?`رقم الحساب: ${c.bankDetails.accountNumber}`:"",col2:"",col3:`GL Account: ${c.account?.code} - ${c.account?.name}`,col4:"",col5:""},{col1:"",col2:"",col3:"",col4:"",col5:""},{col1:"التاريخ",col2:"البيان / الوصف",col3:"إيداع",col4:"سحب",col5:"الرصيد"},{col1:"-",col2:"رصيد افتتاحي (Balance Forward)",col3:"",col4:"",col5:c.openingBalance},...c.transactions.map(v=>({col1:v.date.split("T")[0].split("-").reverse().join("/"),col2:v.description,col3:v.debit>0?v.debit:"",col4:v.credit>0?v.credit:"",col5:v.balance})),{col1:"",col2:"",col3:"",col4:"",col5:""},{col1:"الإجماليات",col2:"",col3:c.totalDeposits,col4:c.totalWithdrawals,col5:c.closingBalance}],i=Ve.utils.json_to_sheet(F,{skipHeader:!0});i["!merges"]=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:1,c:0},e:{r:1,c:1}},{s:{r:1,c:2},e:{r:1,c:4}},{s:{r:2,c:0},e:{r:2,c:1}},{s:{r:2,c:2},e:{r:2,c:4}},{s:{r:F.length-1,c:0},e:{r:F.length-1,c:1}}],i["!cols"]=[{wch:15},{wch:50},{wch:15},{wch:15},{wch:18}];const E=Ve.utils.decode_range(i["!ref"]||"A1");for(let v=E.s.r;v<=E.e.r;++v)for(let R=E.s.c;R<=E.e.c;++R){const f=Ve.utils.encode_cell({r:v,c:R});i[f]&&(i[f].s||(i[f].s={}),i[f].s={font:{name:"Calibri",sz:12},border:{top:{style:"thin",color:{rgb:"CBD5E1"}},bottom:{style:"thin",color:{rgb:"CBD5E1"}},left:{style:"thin",color:{rgb:"CBD5E1"}},right:{style:"thin",color:{rgb:"CBD5E1"}}},alignment:{horizontal:"right",vertical:"center",wrapText:!0,readingOrder:2}},v===0&&(i[f].s.font={name:"Calibri",bold:!0,sz:18,color:{rgb:"FFFFFF"}},i[f].s.fill={fgColor:{rgb:"1E3A8A"}},i[f].s.alignment.horizontal="center",i[f].s.border.bottom={style:"medium",color:{rgb:"F59E0B"}}),(v===1||v===2)&&(i[f].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"1E293B"}},i[f].s.fill={fgColor:{rgb:"F1F5F9"}}),(i[f].v==="التاريخ"||i[f].v==="البيان / الوصف"||i[f].v==="إيداع"||i[f].v==="سحب"||i[f].v==="الرصيد")&&(i[f].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"FFFFFF"}},i[f].s.fill={fgColor:{rgb:"334155"}},i[f].s.alignment.horizontal="center"),i[f].v==="رصيد افتتاحي (Balance Forward)"&&(i[f].s.fill={fgColor:{rgb:"FEF3C7"}},i[f].s.font={name:"Calibri",bold:!0}),(i[f].v==="الإجماليات"||v===F.length-1&&typeof i[f].v=="number")&&(i[f].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"FFFFFF"}},i[f].s.fill={fgColor:{rgb:"1E293B"}},i[f].s.border.top={style:"double",color:{rgb:"475569"}}),typeof i[f].v=="number"&&(i[f].z="#,##0.00",R===2?(i[f].s.font={...i[f].s.font,color:{rgb:"059669"}},i[f].s.fill={fgColor:{rgb:"ECFDF5"}}):R===3?(i[f].s.font={...i[f].s.font,color:{rgb:"DC2626"}},i[f].s.fill={fgColor:{rgb:"FEF2F2"}}):R===4&&v>5&&v<F.length-1&&(i[f].s.font.bold=!0,i[f].s.fill={fgColor:{rgb:"F8FAFC"}})),v>5&&v<F.length-2&&!i[f].s.fill&&(i[f].s.fill={fgColor:{rgb:v%2===0?"FFFFFF":"F8FAFC"}}))}const N=Ve.utils.book_new();Ve.utils.book_append_sheet(N,i,"Bank Statement"),Ve.writeFile(N,t,{cellStyles:!0})};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-cyan-600 via-teal-600 to-emerald-600 p-5 md:p-8 rounded-2xl md:rounded-3xl shadow-xl mb-6 md:mb-8 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:466,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:467,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxDEV("div",{className:"text-white w-full lg:w-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-3 md:gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/10 backdrop-blur-md rounded-xl md:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(ze,{size:24,className:"text-white md:w-8 md:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:473,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:472,columnNumber:29},void 0),e.jsxDEV("h1",{className:"text-2xl md:text-4xl font-black tracking-tight drop-shadow-sm",children:"كشف حساب البنك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:475,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:471,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-white/90 text-sm md:text-base font-bold max-w-xl leading-relaxed opacity-95",children:"متابعة حركة الحسابات البنكية والإيداعات والمسحوبات بدقة."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:477,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:470,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto items-stretch sm:items-center bg-white/10 backdrop-blur-md p-2 rounded-2xl border border-white/20 shadow-inner",children:[e.jsxDEV("div",{className:"w-full sm:min-w-[250px]",children:e.jsxDEV(he,{placeholder:"اختر الحساب البنكي...",options:te.map(t=>({id:t.id,label:t.name,subLabel:t.accountNumber})),value:oe,onChange:x,className:"bg-white/90 backdrop-blur-sm rounded-xl border-none shadow-sm font-bold"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:484,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:483,columnNumber:25},void 0),e.jsxDEV("div",{className:"hidden sm:block w-px h-8 bg-white/20 mx-1"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:492,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsxDEV("div",{className:"relative flex-1 sm:flex-none",children:e.jsxDEV(ve,{value:m,onChange:u,className:"bg-white/90 backdrop-blur-sm border-none rounded-xl font-bold text-center shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:495,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:494,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-white font-black",children:"→"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:497,columnNumber:29},void 0),e.jsxDEV("div",{className:"relative flex-1 sm:flex-none",children:e.jsxDEV(ve,{value:S,onChange:U,className:"bg-white/90 backdrop-blur-sm border-none rounded-xl font-bold text-center shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:499,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:498,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:493,columnNumber:25},void 0),oe&&e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:se,className:"flex-1 sm:flex-none p-3 bg-emerald-500/20 border border-emerald-400/30 text-white rounded-xl hover:bg-emerald-500/30 transition-all backdrop-blur-sm shadow-sm",title:"Excel",children:e.jsxDEV(mn,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:505,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:504,columnNumber:33},void 0),e.jsxDEV("button",{onClick:j,className:"flex-1 sm:flex-none p-3 bg-white text-teal-900 rounded-xl hover:bg-teal-50 transition-all shadow-lg font-bold",title:"Print",children:e.jsxDEV(ke,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:508,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:507,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:503,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:482,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:469,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:464,columnNumber:13},void 0),c?e.jsxDEV(e.Fragment,{children:c.error==="LINK_MISSING"?e.jsxDEV("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl shadow-sm flex items-start gap-4 animate-fade-in",children:[e.jsxDEV("div",{className:"bg-amber-100 p-3 rounded-full text-amber-600",children:e.jsxDEV($n,{size:24},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:521,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:520,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-amber-800 text-lg",children:"الحساب البنكي غير مرتبط (Account Not Linked)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:524,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-amber-700 mt-1 text-sm",children:["هذا البنك (",c.bankDetails.name,") غير مرتبط بحساب في دليل الحسابات (General Ledger). لعرض كشف الحساب والعمليات المالية، يرجى ربطه أولاً من شاشة ",e.jsxDEV("strong",{children:"البيانات الأساسية - البنوك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:527,columnNumber:96},void 0),"."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:525,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:523,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:519,columnNumber:25},void 0):e.jsxDEV("div",{className:"space-y-6 animate-fade-in",id:"bank-statement",children:[e.jsxDEV("div",{className:"print:hidden flex justify-end",children:e.jsxDEV("button",{onClick:()=>{P("مصروفات بنكية"),ae("EXPENSE"),z(!0)},className:"bg-indigo-50 text-indigo-600 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 flex items-center gap-2 border border-indigo-200 transition-colors w-full sm:w-auto justify-center",children:[e.jsxDEV(Se,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:539,columnNumber:37},void 0)," تسجيل عملية سريعة (مصروفات/فوائد)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:535,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:534,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 print:hidden",children:[e.jsxDEV("div",{className:"p-4 md:p-5 bg-white border border-slate-200 rounded-2xl shadow-sm hover:shadow-lg transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 h-16 bg-slate-100 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:546,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs font-black text-slate-500 mb-2 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:548,columnNumber:41},void 0),"الرصيد الافتتاحي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:547,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-black text-slate-800 text-xl md:text-2xl font-mono relative z-10",dir:"ltr",children:(c.openingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:551,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:545,columnNumber:33},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 bg-gradient-to-br from-emerald-50 to-white border border-emerald-100 rounded-2xl shadow-sm hover:shadow-lg transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 h-16 bg-emerald-100/50 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:555,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs font-black text-emerald-700 mb-2 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV(Te,{size:14,className:"text-emerald-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:557,columnNumber:41},void 0),"إجمالي الإيداعات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:556,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-black text-emerald-700 text-xl md:text-2xl font-mono relative z-10",dir:"ltr",children:(c.totalDeposits||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:560,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:554,columnNumber:33},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 bg-gradient-to-br from-rose-50 to-white border border-rose-100 rounded-2xl shadow-sm hover:shadow-lg transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 h-16 bg-rose-100/50 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:564,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs font-black text-rose-700 mb-2 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV(Le,{size:14,className:"text-rose-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:566,columnNumber:41},void 0),"إجمالي المسحوبات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:565,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-black text-rose-700 text-xl md:text-2xl font-mono relative z-10",dir:"ltr",children:(c.totalWithdrawals||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:569,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:563,columnNumber:33},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 bg-gradient-to-br from-cyan-600 to-teal-700 text-white rounded-2xl shadow-xl relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -mr-10 -mt-10 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:573,columnNumber:37},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full -ml-10 -mb-10 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:574,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs font-black text-white/80 mb-2 uppercase tracking-wider relative z-10",children:"الرصيد الختامي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:576,columnNumber:37},void 0),e.jsxDEV("div",{className:`font-black text-2xl md:text-3xl relative z-10 font-mono drop-shadow-md ${(c.closingBalance||0)<0?"text-rose-200":"text-white"}`,dir:"ltr",children:(c.closingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:577,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:572,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:544,columnNumber:29},void 0),e.jsxDEV("div",{className:"md:hidden space-y-4",children:[e.jsxDEV("div",{className:"bg-yellow-50/50 border border-yellow-200/60 rounded-2xl p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{className:"font-bold text-slate-600 text-sm flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-yellow-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:589,columnNumber:45},void 0),"رصيد افتتاحي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:588,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-lg font-black text-slate-800 font-mono",dir:"ltr",children:(c.openingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:592,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:587,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:586,columnNumber:33},void 0),c.transactions.length===0?e.jsxDEV("div",{className:"p-12 text-center text-slate-400 bg-white rounded-2xl border-2 border-dashed border-slate-100 flex flex-col items-center gap-3",children:[e.jsxDEV("div",{className:"p-3 bg-slate-50 rounded-full",children:e.jsxDEV(mn,{size:24,className:"opacity-40"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:600,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:599,columnNumber:41},void 0),e.jsxDEV("p",{children:"لا توجد حركات خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:602,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:598,columnNumber:37},void 0):c.transactions.map(t=>e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-4 relative overflow-hidden group active:scale-[0.99] transition-transform",children:[e.jsxDEV("div",{className:`absolute top-0 right-0 w-1.5 h-full ${t.debit>0?"bg-emerald-500":t.credit>0?"bg-rose-500":"bg-slate-300"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:606,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex justify-between items-start mb-3 pr-3",children:[e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:"text-[10px] font-bold text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded-lg w-fit mb-1",children:t.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:610,columnNumber:49},void 0),e.jsxDEV("h4",{className:"font-bold text-slate-800 text-sm line-clamp-2 leading-relaxed",children:t.description},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:613,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:609,columnNumber:45},void 0),e.jsxDEV("div",{className:"bg-slate-50 px-2 py-1 rounded-lg text-center min-w-[3.5rem] border border-slate-100",children:[e.jsxDEV("div",{className:"text-[9px] text-slate-400 font-bold uppercase mb-0.5",children:"الرصيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:618,columnNumber:49},void 0),e.jsxDEV("div",{className:"font-black text-sm text-slate-700 font-mono leading-none",dir:"ltr",children:(t.balance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:619,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:617,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:608,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 pr-3 border-t border-slate-50 pt-3 mt-1",children:[t.debit>0&&e.jsxDEV("div",{className:"flex-1 bg-emerald-50/50 rounded-lg p-2 border border-emerald-100/50 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-[10px] font-bold text-emerald-600",children:"إيداع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:626,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-black text-emerald-700 font-mono text-sm",dir:"ltr",children:["+",t.debit.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:627,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:625,columnNumber:49},void 0),t.credit>0&&e.jsxDEV("div",{className:"flex-1 bg-rose-50/50 rounded-lg p-2 border border-rose-100/50 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-[10px] font-bold text-rose-600",children:"سحب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:632,columnNumber:53},void 0),e.jsxDEV("span",{className:"font-black text-rose-700 font-mono text-sm",dir:"ltr",children:["-",t.credit.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:633,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:631,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:623,columnNumber:41},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:605,columnNumber:37},void 0)),c.transactions.length>0&&e.jsxDEV("div",{className:"bg-slate-800 text-white rounded-2xl p-5 shadow-lg relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:643,columnNumber:41},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"text-xs font-bold text-slate-400 mb-3 text-center uppercase tracking-widest border-b border-white/10 pb-2",children:"ملخص الفترة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:645,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex justify-between items-center text-center divide-x divide-x-reverse divide-white/10",children:[e.jsxDEV("div",{className:"flex-1 px-2",children:[e.jsxDEV("div",{className:"text-[10px] text-emerald-400 mb-1 font-bold",children:"إجمالي إيداع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:648,columnNumber:53},void 0),e.jsxDEV("div",{className:"font-black text-emerald-300 font-mono text-lg truncate",children:(c.totalDeposits||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:649,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:647,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex-1 px-2",children:[e.jsxDEV("div",{className:"text-[10px] text-rose-400 mb-1 font-bold",children:"إجمالي سحب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:652,columnNumber:53},void 0),e.jsxDEV("div",{className:"font-black text-rose-300 font-mono text-lg truncate",children:(c.totalWithdrawals||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:653,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:651,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex-1 px-2 bg-white/5 mx-2 rounded-lg py-1",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-300 mb-1 font-bold",children:"الرصيد الحالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:656,columnNumber:53},void 0),e.jsxDEV("div",{className:"font-black text-white font-mono text-lg truncate",children:(c.closingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:657,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:655,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:646,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:644,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:642,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:584,columnNumber:29},void 0),e.jsxDEV("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden print:border-0 print:shadow-none",children:[e.jsxDEV("div",{className:"hidden print:block p-8 text-center border-b border-slate-200",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-slate-900",children:"كشف حساب البنك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:668,columnNumber:37},void 0),e.jsxDEV("h3",{className:"text-lg text-slate-600",children:c.bankDetails.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:669,columnNumber:37},void 0),c.bankDetails.accountNumber&&e.jsxDEV("div",{className:"text-sm font-mono text-slate-500 mt-1",children:["Account / IBAN: ",c.bankDetails.accountNumber]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:671,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400 mt-1 flex items-center justify-center gap-2",children:e.jsxDEV("span",{className:"bg-slate-100 px-2 py-1 rounded",children:["GL Account: ",c.account?.code," - ",c.account?.name]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:676,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:675,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-slate-500 text-sm mt-1",children:["من ",m," إلى ",S]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:678,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:667,columnNumber:33},void 0),w&&Math.abs((Number(c.bankDetails.balance)||0)-(Number(c.account?.openingBalance)||0))>1&&e.jsxDEV("div",{className:"bg-amber-50 p-4 border-b border-amber-200 flex justify-between items-center print:hidden",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(pn,{className:"text-amber-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:685,columnNumber:45},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-amber-800",children:"تنبيه: اختلاف في الرصيد الافتتاحي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:687,columnNumber:49},void 0),e.jsxDEV("div",{className:"text-xs text-amber-700",children:["رصيد البنك المسجل (",Number(c.bankDetails.balance).toLocaleString(),") يختلف عن رصيد الحساب المحاسبي (",(Number(c.account?.openingBalance)||0).toLocaleString(),")."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:688,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:686,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:684,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>{p({isOpen:!0,title:"مزامنة الرصيد",message:"هل تريد مزامنة رصيد الحساب المحاسبي مع رصيد البنك؟",onConfirm:async()=>{if(w)try{await w(c.bankDetails.id),a("تمت المزامنة بنجاح","success")}catch{a("فشل المزامنة","error")}}})},className:"bg-amber-100 text-amber-800 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-amber-200 transition-colors",children:"إصلاح الآن (Fix Now)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:693,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:683,columnNumber:37},void 0),e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-800 text-white font-black border-b border-slate-900",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4 w-32 rounded-tr-lg",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:722,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4",children:"البيان / الوصف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:723,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4 w-32 text-emerald-300 bg-white/10 backdrop-blur-sm text-center",children:"إيداع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:724,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4 w-32 text-rose-300 bg-white/5 backdrop-blur-sm text-center",children:"سحب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:725,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4 w-36 bg-white/20 backdrop-blur-sm rounded-tl-lg text-center",children:"الرصيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:726,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:721,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:720,columnNumber:37},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[e.jsxDEV("tr",{className:"bg-yellow-50/50 font-bold text-slate-600",children:[e.jsxDEV("td",{className:"p-4 text-center font-mono",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:731,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 flex items-center gap-2",children:[e.jsxDEV("span",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400 shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:733,columnNumber:49},void 0),"رصيد افتتاحي (Balance Forward)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:732,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-center text-slate-400 bg-emerald-50/10",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:736,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-center text-slate-400 bg-rose-50/10",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:737,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 font-black text-slate-800 text-center font-mono bg-yellow-100/30",dir:"ltr",children:(c.openingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:738,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:730,columnNumber:41},void 0),c.transactions.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"p-16 text-center text-slate-400 italic",children:"لا توجد حركات خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:741,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:741,columnNumber:45},void 0):c.transactions.map((t,F)=>e.jsxDEV("tr",{className:`hover:brightness-95 transition-all ${F%2===0?"bg-white":"bg-teal-50/30"}`,children:[e.jsxDEV("td",{className:"p-4 text-slate-600 font-mono font-bold border-l-4 border-transparent hover:border-teal-500 transition-all",children:t.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:744,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 font-bold text-slate-800",children:t.description},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:745,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 text-emerald-700 font-black bg-emerald-50/5 text-center font-mono",children:t.debit>0?t.debit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:746,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 text-rose-700 font-black bg-rose-50/5 text-center font-mono",children:t.credit>0?t.credit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:747,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 bg-slate-50/50 font-black text-slate-900 text-center font-mono",dir:"ltr",children:(t.balance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:748,columnNumber:49},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:743,columnNumber:45},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:729,columnNumber:37},void 0),e.jsxDEV("tfoot",{className:"bg-slate-900 text-white font-black",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{colSpan:2,className:"p-4 text-center text-slate-300",children:"الإجماليات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:754,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-emerald-400 text-center font-mono text-lg",children:(c.totalDeposits||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:755,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-rose-400 text-center font-mono text-lg",children:(c.totalWithdrawals||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:756,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-white text-xl text-center font-mono bg-white/10",dir:"ltr",children:(c.closingBalance||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:757,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:753,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:752,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:719,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:666,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:532,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:517,columnNumber:17},void 0):e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-96 bg-white rounded-xl border border-dashed border-slate-300 text-slate-400",children:[e.jsxDEV(ze,{size:64,className:"opacity-20 mb-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:767,columnNumber:21},void 0),e.jsxDEV("h3",{className:"text-lg font-bold text-slate-500",children:"الرجاء اختيار حساب بنكي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:768,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm",children:"استخدم القائمة أعلاه لاختيار الحساب وعرض الكشف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:769,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:766,columnNumber:17},void 0),K&&c&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-fade-in",children:[e.jsxDEV("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800",children:"تسجيل عملية بنكية سريعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:778,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>z(!1),children:e.jsxDEV(Fe,{size:20,className:"text-slate-400 hover:text-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:779,columnNumber:78},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:779,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:777,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[e.jsxDEV("button",{onClick:()=>ae("EXPENSE"),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${g==="EXPENSE"?"bg-white shadow text-rose-600":"text-slate-500"}`,children:"مصروفات (سحب)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:783,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ae("INCOME"),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${g==="INCOME"?"bg-white shadow text-emerald-600":"text-slate-500"}`,children:"إيرادات (إيداع)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:784,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:782,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:788,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:_,onChange:t=>ie(parseFloat(t.target.value)),className:"w-full border border-slate-300 rounded-lg p-3 font-bold text-lg outline-none focus:ring-2 focus:ring-indigo-100",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:789,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:787,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"البيان / الوصف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:799,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",value:X,onChange:t=>P(t.target.value),className:"w-full border border-slate-300 rounded-lg p-3 text-sm outline-none focus:ring-2 focus:ring-indigo-100",placeholder:"مثال: مصروفات بنكية، فوائد..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:800,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:798,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"الحساب المقابل (GL Account)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:810,columnNumber:33},void 0),e.jsxDEV(he,{options:B.filter(t=>g==="EXPENSE"?t.type==="EXPENSE":t.type==="REVENUE").map(t=>({id:t.id,label:t.name,subLabel:t.code})),value:b,onChange:J,placeholder:"اختر حساب المصروف/الإيراد..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:811,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:809,columnNumber:29},void 0),e.jsxDEV("button",{onClick:ce,className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg mt-2",children:"حفظ العملية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:819,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:781,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:776,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:775,columnNumber:17},void 0),e.jsxDEV(Je,{isOpen:L.isOpen,onClose:()=>y(t=>({...t,isOpen:!1})),message:L.message,type:L.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:830,columnNumber:13},void 0),e.jsxDEV(Cn,{isOpen:Y.isOpen,onClose:()=>p(t=>({...t,isOpen:!1})),onConfirm:Y.onConfirm,title:Y.title,message:Y.message,type:Y.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:837,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/BankStatement.tsx",lineNumber:462,columnNumber:9},void 0)},hn=({accounts:C,categories:B,onSave:te,onAddCategory:ne,onAddAccount:re,initialData:w,onCancel:oe})=>{const[x,m]=l.useState("EXPENSE"),[u,S]=l.useState(Re()),[U,L]=l.useState(""),[y,Y]=l.useState(""),[p,a]=l.useState(""),[K,z]=l.useState(""),[g,ae]=l.useState(""),[_,ie]=l.useState(""),[X,P]=l.useState(""),[b,J]=l.useState(!1),[c,ce]=l.useState(0),[j,se]=l.useState({isOpen:!1,message:"",type:"info"}),[t,F]=l.useState(!1),i=(s,k="error")=>{se({isOpen:!0,message:s,type:k})},[E,N]=l.useState(!1),[v,R]=l.useState(""),[f,Q]=l.useState(""),Z=l.useMemo(()=>C.filter(s=>s.type==="ASSET"&&(s.code.startsWith("101")||s.code.startsWith("102")||s.name.includes("صندوق")||s.name.includes("بنك")||s.name.includes("Safe")||s.name.includes("Bank"))),[C]);l.useEffect(()=>{if(!_&&Z.length>0&&!w){const s=Z.find(k=>k.code==="101")||Z[0];ie(s.id)}},[Z,_,w]);const H=C.find(s=>s.id===_),de=C.find(s=>s.code==="105"),ee=l.useRef({id:null,subcategoryFound:!1});l.useEffect(()=>{if(w&&C.length>0){const s=w.id!==ee.current.id;if(!s&&ee.current.subcategoryFound)return;if(s){ee.current={id:w.id,subcategoryFound:!1};const A=_e(w.date);S(A);const d=w.lines.find(ue=>{const ye=C.find(Ze=>Ze.id===ue.accountId);return ye&&(ye.code.startsWith("101")||ye.code.startsWith("102")||ye.code.startsWith("106")||ye.code.startsWith("107"))}),T=w.lines.find(ue=>ue!==d&&!ue.accountName?.includes("Tax")&&!ue.accountName?.includes("ضريبة")),W=w.lines.find(ue=>ue.accountName?.includes("Tax")||ue.accountName?.includes("ضريبة"));d&&(ie(d.accountId),d.credit!==0?(m("EXPENSE"),L(d.credit)):d.debit!==0&&(m("INCOME"),L(d.debit))),T&&(P(T.accountId),(!d||d.credit===0&&d.debit===0)&&(T.debit!==0?(m("EXPENSE"),L(T.debit)):T.credit!==0&&(m("INCOME"),L(T.credit)))),ae(w.referenceId&&w.referenceId!=="MANUAL"?w.referenceId:""),W&&(J(!0),ce(W.debit||W.credit))}const k=w.description.split(" - ");let M=null,le=null,r=null;if(k.length>=2){const A=k[1];if(r=A.match(/^(.+?)\s*\(([^)]+)\)\s*$/),r){const d=r[1].trim().toLowerCase(),T=r[2].trim().toLowerCase();if(M=B.find(W=>!W.parentId&&W.name.trim().toLowerCase()===d),M&&(le=M.subcategories?.find(W=>W.name.trim().toLowerCase()===T)),!le)for(const W of B){const ue=W.subcategories?.find(ye=>ye.name.trim().toLowerCase()===T);if(ue){le=ue,M||(M=W);break}}}else{const d=A.trim().toLowerCase();M=B.find(T=>!T.parentId&&T.name.trim().toLowerCase()===d)}}if(M&&((s||!y)&&Y(M.id),le?(a(le.id),ee.current.subcategoryFound=!0):M&&!r&&(ee.current.subcategoryFound=!0)),s){const A=k.length>=3?k.slice(2).join(" - "):k[k.length-1]||"";z(A.replace(/\(Ref:.*?\)\s*$/,"").trim())}}},[w,B,C]),l.useEffect(()=>{if(b&&typeof U=="number"){const s=U/1.14;ce(U-s)}else ce(0)},[U,b]);const fe=l.useMemo(()=>{if(X){const s=B.filter(k=>!k.parentId&&k.accountId===X);return s.length>0?s:[]}return B.filter(s=>!s.parentId&&(s.type===x||s.type==="OTHER"))},[B,x,X]),Ne=l.useMemo(()=>y?B.find(k=>k.id===y)?.subcategories||[]:[],[y,B]);l.useEffect(()=>{X&&fe.length===1&&Y(fe[0].id)},[X,fe]),l.useEffect(()=>{if(y){if(ee.current.subcategoryFound){ee.current.subcategoryFound=!1;return}a("")}},[y]);const n=()=>{v&&(ne?.({id:"",name:v,type:x,accountId:f}),R(""),Q(""),N(!1))},[h,Ee]=l.useState(!1),[me,be]=l.useState(""),Ce=()=>{if(!me||!y)return;const s=B.find(k=>k.id===y);s&&(ne?.({id:"",name:me,type:s.type,accountId:s.accountId,parentId:y}),be(""),Ee(!1))},[Pe,pe]=l.useState(!1),[o,I]=l.useState(""),[V,$]=l.useState(""),G=()=>{!o||!V||(re?.({id:"",code:V,name:o,type:x==="INCOME"?"REVENUE":"EXPENSE",balance:0,openingBalance:0}),I(""),$(""),pe(!1))},q=async()=>{if(t)return;if(!U||!y||!_||!X)return i("يرجى استكمال البيانات الأساسية (المبلغ، الخزينة، البند، الحساب)","warning");const s=B.find(M=>M.id===y),k=C.find(M=>M.id===_);if(!k)return i("الخزينة غير موجودة","error");F(!0);try{const M=X,le=[],r=Number(U);x==="EXPENSE"?(le.push({accountId:k.id,accountName:k.name,debit:0,credit:r}),b&&de?(le.push({accountId:de.id,accountName:de.name,debit:c,credit:0}),le.push({accountId:M,accountName:s?.name||"مصروف",debit:r-c,credit:0})):le.push({accountId:M,accountName:s?.name||"مصروف",debit:r,credit:0})):(le.push({accountId:k.id,accountName:k.name,debit:r,credit:0}),le.push({accountId:M,accountName:s?.name||"إيراد",debit:0,credit:r}));const A=x==="INCOME"?"إيراد":"مصروف",d=p?B.find(ue=>ue.id===y)?.subcategories?.find(ue=>ue.id===p):null,T=d?`${s?.name} (${d.name})`:s?.name,W=`${A} - ${T} - ${K} `+(g?`(Ref: ${g})`:"");await Promise.resolve(te?.({date:u,description:W,lines:le,referenceId:g||"MANUAL"})),w?F(!1):(i("تم تسجيل الحركة بنجاح","success"),L(""),z(""),ae(""),P(""),J(!1),setTimeout(()=>F(!1),500))}catch{F(!1),i("حدث خطأ أثناء الحفظ","error")}},O=x==="EXPENSE"?"rose":"emerald",D=x==="EXPENSE"?Le:Te;return e.jsxDEV("div",{className:"space-y-6 animate-fade-in max-w-5xl mx-auto",children:[!w&&e.jsxDEV("div",{className:`rounded-3xl p-8 mb-6 relative overflow-hidden shadow-2xl transition-all duration-500 ${x==="EXPENSE"?"bg-gradient-to-r from-rose-700 via-pink-600 to-fuchsia-600":"bg-gradient-to-r from-emerald-700 via-teal-600 to-cyan-600"}`,children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:420,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(D,{size:32,className:"text-white",strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:427,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:426,columnNumber:33},void 0),e.jsxDEV("h1",{className:"text-4xl font-black tracking-tight drop-shadow-md",children:x==="EXPENSE"?"تسجيل المصروفات":"تسجيل الإيرادات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:429,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:425,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-white/90 text-lg font-bold max-w-xl leading-relaxed opacity-95",children:x==="EXPENSE"?"تسجيل المصروفات النثرية والمدفوعات النقدية اليومية.":"تسجيل الإيرادات النقدية والمقبوضات اليومية."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:433,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:424,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-md p-1.5 rounded-2xl border border-white/20 flex shadow-lg",children:[e.jsxDEV("button",{onClick:()=>m("EXPENSE"),className:`px-6 py-3 rounded-xl text-sm font-black flex items-center gap-2 transition-all ${x==="EXPENSE"?"bg-white text-rose-600 shadow-md scale-105":"text-white/80 hover:bg-white/10"}`,children:[e.jsxDEV(Le,{size:18,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:444,columnNumber:33},void 0)," صادر (Expense)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>m("INCOME"),className:`px-6 py-3 rounded-xl text-sm font-black flex items-center gap-2 transition-all ${x==="INCOME"?"bg-white text-emerald-600 shadow-md scale-105":"text-white/80 hover:bg-white/10"}`,children:[e.jsxDEV(Te,{size:18,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:450,columnNumber:33},void 0)," وارد (Income)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:446,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:439,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:423,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:418,columnNumber:17},void 0),e.jsxDEV("div",{className:`bg-slate-50 ${w?"":"rounded-3xl shadow-xl border border-slate-200"} p-8`,children:e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-8 space-y-6",children:[e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2 flex items-center gap-2",children:[e.jsxDEV(rn,{size:16,className:`text-${O}-500`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:467,columnNumber:41},void 0)," الخزينة / البنك (Cash / Bank)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:466,columnNumber:37},void 0),e.jsxDEV(he,{options:Z.map(s=>({id:s.id,label:s.name,subLabel:`${s.code.startsWith("102")?"🏦 بنك":"💵 صندوق"} • رصيد: ${s.balance.toLocaleString()}`})),value:_,onChange:ie,placeholder:"اختر الخزينة أو البنك..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:469,columnNumber:37},void 0),H&&e.jsxDEV("div",{className:"mt-3 text-sm flex justify-between items-center px-4 py-2 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxDEV("span",{className:"text-slate-500 font-bold",children:"الرصيد الحالي:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:481,columnNumber:45},void 0),e.jsxDEV("span",{className:`font-black font-mono text-lg ${H.balance<0?"text-rose-600":"text-emerald-600"}`,children:H.balance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:482,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:480,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:465,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2 flex items-center gap-2",children:[e.jsxDEV(Me,{size:16,className:`text-${O}-500`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:491,columnNumber:41},void 0)," التاريخ (Date)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:490,columnNumber:37},void 0),e.jsxDEV(ve,{value:u,onChange:S},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:493,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:489,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:464,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:463,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm space-y-6 relative overflow-hidden",children:[e.jsxDEV("div",{className:`absolute top-0 right-0 w-2 h-full ${x==="EXPENSE"?"bg-rose-500":"bg-emerald-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:500,columnNumber:29},void 0),e.jsxDEV("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2 border-b border-slate-100 pb-4",children:[e.jsxDEV(cn,{size:20,className:x==="EXPENSE"?"text-rose-500":"text-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:503,columnNumber:33},void 0),"تصنيف المعاملة (Classification)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:502,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:[x==="EXPENSE"?"حساب المصروف (Expense Account)":"حساب الإيراد (Revenue Account)"," ",e.jsxDEV("span",{className:"text-rose-500",children:"*"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:510,columnNumber:133},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:509,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(he,{options:C.filter(s=>s.id===_||s.code.startsWith("101")||s.code.startsWith("102")||s.code.startsWith("106")||s.code.startsWith("107")?!1:x==="EXPENSE"?s.type==="EXPENSE"||s.code.startsWith("5")||s.code==="206"||s.name.includes("جاري الشركاء")||s.name.includes("جاري المالك")?!0:(s.code.startsWith("104")||s.code.startsWith("201")||s.code.startsWith("103")||s.code.startsWith("105")||s.code.startsWith("109")||s.code.startsWith("202")||s.code.startsWith("204")||s.code.startsWith("205"),!1):s.type==="REVENUE"||s.code.startsWith("4")||s.code==="206"||s.name.includes("جاري الشركاء")||s.name.includes("جاري المالك")||s.code.startsWith("301")||s.code.startsWith("303")?!0:(s.code.startsWith("104")||s.code.startsWith("201"),!1)).sort((s,k)=>s.code.localeCompare(k.code)).map(s=>({id:s.id,label:`${s.name}`,subLabel:`${s.code} • ${s.type==="EXPENSE"?"مصروفات":s.type==="REVENUE"?"إيرادات":s.type==="EQUITY"?"حقوق ملكية":s.type}`})),value:X,onChange:s=>{P(s),Y("")},placeholder:x==="EXPENSE"?"اختر حساب المصروف... (5xx)":"اختر حساب الإيراد... (4xx)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:514,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:513,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>pe(!0),className:"bg-slate-100 hover:bg-slate-200 text-slate-600 p-3 rounded-xl border border-slate-300 transition-colors",title:"إضافة حساب جديد",children:e.jsxDEV(Se,{size:20,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:566,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:565,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:512,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:508,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:["البند (Category) ",e.jsxDEV("span",{className:"text-rose-500",children:"*"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:574,columnNumber:118},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:574,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("select",{value:y,onChange:s=>{const k=s.target.value;Y(k);const M=B.find(le=>le.id===k);M&&M.accountId&&P(M.accountId)},className:"w-full border-2 border-slate-200 rounded-xl p-3 bg-slate-50 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 appearance-none text-sm font-bold text-slate-700 transition-all hover:bg-white focus:bg-white",children:[e.jsxDEV("option",{value:"",children:"-- اختر البند --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:589,columnNumber:49},void 0),fe.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:590,columnNumber:78},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:577,columnNumber:45},void 0),e.jsxDEV("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500",children:"▼"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:592,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:576,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>N(!0),className:"bg-slate-100 hover:bg-slate-200 text-slate-600 p-3 rounded-xl border border-slate-300 transition-colors",title:"إضافة بند جديد",children:e.jsxDEV(Se,{size:20,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:595,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:594,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:575,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:573,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:["اسم الحركة (Subcategory)",Ne.length>0&&e.jsxDEV("span",{className:"text-rose-500 ml-1",children:"*"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:603,columnNumber:78},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:601,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("select",{value:p,onChange:s=>a(s.target.value),className:"w-full border-2 border-slate-200 rounded-xl p-3 bg-slate-50 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 appearance-none text-sm font-bold text-slate-700 transition-all hover:bg-white focus:bg-white disabled:opacity-50 disabled:cursor-not-allowed",disabled:!y,children:[e.jsxDEV("option",{value:"",children:["-- ",Ne.length===0?y?"لا توجد تصنيفات فرعية":"اختر البند أولاً":"اختر اسم الحركة"," --"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:613,columnNumber:49},void 0),Ne.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:615,columnNumber:53},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:607,columnNumber:45},void 0),e.jsxDEV("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500",children:"▼"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:618,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:606,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>Ee(!0),disabled:!y,className:"bg-slate-100 hover:bg-slate-200 text-slate-600 p-3 rounded-xl border border-slate-300 transition-colors disabled:opacity-50",title:"إضافة تصنيف فرعي",children:e.jsxDEV(Se,{size:20,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:626,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:620,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:605,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:600,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:572,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:499,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:["المبلغ (Amount) ",e.jsxDEV("span",{className:"text-rose-500",children:"*"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:636,columnNumber:113},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:636,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("input",{type:"number",value:U,onChange:s=>L(parseFloat(s.target.value)||""),className:`w-full border-2 rounded-2xl p-4 pl-16 text-3xl font-black outline-none transition-all shadow-sm ${x==="EXPENSE"?"border-rose-200 focus:border-rose-500 focus:ring-4 focus:ring-rose-100 text-rose-600 bg-rose-50/30":"border-emerald-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 text-emerald-600 bg-emerald-50/30"}`,placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:638,columnNumber:37},void 0),e.jsxDEV("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-lg font-black text-slate-400 group-focus-within:text-slate-600",children:"EGP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:645,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:637,columnNumber:33},void 0),x==="EXPENSE"&&H&&typeof U=="number"&&U>H.balance&&e.jsxDEV("div",{className:"mt-2 text-sm text-rose-600 flex items-center gap-2 font-black animate-pulse bg-rose-100 p-3 rounded-xl border border-rose-200",children:[e.jsxDEV(on,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:649,columnNumber:41},void 0)," تنبيه: رصيد الخزنة لا يكفي!"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:648,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:635,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-800 mb-2",children:"البيان / التفاصيل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:655,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("textarea",{value:K,onChange:s=>z(s.target.value),className:"w-full border-2 border-slate-200 rounded-2xl p-4 pl-12 h-[88px] resize-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none text-sm font-bold text-slate-700 bg-white transition-all",placeholder:"شرح مختصر للعملية..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:657,columnNumber:37},void 0),e.jsxDEV(Ke,{className:"absolute left-4 top-4 text-slate-400",size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:663,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:656,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:654,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:634,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:460,columnNumber:21},void 0),e.jsxDEV("div",{className:"lg:col-span-4 space-y-4",children:[e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"رقم مرجعي / إيصال"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:674,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:g,onChange:s=>ae(s.target.value),className:"w-full border-2 border-slate-200 rounded-xl p-3 pl-10 text-sm font-bold focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 outline-none bg-slate-50 focus:bg-white transition-all",placeholder:"اختياري..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:676,columnNumber:37},void 0),e.jsxDEV(cn,{className:"absolute left-3 top-3.5 text-slate-400",size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:683,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:675,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:673,columnNumber:29},void 0),e.jsxDEV("div",{className:"pt-4 border-t border-slate-100",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("label",{className:"text-sm font-black text-slate-800",children:"الضريبة (VAT)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:689,columnNumber:37},void 0),x==="EXPENSE"&&e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-100 px-3 py-1.5 rounded-lg hover:bg-slate-200 transition-colors",children:[e.jsxDEV("input",{type:"checkbox",checked:b,onChange:s=>J(s.target.checked),className:"w-4 h-4 rounded border-slate-400 text-teal-600 focus:ring-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:692,columnNumber:45},void 0),e.jsxDEV("span",{className:"text-xs text-slate-700 font-bold",children:"شامل 14%"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:693,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:691,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:688,columnNumber:33},void 0),b&&e.jsxDEV("div",{className:"flex justify-between items-center text-sm bg-rose-50 p-3 rounded-xl border border-rose-100",children:[e.jsxDEV("span",{className:"text-rose-800 font-bold",children:"قيمة الضريبة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:699,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-black text-rose-600 text-lg",children:c.toLocaleString(void 0,{maximumFractionDigits:2})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:700,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:698,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:687,columnNumber:29},void 0),e.jsxDEV("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 hover:bg-slate-50 hover:border-indigo-400 hover:text-indigo-500 transition-all cursor-pointer h-32 group",children:[e.jsxDEV("div",{className:"p-3 bg-slate-100 rounded-full mb-2 group-hover:bg-indigo-100 transition-colors",children:e.jsxDEV(On,{size:24},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:708,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:707,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs font-bold",children:"اضغط لإرفاق ملفات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:710,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:706,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:672,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[oe&&e.jsxDEV("button",{onClick:oe,className:"flex-1 bg-white border-2 border-slate-200 text-slate-600 py-4 rounded-xl font-black hover:bg-slate-50 hover:border-slate-300 text-base transition-all",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:717,columnNumber:33},void 0),e.jsxDEV("button",{onClick:q,disabled:t,className:`flex-[2] text-white py-4 rounded-xl font-black shadow-xl flex items-center justify-center gap-3 transition-all hover:-translate-y-1 active:translate-y-0 text-lg ${x==="EXPENSE"?"bg-gradient-to-r from-rose-600 to-pink-600 hover:shadow-rose-200":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:shadow-emerald-200"} ${t?"opacity-70 cursor-not-allowed":""}`,children:[e.jsxDEV(sn,{size:24},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:726,columnNumber:33},void 0)," ",t?"جاري الحفظ...":w?"حفظ التعديلات":x==="EXPENSE"?"تسجيل المصروف":"تسجيل الإيراد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:721,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:715,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:670,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:458,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:457,columnNumber:13},void 0),E&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 backdrop-blur-sm animate-fade-in",children:e.jsxDEV("div",{className:"bg-white p-6 rounded-xl shadow-lg w-96",children:[e.jsxDEV("h3",{className:"font-bold text-lg mb-4",children:["إضافة بند جديد (",x==="EXPENSE"?"مصروفات":"إيرادات",")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:737,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"اسم البند"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:740,columnNumber:33},void 0),e.jsxDEV("input",{autoFocus:!0,type:"text",placeholder:"مثلاً: كهرباء، صيانة...",value:v,onChange:s=>R(s.target.value),className:"w-full border border-slate-300 rounded-lg p-3 outline-none focus:border-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:741,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:739,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"الحساب الافتراضي (اختياري)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:751,columnNumber:33},void 0),e.jsxDEV("select",{value:f,onChange:s=>Q(s.target.value),className:"w-full border border-slate-300 rounded-lg p-3 outline-none focus:border-teal-500 text-sm",children:[e.jsxDEV("option",{value:"",children:"-- اختر الحساب المرتبط --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:757,columnNumber:37},void 0),C.filter(s=>s.id!==_).map(s=>e.jsxDEV("option",{value:s.id,children:[s.code," - ",s.name]},s.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:761,columnNumber:45},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:752,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-[10px] text-slate-400 mt-1",children:"سيتم اختيار هذا الحساب تلقائياً عند اختيار البند."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:764,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:750,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:738,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsxDEV("button",{onClick:()=>N(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:768,columnNumber:29},void 0),e.jsxDEV("button",{onClick:n,className:"px-4 py-2 bg-teal-600 text-white rounded-lg font-bold hover:bg-teal-700",children:"إضافة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:769,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:767,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:736,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:735,columnNumber:17},void 0),Pe&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 backdrop-blur-sm animate-fade-in",children:e.jsxDEV("div",{className:"bg-white p-6 rounded-xl shadow-lg w-96",children:[e.jsxDEV("h3",{className:"font-bold text-lg mb-4",children:["إضافة حساب جديد (",x==="EXPENSE"?"مصروفات":"إيرادات",")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:779,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"اسم الحساب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:782,columnNumber:33},void 0),e.jsxDEV("input",{autoFocus:!0,type:"text",placeholder:"مثلاً: مصاريف نثرية...",value:o,onChange:s=>I(s.target.value),className:"w-full border border-slate-300 rounded-lg p-3 outline-none focus:border-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:783,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:781,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"كود الحساب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:793,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",placeholder:"مثلاً: 5120",value:V,onChange:s=>$(s.target.value),className:"w-full border border-slate-300 rounded-lg p-3 outline-none focus:border-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:794,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:792,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:780,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsxDEV("button",{onClick:()=>pe(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:804,columnNumber:29},void 0),e.jsxDEV("button",{onClick:G,className:"px-4 py-2 bg-teal-600 text-white rounded-lg font-bold hover:bg-teal-700",children:"إضافة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:805,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:803,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:778,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:777,columnNumber:17},void 0),h&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 backdrop-blur-sm animate-fade-in",children:e.jsxDEV("div",{className:"bg-white p-6 rounded-xl shadow-lg w-96",children:[e.jsxDEV("h3",{className:"font-bold text-lg mb-4",children:"إضافة اسم حركة جديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:815,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"البند الأساسي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:818,columnNumber:33},void 0),e.jsxDEV("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-3 text-sm font-bold text-slate-700",children:B.find(s=>s.id===y)?.name||"غير محدد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:819,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:817,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"اسم الحركة (Subcategory)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:824,columnNumber:33},void 0),e.jsxDEV("input",{autoFocus:!0,type:"text",placeholder:"مثلاً: كهرباء المكتب، مياه المصنع...",value:me,onChange:s=>be(s.target.value),className:"w-full border border-slate-300 rounded-lg p-3 outline-none focus:border-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:825,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-[10px] text-slate-400 mt-1",children:"سيتم ربط هذا التصنيف الفرعي بالبند المحدد أعلاه."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:833,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:823,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:816,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsxDEV("button",{onClick:()=>Ee(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:837,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Ce,className:"px-4 py-2 bg-teal-600 text-white rounded-lg font-bold hover:bg-teal-700",children:"إضافة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:836,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:814,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:813,columnNumber:17},void 0),e.jsxDEV(Je,{isOpen:j.isOpen,onClose:()=>se(s=>({...s,isOpen:!1})),message:j.message,type:j.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:844,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/DailyCashRegistration.tsx",lineNumber:416,columnNumber:9},void 0)},no=({journal:C,accounts:B,onDelete:te,onEdit:ne,categories:re,onAddCategory:w,costCenters:oe,onNavigate:x,onEditTransfer:m,onEditCashEntry:u})=>{const[S,U]=l.useState(Re()),[L,y]=l.useState(Re()),[Y,p]=l.useState(null),[a,K]=l.useState("ALL"),[z,g]=l.useState("ALL"),[ae,_]=l.useState(!1),[ie,X]=l.useState("ALL"),[P,b]=l.useState("ALL"),[J,c]=l.useState("ALL"),[ce,j]=l.useState(""),[se,t]=l.useState(1),F=50,[i,E]=l.useState(new Set),[N,v]=l.useState({isOpen:!1,message:"",type:"info"}),R=(o,I="error")=>{v({isOpen:!0,message:o,type:I})},f=l.useCallback(o=>{if(o.referenceId){const I=window.location.origin+window.location.pathname;o.referenceId.startsWith("INV-")||o.referenceId.startsWith("PUR-")||o.referenceId.startsWith("RET-")?window.open(`${I}#/inv-edit|${o.referenceId}`,"_blank"):o.referenceId.startsWith("PAY-")?window.open(`${I}#/sup-payments|${o.referenceId}`,"_blank"):o.referenceId.startsWith("REC-")?window.open(`${I}#/cust-payments|${o.referenceId}`,"_blank"):o.description.includes("تحويل داخلي")?m?m(o):R('التحويلات الداخلية لا يمكن تعديلها من يومية الخزينة. للتعديل، قم بحذف القيد وإنشاء تحويل جديد من صفحة "تحويل داخلي".',"info"):p(o)}else p(o)},[m]),Q=l.useMemo(()=>{const o=new Map;return B.forEach(I=>o.set(I.id,I)),o},[B]),Z=l.useMemo(()=>C.filter(o=>{const I=_e(o.date),V=I>=S&&I<=L,$=o.lines.some(q=>{const O=Q.get(q.accountId);return O?z==="CASH"?O.code.startsWith("101"):z==="BANK"?O.code.startsWith("102"):z==="CHEQUES"?O.code.startsWith("106")||O.code.startsWith("107"):O.code.startsWith("101")||O.code.startsWith("102")||O.code.startsWith("106")||O.code.startsWith("107"):!1});if(!V||!$)return!1;if(ce.trim()){const q=ce.toLowerCase(),O=o.description.toLowerCase().includes(q),D=o.referenceId?.toLowerCase().includes(q);if(!O&&!D)return!1}if(ie!=="ALL"&&!o.lines.some(O=>O.accountId===ie))return!1;if(P!=="ALL"){const q=re?.find(O=>O.id===P);if(q&&!o.description.toLowerCase().includes(q.name.toLowerCase()))return!1}if(J!=="ALL"){let q="";if(P!=="ALL"){const D=re?.find(s=>s.id===P)?.subcategories?.find(s=>s.id===J);D&&(q=D.name)}else for(const O of re||[]){const D=O.subcategories?.find(s=>s.id===J);if(D){q=D.name;break}}if(q&&!o.description.toLowerCase().includes(q.toLowerCase()))return!1}if(a==="ALL")return!0;const G=o.description.toLowerCase();if(a==="SALES")return G.includes("مبيعات")||G.includes("sale")||G.includes("عميل");if(a==="PURCHASES")return G.includes("مشتريات")||G.includes("purchase")||G.includes("مورد");if(a==="EXPENSES")return G.includes("مصروف")||G.includes("expense");if(a==="INCOME"){const q=o.lines.find(O=>{const D=Q.get(O.accountId);return D&&(D.code.startsWith("101")||D.code.startsWith("102")||D.code.startsWith("106")||D.code.startsWith("107"))});return q&&q.debit>0}if(a==="OUTCOME"){const q=o.lines.find(O=>{const D=Q.get(O.accountId);return D&&(D.code.startsWith("101")||D.code.startsWith("102")||D.code.startsWith("106")||D.code.startsWith("107"))});return q&&q.credit>0}return!0}),[C,Q,S,L,ce,ie,P,J,re,a,z]),H=l.useCallback(o=>z==="CASH"?o.code.startsWith("101"):z==="BANK"?o.code.startsWith("102"):z==="CHEQUES"?o.code.startsWith("106")||o.code.startsWith("107"):o.code.startsWith("101")||o.code.startsWith("102")||o.code.startsWith("106")||o.code.startsWith("107"),[z]),de=l.useMemo(()=>Z.reduce((o,I)=>{const $=I.lines.filter(G=>{const q=Q.get(G.accountId);return q&&H(q)}).reduce((G,q)=>G+q.debit,0);return o+$},0),[Z,Q,H]),ee=l.useMemo(()=>Z.reduce((o,I)=>{const $=I.lines.filter(G=>{const q=Q.get(G.accountId);return q&&H(q)}).reduce((G,q)=>G+q.credit,0);return o+$},0),[Z,Q,H]),fe=l.useMemo(()=>{const o=B.filter($=>H($)).map($=>$.id),I=B.filter($=>o.includes($.id)).reduce(($,G)=>$+(Number(G.openingBalance)||0),0),V=C.reduce(($,G)=>{if(_e(G.date)>=S)return $;const D=G.lines.filter(s=>o.includes(s.accountId)).reduce((s,k)=>s+(k.debit-k.credit),0);return $+D},0);return I+V},[C,B,S,H]),Ne=l.useMemo(()=>fe+de-ee,[fe,de,ee]),n=l.useMemo(()=>z==="CASH"?"رصيد الخزينة":z==="BANK"?"رصيد البنوك":z==="CHEQUES"?"رصيد الشيكات":"الرصيد العام",[z]),h=l.useCallback(o=>{if(!Y)return;const I={...Y,date:o.date,description:o.description,lines:o.lines,referenceId:o.referenceId||Y.referenceId};if(!I.id){R("خطأ: فشل تحديد هوية القيد المراد تعديله","error");return}ne?.(I),p(null)},[Y,ne]),Ee=Math.ceil(Z.length/F),me=l.useMemo(()=>{const o=(se-1)*F;return Z.slice(o,o+F)},[Z,se]),be=l.useCallback(()=>{const o=i.size>0?Z.filter(q=>i.has(q.id)):Z,I=[["رقم القيد","التاريخ","الوصف","وارد (مدين)","صادر (دائن)","الحساب المقابل","الرقم المرجعي"].join(","),...o.map(q=>{const O=q.lines.filter(le=>{const r=Q.get(le.accountId);return r&&(r.code.startsWith("101")||r.code.startsWith("102")||r.code.startsWith("106")||r.code.startsWith("107"))}),D=O.reduce((le,r)=>le+r.debit,0),s=O.reduce((le,r)=>le+r.credit,0),M=q.lines.filter(le=>!O.includes(le)).map(le=>le.accountName).join(" | ");return[`#${q.id}`,_e(q.date),`"${q.description.replace(/"/g,'""')}"`,D>0?D:"",s>0?s:"",`"${M.replace(/"/g,'""')}"`,q.referenceId||""].join(",")})].join(`
`),V="\uFEFF",$=new Blob([V+I],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a");G.href=URL.createObjectURL($),G.download=`يومية_الخزينة_${S}_إلى_${L}.csv`,G.click(),R(`تم تصدير ${o.length} حركة بنجاح`,"success")},[Z,i,Q,S,L]),Ce=l.useCallback(()=>{if(i.size===0){R("الرجاء تحديد حركات للحذف","warning");return}confirm(`هل أنت متأكد من حذف ${i.size} حركة؟`)&&(i.forEach(o=>te?.(o)),E(new Set),R(`تم حذف ${i.size} حركة بنجاح`,"success"))},[i,te]),Pe=l.useCallback(o=>{E(I=>{const V=new Set(I);return V.has(o)?V.delete(o):V.add(o),V})},[]),pe=l.useCallback(()=>{const o=me.map(V=>V.id),I=o.every(V=>i.has(V));E(I?V=>{const $=new Set(V);return o.forEach(G=>$.delete(G)),$}:V=>{const $=new Set(V);return o.forEach(G=>$.add(G)),$})},[me,i]);return e.jsxDEV("div",{className:"space-y-6",id:"daily-journal-print",children:[e.jsxDEV("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-8 shadow-2xl print:hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-30",children:[e.jsxDEV("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:402,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute -bottom-24 -left-24 w-80 h-80 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s"}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:403,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-teal-400 to-emerald-400 rounded-full blur-3xl opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:404,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:401,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:408,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxDEV("div",{className:"flex items-center gap-5",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl blur-lg opacity-60"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:413,columnNumber:29},void 0),e.jsxDEV("div",{className:"relative p-4 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-xl border border-white/20",children:e.jsxDEV(we,{size:32,className:"text-white",strokeWidth:2},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:415,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:414,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:412,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl md:text-4xl font-black text-white tracking-tight",children:["يومية الخزينة",e.jsxDEV(Wn,{className:"inline-block mr-2 w-6 h-6 text-amber-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:421,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:419,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-400 text-sm font-medium mt-1",children:"Treasury Journal • Daily Cash Movements"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:423,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:418,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:411,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"px-4 py-2 bg-white/10 backdrop-blur-md rounded-xl border border-white/10",children:[e.jsxDEV("span",{className:"text-emerald-400 text-xs font-bold block",children:"حركات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-white text-lg font-black",children:Z.length},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:431,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:429,columnNumber:25},void 0),e.jsxDEV("div",{className:"hidden sm:block px-4 py-2 bg-white/10 backdrop-blur-md rounded-xl border border-white/10",children:[e.jsxDEV(Me,{className:"w-4 h-4 text-slate-400 inline-block ml-1"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:434,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-white text-sm font-medium",children:S===L?S:`${S} → ${L}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:435,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:433,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:428,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:410,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:399,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2 print:hidden",children:[e.jsxDEV("button",{onClick:()=>g("ALL"),className:`px-5 py-2.5 rounded-xl font-bold transition-all flex items-center gap-2 ${z==="ALL"?"bg-gradient-to-r from-slate-700 to-slate-900 text-white shadow-lg":"bg-white text-slate-600 border-2 border-slate-200 hover:border-slate-400"}`,children:"🔄 الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:443,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>g("CASH"),className:`px-5 py-2.5 rounded-xl font-bold transition-all flex items-center gap-2 ${z==="CASH"?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25":"bg-white text-emerald-600 border-2 border-emerald-200 hover:border-emerald-400"}`,children:"💵 الخزينة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:452,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>g("BANK"),className:`px-5 py-2.5 rounded-xl font-bold transition-all flex items-center gap-2 ${z==="BANK"?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/25":"bg-white text-blue-600 border-2 border-blue-200 hover:border-blue-400"}`,children:"🏦 البنوك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:461,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>g("CHEQUES"),className:`px-5 py-2.5 rounded-xl font-bold transition-all flex items-center gap-2 ${z==="CHEQUES"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-lg shadow-amber-500/25":"bg-white text-amber-600 border-2 border-amber-200 hover:border-amber-400"}`,children:"📄 الشيكات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:470,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:442,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col gap-5 print:hidden",children:[e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[i.size>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"px-4 py-2 bg-gradient-to-r from-teal-500/20 to-emerald-500/20 text-teal-700 rounded-xl text-sm font-bold border border-teal-200",children:["✓ ",i.size," محدد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:486,columnNumber:29},void 0),e.jsxDEV("button",{onClick:be,className:"px-4 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl hover:from-emerald-600 hover:to-teal-600 flex items-center gap-2 text-sm font-bold shadow-lg shadow-emerald-500/25 transition-all hover:scale-105",children:[e.jsxDEV(nn,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:493,columnNumber:33},void 0)," تصدير المحدد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:489,columnNumber:29},void 0),e.jsxDEV("button",{onClick:Ce,className:"px-4 py-2.5 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-xl hover:from-rose-600 hover:to-pink-600 flex items-center gap-2 text-sm font-bold shadow-lg shadow-rose-500/25 transition-all hover:scale-105",children:[e.jsxDEV(Xe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:499,columnNumber:33},void 0)," حذف المحدد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:495,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:485,columnNumber:25},void 0),e.jsxDEV("button",{onClick:be,className:"px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl hover:from-emerald-700 hover:to-teal-700 flex items-center gap-2 font-bold shadow-lg shadow-emerald-500/20 transition-all hover:shadow-xl",title:"تصدير الكل لملف Excel",children:[e.jsxDEV(nn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:508,columnNumber:25},void 0)," تصدير Excel"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:503,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>_(!ae),className:`px-5 py-2.5 rounded-xl flex items-center gap-2 font-bold transition-all ${ae?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white shadow-lg shadow-teal-500/25":"bg-white text-slate-600 border-2 border-slate-200 hover:border-teal-300 hover:text-teal-600"}`,children:[e.jsxDEV(We,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:516,columnNumber:25},void 0),ae?"إخفاء الفلاتر":"فلاتر متقدمة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:510,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Ye("daily-journal-print",`Treasury Journal ${S} to ${L}`),className:"px-5 py-2.5 bg-gradient-to-r from-slate-700 to-slate-800 text-white rounded-xl hover:from-slate-800 hover:to-slate-900 flex items-center gap-2 font-bold shadow-lg transition-all",children:[e.jsxDEV(ke,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:523,columnNumber:25},void 0)," طباعة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:519,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:483,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-xl p-6 rounded-2xl border border-slate-200/80 shadow-xl shadow-slate-200/50",children:[e.jsxDEV("div",{className:"relative mb-5",children:[e.jsxDEV("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-gradient-to-br from-slate-100 to-slate-50 rounded-lg",children:e.jsxDEV(tn,{className:"text-slate-500",size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:532,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:531,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",placeholder:"🔍 بحث سريع في الوصف أو الرقم المرجعي...",value:ce,onChange:o=>j(o.target.value),className:"w-full pr-16 pl-5 py-4 bg-slate-50/80 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 outline-none text-base font-medium placeholder:text-slate-400 transition-all"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:534,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:530,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2 grid grid-cols-2 gap-4 p-4 bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-xl border border-slate-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 mb-2",children:[e.jsxDEV(Me,{size:14,className:"text-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:549,columnNumber:37},void 0),"من تاريخ"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:548,columnNumber:33},void 0),e.jsxDEV(ve,{value:S,onChange:U},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:552,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:547,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 mb-2",children:[e.jsxDEV(Me,{size:14,className:"text-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:556,columnNumber:37},void 0),"إلى تاريخ"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:555,columnNumber:33},void 0),e.jsxDEV(ve,{value:L,onChange:y},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:559,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:554,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:546,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-4 bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-xl border border-slate-200",children:[e.jsxDEV("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 mb-2",children:[e.jsxDEV(En,{size:14,className:"text-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:566,columnNumber:33},void 0),"نوع الحركة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:565,columnNumber:29},void 0),e.jsxDEV("select",{className:"w-full p-3 text-sm border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 outline-none bg-white font-medium transition-all cursor-pointer",value:a,onChange:o=>K(o.target.value),children:[e.jsxDEV("option",{value:"ALL",children:"🔄 الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:574,columnNumber:33},void 0),e.jsxDEV("option",{value:"SALES",children:"💰 مبيعات / عملاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:575,columnNumber:33},void 0),e.jsxDEV("option",{value:"PURCHASES",children:"📦 مشتريات / موردين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:576,columnNumber:33},void 0),e.jsxDEV("option",{value:"EXPENSES",children:"📤 مصروفات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:577,columnNumber:33},void 0),e.jsxDEV("option",{value:"INCOME",children:"📥 وارد (مدين)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:578,columnNumber:33},void 0),e.jsxDEV("option",{value:"OUTCOME",children:"📤 صادر (دائن)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:579,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:569,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:564,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:544,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:528,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-end gap-3",children:[e.jsxDEV("button",{onClick:async()=>{try{R("جاري إعادة احتساب أرصدة الحسابات...","info");const o=await He.recalculateAccountBalances();R(o.message+(o.updatedCount>0?` (${o.changes.slice(0,5).map(I=>`${I.accountName}: ${I.oldBalance.toLocaleString()} → ${I.newBalance.toLocaleString()}`).join(", ")})`:""),"success"),window.location.reload()}catch(o){R("فشل إعادة الاحتساب: "+(o.message||"خطأ غير معروف"),"error")}},className:"px-5 py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 text-sm font-bold flex items-center gap-2 shadow-lg shadow-amber-200 transition-all hover:scale-105",title:"إعادة احتساب أرصدة جميع الحسابات من القيود اليومية",children:[e.jsxDEV(Un,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:602,columnNumber:25},void 0)," مطابقة الأرصدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:587,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{U(Re()),y(Re()),K("ALL"),g("ALL"),j(""),X("ALL"),b("ALL"),c("ALL"),E(new Set),t(1)},className:"px-5 py-2.5 bg-gradient-to-r from-slate-100 to-slate-200 text-slate-700 rounded-xl hover:from-slate-200 hover:to-slate-300 text-sm font-bold flex items-center gap-2 border border-slate-300 transition-all hover:scale-105",children:[e.jsxDEV(_n,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:619,columnNumber:25},void 0)," إعادة تعيين"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:604,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:586,columnNumber:17},void 0),ae&&e.jsxDEV("div",{className:"bg-gradient-to-br from-slate-50 via-white to-teal-50/30 p-6 rounded-2xl border border-slate-200/80 shadow-lg",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 mb-5 flex items-center gap-3 text-base",children:[e.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-lg shadow-lg shadow-teal-500/25",children:e.jsxDEV(We,{size:16,className:"text-white"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:628,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:627,columnNumber:29},void 0),"فلاتر متقدمة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:626,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsxDEV("div",{className:"p-4 bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-2",children:"💳 حساب المصروف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:635,columnNumber:33},void 0),e.jsxDEV("select",{value:ie,onChange:o=>{X(o.target.value),b("ALL"),c("ALL")},className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 bg-slate-50/50 font-medium text-sm transition-all cursor-pointer",children:[e.jsxDEV("option",{value:"ALL",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:647,columnNumber:37},void 0),B.filter(o=>o.type==="EXPENSE").map(o=>e.jsxDEV("option",{value:o.id,children:[o.name," (",o.code,")"]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:651,columnNumber:45},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:638,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:634,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-4 bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-2",children:"📁 البند"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:660,columnNumber:33},void 0),e.jsxDEV("select",{value:P,onChange:o=>{b(o.target.value),c("ALL")},className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 bg-slate-50/50 font-medium text-sm transition-all cursor-pointer",children:[e.jsxDEV("option",{value:"ALL",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:671,columnNumber:37},void 0),re?.filter(o=>!o.parentId&&(ie==="ALL"||o.accountId===ie)).map(o=>e.jsxDEV("option",{value:o.id,children:o.name},o.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:673,columnNumber:41},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:663,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:659,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-4 bg-white rounded-xl border border-slate-200 shadow-sm",children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-2",children:"📋 اسم الحركة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:682,columnNumber:33},void 0),e.jsxDEV("select",{value:J,onChange:o=>c(o.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 bg-slate-50/50 font-medium text-sm transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",disabled:P==="ALL",children:[e.jsxDEV("option",{value:"ALL",children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:691,columnNumber:37},void 0),P!=="ALL"&&re?.find(o=>o.id===P)?.subcategories?.map(o=>e.jsxDEV("option",{value:o.id,children:o.name},o.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:695,columnNumber:45},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:685,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:681,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:632,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:625,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:481,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden print:block text-center mb-6 border-b pb-4",children:e.jsxDEV("h2",{className:"text-xl font-bold",children:["يومية الخزينة - من ",S," إلى ",L]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:707,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:706,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-5 mb-6",children:[e.jsxDEV("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-500 to-slate-700 p-4 md:p-6 rounded-2xl shadow-xl shadow-slate-500/20 group hover:scale-[1.02] transition-all",children:[e.jsxDEV("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-all duration-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:714,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10 flex items-center gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsxDEV(rn,{size:24,className:"text-white md:w-7 md:h-7"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:717,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:716,columnNumber:25},void 0),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"text-slate-200 text-xs md:text-sm font-bold mb-1",children:"رصيد أول الفترة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:720,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xl md:text-2xl font-black text-white tracking-tight truncate",dir:"ltr",children:fe.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:721,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:715,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:713,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-teal-600 p-4 md:p-6 rounded-2xl shadow-xl shadow-emerald-500/20 group hover:scale-[1.02] transition-all",children:[e.jsxDEV("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-all duration-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:728,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10 flex items-center gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsxDEV(Ie,{size:24,className:"text-white md:w-7 md:h-7"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:731,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:730,columnNumber:25},void 0),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"text-emerald-100 text-xs md:text-sm font-bold mb-1",children:"إجمالي الوارد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:734,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xl md:text-2xl font-black text-white tracking-tight truncate",dir:"ltr",children:["+",de.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:735,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:733,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:729,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:727,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative overflow-hidden bg-gradient-to-br from-rose-500 to-pink-600 p-4 md:p-6 rounded-2xl shadow-xl shadow-rose-500/20 group hover:scale-[1.02] transition-all",children:[e.jsxDEV("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-all duration-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:742,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10 flex items-center gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsxDEV(Qe,{size:24,className:"text-white md:w-7 md:h-7"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:745,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:744,columnNumber:25},void 0),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("div",{className:"text-rose-100 text-xs md:text-sm font-bold mb-1",children:"إجمالي الصادر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:748,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xl md:text-2xl font-black text-white tracking-tight truncate",dir:"ltr",children:["-",ee.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:749,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:747,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:743,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:741,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative overflow-hidden bg-gradient-to-br from-amber-500 via-yellow-500 to-orange-500 p-4 md:p-6 rounded-2xl shadow-xl shadow-amber-500/30 group hover:scale-[1.02] transition-all col-span-2 md:col-span-1",children:[e.jsxDEV("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/20 rounded-full blur-2xl group-hover:scale-150 transition-all duration-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:756,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-orange-600/30 to-transparent"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:757,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10 flex items-center gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/30 rounded-xl backdrop-blur-sm shadow-lg",children:e.jsxDEV(ze,{size:24,className:"text-white md:w-7 md:h-7"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:760,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:759,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"text-amber-100 text-xs md:text-sm font-bold mb-1 flex items-center gap-2",children:[e.jsxDEV("span",{children:n},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:764,columnNumber:33},void 0),e.jsxDEV("span",{className:"hidden md:inline text-[10px] bg-white/20 px-1.5 py-0.5 rounded",children:"يجب أن يكون = الخزنة الفعلية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:765,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:763,columnNumber:29},void 0),e.jsxDEV("div",{className:`text-2xl md:text-3xl font-black tracking-tight ${Ne>=0?"text-white":"text-red-200"}`,dir:"ltr",children:Ne.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:767,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:762,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:758,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:755,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:711,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative overflow-hidden bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 p-4 rounded-xl shadow-lg mb-6 print:hidden",children:e.jsxDEV("div",{className:"flex flex-wrap items-center justify-center gap-4 md:gap-8 text-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(En,{size:18,className:"text-teal-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:779,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-slate-400 font-medium",children:"صافي حركة الفترة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:780,columnNumber:25},void 0),e.jsxDEV("span",{className:`font-black ${de-ee>=0?"text-emerald-400":"text-rose-400"}`,dir:"ltr",children:[de-ee>=0?"+":"",(de-ee).toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:781,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:778,columnNumber:21},void 0),e.jsxDEV("div",{className:"hidden md:block h-6 w-px bg-slate-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:785,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-slate-500 text-xs font-medium",children:["رصيد أول (",fe.toLocaleString(),") + وارد (",de.toLocaleString(),") - صادر (",ee.toLocaleString(),") = ",e.jsxDEV("span",{className:"text-amber-400 font-bold",children:Ne.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:787,columnNumber:145},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:786,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:777,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:776,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl shadow-slate-200/50 border border-slate-200/80 overflow-hidden print:border-0 print:shadow-none print:bg-white",children:[e.jsxDEV("table",{className:"hidden md:table w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4 w-12 print:hidden",children:e.jsxDEV("input",{type:"checkbox",checked:me.length>0&&me.every(o=>i.has(o.id)),onChange:pe,className:"w-4 h-4 text-teal-500 rounded focus:ring-teal-500 accent-teal-500 cursor-pointer"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:798,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:797,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-slate-300 font-bold text-xs uppercase tracking-wider",children:"م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:805,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-slate-300 font-bold text-xs uppercase tracking-wider",children:"الوصف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:806,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-center",children:e.jsxDEV("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500/20 text-emerald-300 rounded-lg text-xs font-bold",children:[e.jsxDEV(Ie,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:809,columnNumber:37},void 0)," وارد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:808,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:807,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-center",children:e.jsxDEV("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-rose-500/20 text-rose-300 rounded-lg text-xs font-bold",children:[e.jsxDEV(Qe,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:814,columnNumber:37},void 0)," صادر"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:813,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:812,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-slate-300 font-bold text-xs uppercase tracking-wider",children:"العميل / المستفيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:817,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-slate-300 font-bold text-xs uppercase tracking-wider text-center",children:"المستخدم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:818,columnNumber:29},void 0),e.jsxDEV("th",{className:"p-4 text-slate-300 font-bold text-xs uppercase tracking-wider text-center print:hidden",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:819,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:796,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:795,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100/80",children:[me.map((o,I)=>{const V=o.lines.filter(M=>{const le=Q.get(M.accountId);return le&&(le.code.startsWith("101")||le.code.startsWith("102")||le.code.startsWith("106")||le.code.startsWith("107"))}),$=V.reduce((M,le)=>M+le.debit,0),G=V.reduce((M,le)=>M+le.credit,0),q=o.lines.filter(M=>!V.includes(M));let O="";const D=o.description;if(o.referenceId&&(o.referenceId.startsWith("INV-")||o.referenceId.startsWith("REC-")||o.referenceId.startsWith("PAY-"))){const M=D.split(" - ");M.length>=2&&(O=M[1].replace(/\(Ref:.*?\)\s*$/,"").trim())}else O=q.map(M=>M.accountName).join(", ");let s=D;if(D.includes("فاتورة مبيعات")||D.includes("INV-"))s="فاتورة مبيعات";else if(D.includes("فاتورة مشتريات")||D.includes("PUR-"))s="فاتورة مشتريات";else if(D.includes("سند قبض")||D.includes("REC-"))s="سند قبض";else if(D.includes("سند صرف")||D.includes("PAY-"))s="سند صرف";else if(D.includes("مرتجع مبيعات"))s="مرتجع مبيعات";else if(D.includes("مرتجع مشتريات"))s="مرتجع مشتريات";else{const M=D.split(" - ");M.length>=2&&(s=M[0]+" - "+M[1])}const k=`#${o.id.slice(-6).toUpperCase()}`;return e.jsxDEV("tr",{className:`group transition-all duration-200 ${i.has(o.id)?"bg-gradient-to-r from-teal-50 to-emerald-50":"hover:bg-slate-50/80 odd:bg-white even:bg-slate-50/50"}`,children:[e.jsxDEV("td",{className:"p-4 print:hidden",children:e.jsxDEV("input",{type:"checkbox",checked:i.has(o.id),onChange:()=>Pe(o.id),className:"w-4 h-4 text-teal-600 rounded focus:ring-teal-500 cursor-pointer"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:881,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:880,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("span",{className:"inline-block px-2.5 py-1 bg-slate-100 text-slate-600 font-mono text-xs font-bold rounded-lg",children:k},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:889,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:888,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("span",{className:"font-bold text-slate-800",children:s},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:894,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:893,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:$!==0?e.jsxDEV("span",{className:`inline-block px-3 py-1.5 font-mono font-bold rounded-lg text-sm ${$>0?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:[$>0?"+":"",$.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:898,columnNumber:45},void 0):e.jsxDEV("span",{className:"text-slate-300",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:902,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:896,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:G!==0?e.jsxDEV("span",{className:`inline-block px-3 py-1.5 font-mono font-bold rounded-lg text-sm ${G>0?"bg-rose-100 text-rose-700":"bg-cyan-100 text-cyan-700"}`,children:[G>0?"-":"+",Math.abs(G).toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:907,columnNumber:45},void 0):e.jsxDEV("span",{className:"text-slate-300",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:911,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:905,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-slate-600 font-medium text-sm max-w-[200px] truncate",children:O||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:914,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:o.createdBy?e.jsxDEV("span",{className:"inline-flex items-center gap-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 px-2.5 py-1 rounded-lg text-xs font-bold border border-blue-100",children:[e.jsxDEV("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:919,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:918,columnNumber:49},void 0),o.createdBy]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:917,columnNumber:45},void 0):e.jsxDEV("span",{className:"text-slate-300 text-xs",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:924,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:915,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-center print:hidden",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1.5 opacity-60 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:()=>f(o),className:"p-2 bg-slate-100 text-slate-500 rounded-lg hover:bg-blue-500 hover:text-white transition-all shadow-sm",title:"تعديل",children:e.jsxDEV(ln,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:934,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:929,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>te?.(o.id),className:"p-2 bg-slate-100 text-slate-500 rounded-lg hover:bg-rose-500 hover:text-white transition-all shadow-sm",title:"حذف",children:e.jsxDEV(Xe,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:941,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:936,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:928,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:927,columnNumber:37},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:879,columnNumber:33},void 0)}),me.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:8,className:"p-16 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center gap-3",children:[e.jsxDEV("div",{className:"p-4 bg-slate-100 rounded-full",children:e.jsxDEV(we,{size:32,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:953,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:952,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-slate-400 font-medium",children:"لا توجد حركات نقدية في هذه الفترة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:955,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:951,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:950,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:949,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:822,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:794,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3 p-3",children:[me.map(o=>{const I=o.lines.filter(k=>{const M=Q.get(k.accountId);return M&&(M.code.startsWith("101")||M.code.startsWith("102")||M.code.startsWith("106")||M.code.startsWith("107"))}),V=I.reduce((k,M)=>k+M.debit,0),$=I.reduce((k,M)=>k+M.credit,0),G=o.lines.filter(k=>!I.includes(k));let q="";const O=o.description;if(o.referenceId&&(o.referenceId.startsWith("INV-")||o.referenceId.startsWith("REC-")||o.referenceId.startsWith("PAY-"))){const k=O.split(" - ");k.length>=2&&(q=k[1].replace(/\(Ref:.*?\)\s*$/,"").trim())}else q=G.map(k=>k.accountName).join(", ");let D=O;if(O.includes("فاتورة مبيعات"))D="فاتورة مبيعات";else if(O.includes("فاتورة مشتريات"))D="فاتورة مشتريات";else if(O.includes("سند قبض"))D="سند قبض";else if(O.includes("سند صرف"))D="سند صرف";else if(O.includes("مرتجع مبيعات"))D="مرتجع مبيعات";else if(O.includes("مرتجع مشتريات"))D="مرتجع مشتريات";else{const k=O.split(" - ");k.length>=2&&(D=k[0]+" - "+k[1])}const s=`#${o.id.slice(-6).toUpperCase()}`;return e.jsxDEV("div",{className:`bg-white border rounded-xl p-4 shadow-sm relative ${i.has(o.id)?"border-teal-500 bg-teal-50/20":"border-slate-200"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("div",{className:"flex items-start gap-2 flex-1",children:[e.jsxDEV("input",{type:"checkbox",checked:i.has(o.id),onChange:()=>Pe(o.id),className:"w-4 h-4 text-teal-600 rounded focus:ring-teal-500 mt-1"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1007,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxDEV("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded text-[10px] font-mono font-bold",children:s},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1015,columnNumber:49},void 0),o.createdBy&&e.jsxDEV("span",{className:"inline-flex items-center gap-1 bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded text-[10px] font-medium",children:[e.jsxDEV("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1019,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1018,columnNumber:57},void 0),o.createdBy]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1017,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1014,columnNumber:45},void 0),e.jsxDEV("h3",{className:"font-bold text-slate-800 text-sm leading-tight",children:D},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1025,columnNumber:45},void 0),q&&e.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:q},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1026,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1013,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1006,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-1 ml-2",children:[e.jsxDEV("button",{onClick:()=>f(o),className:"p-2 text-slate-400 hover:text-blue-600 bg-slate-50 rounded-lg",children:e.jsxDEV(ln,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1030,columnNumber:158},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1030,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>te?.(o.id),className:"p-2 text-slate-400 hover:text-rose-600 bg-slate-50 rounded-lg",children:e.jsxDEV(Xe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1031,columnNumber:156},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1031,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1029,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1005,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-3 border-t border-slate-100",children:[e.jsxDEV("div",{className:"bg-emerald-50 p-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-[10px] text-emerald-600 font-bold block mb-0.5",children:"وارد (مدين)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1038,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-emerald-700 text-sm",children:V!==0?V.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1039,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1037,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-rose-50 p-2 rounded-lg",children:[e.jsxDEV("span",{className:"text-[10px] text-rose-600 font-bold block mb-0.5",children:"صادر (دائن)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1042,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-rose-700 text-sm",children:$!==0?$.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1043,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1041,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1036,columnNumber:33},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1003,columnNumber:29},void 0)}),me.length===0&&e.jsxDEV("div",{className:"p-12 text-center text-slate-400 bg-slate-50 rounded-xl",children:"لا توجد حركات نقدية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1050,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:964,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:792,columnNumber:13},void 0),Ee>1&&e.jsxDEV("div",{className:"flex justify-center items-center gap-4 mt-6 print:hidden",children:[e.jsxDEV("button",{onClick:()=>t(o=>Math.max(1,o-1)),disabled:se===1,className:"p-3 rounded-xl bg-white border-2 border-slate-200 hover:border-teal-300 hover:bg-teal-50 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm",children:e.jsxDEV(Rn,{size:20,className:"text-slate-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1065,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1060,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-slate-100 to-slate-50 rounded-xl border border-slate-200",children:[e.jsxDEV("span",{className:"text-sm text-slate-500 font-medium",children:"صفحة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1068,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-lg font-black text-slate-800",children:se},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1069,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-slate-500 font-medium",children:"من"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1070,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-lg font-black text-teal-600",children:Ee},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1071,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1067,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>t(o=>Math.min(Ee,o+1)),disabled:se===Ee,className:"p-3 rounded-xl bg-white border-2 border-slate-200 hover:border-teal-300 hover:bg-teal-50 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-sm",children:e.jsxDEV(xn,{size:20,className:"text-slate-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1078,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1073,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1059,columnNumber:17},void 0),Tn.createPortal(Y&&e.jsxDEV("div",{className:"fixed inset-0 z-[9999] bg-slate-900/50 flex items-center justify-center p-4 backdrop-blur-sm",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-slate-800",children:"تعديل حركة نقدية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1089,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>p(null),className:"text-slate-400 hover:text-rose-500",children:e.jsxDEV(Fe,{size:24},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1090,columnNumber:126},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1090,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1088,columnNumber:29},void 0),e.jsxDEV("div",{className:"p-6",children:e.jsxDEV(hn,{accounts:B,categories:re||[],onSave:h,onAddCategory:w,initialData:Y,onCancel:()=>p(null)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1093,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1092,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1087,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1086,columnNumber:21},void 0),document.body),e.jsxDEV(Je,{isOpen:N.isOpen,onClose:()=>v(o=>({...o,isOpen:!1})),message:N.message,type:N.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:1110,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryJournal.tsx",lineNumber:397,columnNumber:9},void 0)},oo=({journal:C,accounts:B,banks:te})=>{const[ne,re]=l.useState(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-01`),[w,oe]=l.useState(Re()),[x,m]=l.useState(!1),[u,S]=l.useState("all"),[U,L]=l.useState("all"),[y,Y]=l.useState("all"),p=l.useMemo(()=>{const a=E=>E.code.startsWith("101")?!0:E.code.startsWith("102")?te&&te.length>0?te.map(v=>v.accountId).filter(Boolean).includes(E.id):!0:!!(E.code.startsWith("106")||E.code.startsWith("107"));let K=B.filter(a);u==="cash"?K=K.filter(E=>E.code.startsWith("101")):u==="bank"?K=K.filter(E=>E.code.startsWith("102")):u==="cheques"&&(K=K.filter(E=>E.code.startsWith("106")||E.code.startsWith("107"))),U!=="all"&&(K=K.filter(E=>E.id===U));const z=new Set(K.map(E=>E.id));let g=0,ae=0,_=0,ie=0,X=0,P=0,b={};const J=K.map(E=>({...E,periodOpening:Number(E.openingBalance||0),periodIn:0,periodOut:0,periodClosing:0})),c=(E,N,v)=>{const R=B.find(H=>H.id===E);if(!R)return;const f=R.code,Q=R.type,Z=R.name.toLowerCase();if(Q==="REVENUE"||f.startsWith("401")||f.startsWith("402")||f.startsWith("403"))v?g+=N:ae+=N;else if(Q==="EXPENSE"||f.startsWith("5"))if(v)g+=N;else{ae+=N;const H=R.name;b[H]=(b[H]||0)+N}else f.startsWith("104")||f.startsWith("201")?v?g+=N:ae+=N:f.startsWith("109")||f.startsWith("204")||Z.includes("أصول")?v?_+=N:ie+=N:Q==="EQUITY"||f.startsWith("3")||f.startsWith("206")||Z.includes("قرض")?v?X+=N:P+=N:v?g+=N:ae+=N};C.forEach(E=>{const N=E.date.split("T")[0],v=N<ne,R=N>=ne&&N<=w,f=E.lines.filter(Z=>z.has(Z.accountId));if(f.length===0)return;const Q=E.lines.filter(Z=>!z.has(Z.accountId));f.forEach(Z=>{const H=J.findIndex(Ne=>Ne.id===Z.accountId),de=Number(Z.debit||0),ee=Number(Z.credit||0),fe=de-ee;if(v)H>-1&&(J[H].periodOpening+=fe);else if(R){const Ne=de>0,n=ee>0;if(y==="inflow"&&!Ne||y==="outflow"&&!n)return;de>0&&(H>-1&&(J[H].periodIn+=de),Q.forEach(h=>{h.credit>0&&c(h.accountId,Math.min(de,h.credit),!0)})),ee>0&&(H>-1&&(J[H].periodOut+=ee),Q.forEach(h=>{h.debit>0&&c(h.accountId,Math.min(ee,h.debit),!1)}))}})}),J.forEach(E=>{E.periodClosing=E.periodOpening+E.periodIn-E.periodOut});const ce=J.reduce((E,N)=>E+N.periodOpening,0),j=J.reduce((E,N)=>E+N.periodClosing,0),se=J.reduce((E,N)=>E+N.periodIn,0),t=J.reduce((E,N)=>E+N.periodOut,0),F=se-t,i=Object.values(b).reduce((E,N)=>E+N,0);return{openingBalance:ce,totalIn:se,totalOut:t,totalExpenses:i,periodBalance:F,closingBalance:j,accountDetails:J,flows:{operating:{in:g,out:ae,net:g-ae},investing:{in:_,out:ie,net:_-ie},financing:{in:X,out:P,net:X-P}},expenseBreakdown:b}},[C,B,te,ne,w,u,U,y]);return e.jsxDEV("div",{className:"space-y-6",id:"treasury-report-print",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-emerald-600 p-5 md:p-8 rounded-2xl md:rounded-3xl shadow-xl mb-4 md:mb-8 relative overflow-hidden print:hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:226,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10",children:e.jsxDEV("div",{className:"flex items-center gap-3 md:gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/10 backdrop-blur-md rounded-xl md:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(Ke,{size:24,className:"text-white md:w-8 md:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:232,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:231,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("h1",{className:"text-2xl md:text-4xl font-black tracking-tight drop-shadow-sm",children:"تحليل التدفقات النقدية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:235,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-white/90 text-sm md:text-base font-bold mt-1 opacity-95",children:"Cash Flow Analysis Report"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:236,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:234,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:230,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:229,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:224,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full md:w-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-2 bg-white p-1.5 md:p-2 rounded-xl border border-slate-200 shadow-sm w-full md:w-auto",children:[e.jsxDEV("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:"من"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:245,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV(ve,{value:ne,onChange:re},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:246,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:246,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-px h-6 bg-slate-200 shrink-0"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:247,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:"إلى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:248,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV(ve,{value:w,onChange:oe},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:249,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:249,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:244,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>m(!x),className:`flex-1 md:flex-none p-2 rounded-xl transition-colors flex items-center justify-center gap-2 ${x?"bg-teal-600 text-white":"bg-white text-slate-600 border border-slate-200"} hover:bg-teal-700 hover:text-white shadow-sm`,children:[e.jsxDEV(We,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:256,columnNumber:29},void 0),e.jsxDEV("span",{className:"md:hidden text-sm font-bold",children:"تصفية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:257,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:252,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>Ye("treasury-report-print","تقرير التدفقات النقدية"),className:"flex-1 md:flex-none p-2 bg-slate-800 text-white rounded-xl hover:bg-slate-900 flex items-center justify-center gap-2 shadow-sm",children:[e.jsxDEV(ke,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:260,columnNumber:29},void 0),e.jsxDEV("span",{className:"md:hidden text-sm font-bold",children:"طباعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:261,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:259,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:251,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:243,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:242,columnNumber:13},void 0),x&&e.jsxDEV("div",{className:"bg-gradient-to-br from-teal-50 to-slate-50 p-6 rounded-xl border border-teal-100 shadow-sm print:hidden",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsxDEV(We,{size:18,className:"text-teal-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:272,columnNumber:29},void 0),"تصفية التقرير"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:271,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{S("all"),L("all"),Y("all")},className:"text-xs text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[e.jsxDEV(Fe,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:283,columnNumber:29},void 0)," مسح الفلاتر"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:275,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:270,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"نوع الحساب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:290,columnNumber:29},void 0),e.jsxDEV("select",{value:u,onChange:a=>S(a.target.value),className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white",children:[e.jsxDEV("option",{value:"all",children:"الكل (نقدية + بنوك + شيكات)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:296,columnNumber:33},void 0),e.jsxDEV("option",{value:"cash",children:"خزينة فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:297,columnNumber:33},void 0),e.jsxDEV("option",{value:"bank",children:"بنوك فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:298,columnNumber:33},void 0),e.jsxDEV("option",{value:"cheques",children:"شيكات فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:299,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:291,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:289,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"حساب محدد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:305,columnNumber:29},void 0),e.jsxDEV("select",{value:U,onChange:a=>L(a.target.value),className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white",children:[e.jsxDEV("option",{value:"all",children:"جميع الحسابات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:311,columnNumber:33},void 0),B.filter(a=>a.code.startsWith("101")||a.code.startsWith("102")||a.code.startsWith("106")||a.code.startsWith("107")).filter(a=>u==="cash"?a.code.startsWith("101"):u==="bank"?a.code.startsWith("102"):u==="cheques"?a.code.startsWith("106")||a.code.startsWith("107"):!0).map(a=>e.jsxDEV("option",{value:a.id,children:[a.name," (",a.code,")"]},a.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:321,columnNumber:41},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:306,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:304,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"نوع الحركة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:330,columnNumber:29},void 0),e.jsxDEV("select",{value:y,onChange:a=>Y(a.target.value),className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white",children:[e.jsxDEV("option",{value:"all",children:"الكل (وارد + صادر)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:336,columnNumber:33},void 0),e.jsxDEV("option",{value:"inflow",children:"وارد فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:337,columnNumber:33},void 0),e.jsxDEV("option",{value:"outflow",children:"صادر فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:338,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:331,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:329,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:287,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:269,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden print:block text-center border-b border-slate-800 pb-6 mb-8",children:[e.jsxDEV("h1",{className:"text-2xl font-bold",children:"تقرير حركة الخزينة والبنوك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-slate-500",children:["عن الفترة من ",ne.split("-").reverse().join("/")," إلى ",w.split("-").reverse().join("/")]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:349,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:347,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:"bg-emerald-50 p-5 rounded-xl border border-emerald-100 shadow-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1 h-full bg-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:356,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-emerald-700 mb-1 flex items-center gap-2",children:[e.jsxDEV(Te,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:358,columnNumber:25},void 0)," اجمالى وارد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:357,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-2xl font-bold text-emerald-600",dir:"ltr",children:["+",p.totalIn.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:360,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs text-emerald-600/60 mt-1",children:"Total Inflow"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:361,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:355,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-rose-50 p-5 rounded-xl border border-rose-100 shadow-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1 h-full bg-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:366,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-rose-700 mb-1 flex items-center gap-2",children:[e.jsxDEV(Le,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:368,columnNumber:25},void 0)," اجمالى صادر"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:367,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-2xl font-bold text-rose-600",dir:"ltr",children:["-",p.totalOut.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:370,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs text-rose-600/60 mt-1",children:"Total Outflow"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:371,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:365,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-orange-50 p-5 rounded-xl border border-orange-100 shadow-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1 h-full bg-orange-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:376,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-orange-700 mb-1 flex items-center gap-2",children:[e.jsxDEV(rn,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:378,columnNumber:25},void 0)," اجمالى مصروفات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:377,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",dir:"ltr",children:["-",p.totalExpenses.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:380,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs text-orange-600/60 mt-1",children:"Total Expenses"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:381,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:375,columnNumber:17},void 0),e.jsxDEV("div",{className:`${p.periodBalance>=0?"bg-blue-50 border-blue-100":"bg-red-50 border-red-100"} p-5 rounded-xl border shadow-sm relative overflow-hidden`,children:[e.jsxDEV("div",{className:`absolute top-0 left-0 w-1 h-full ${p.periodBalance>=0?"bg-blue-500":"bg-red-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:386,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-sm font-bold mb-1 flex items-center gap-2 ${p.periodBalance>=0?"text-blue-700":"text-red-700"}`,children:[e.jsxDEV(Ie,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:388,columnNumber:25},void 0)," رصيد الفترة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:387,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-2xl font-bold ${p.periodBalance>=0?"text-blue-600":"text-red-600"}`,dir:"ltr",children:[p.periodBalance>=0?"+":"",p.periodBalance.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:390,columnNumber:21},void 0),e.jsxDEV("div",{className:`text-xs mt-1 ${p.periodBalance>=0?"text-blue-600/60":"text-red-600/60"}`,children:"Period Balance"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:393,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:385,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-slate-800 text-white p-5 rounded-xl shadow-lg relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:398,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-slate-300 mb-1 flex items-center gap-2",children:[e.jsxDEV(ze,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:400,columnNumber:25},void 0)," الرصيد العام"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:399,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-2xl font-bold text-white",dir:"ltr",children:p.closingBalance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:402,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400 mt-1",children:"Closing Balance"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:403,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:353,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxDEV("div",{className:"p-4 bg-slate-50 border-b border-slate-200 font-bold text-slate-700",children:"تفاصيل الأرصدة (حسب الحساب)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:409,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden p-4 space-y-3",children:p.accountDetails.filter(a=>a.periodOpening!==0||a.periodIn!==0||a.periodOut!==0||a.periodClosing!==0).map(a=>e.jsxDEV("div",{className:"bg-white rounded-xl border border-slate-200 p-3 shadow-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:`absolute top-0 right-0 w-1.5 h-full ${a.periodClosing>=0?"bg-teal-500":"bg-rose-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:419,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-start mb-3 pl-2 gap-2",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"font-black text-slate-800 text-sm leading-tight mb-1 truncate",children:a.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:424,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-[10px] font-bold font-mono text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded-md inline-block",children:a.code},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:425,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:423,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-right shrink-0",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-400 font-bold mb-0.5",children:"الرصيد الحالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:428,columnNumber:41},void 0),e.jsxDEV("div",{className:`text-base font-black font-mono whitespace-nowrap ${a.periodClosing>=0?"text-teal-600":"text-rose-600"}`,dir:"ltr",children:a.periodClosing.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:429,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:427,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:422,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"bg-slate-50 p-2 rounded-lg flex justify-between items-center",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-500 font-bold",children:"رصيد افتتاحي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:439,columnNumber:41},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-slate-700 text-xs",dir:"ltr",children:a.periodOpening.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:440,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:438,columnNumber:37},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{className:"bg-emerald-50 p-2 rounded-lg text-center overflow-hidden",children:[e.jsxDEV("div",{className:"text-[10px] text-emerald-600 font-bold mb-1 truncate",children:"وارد (Inflow)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:446,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-mono font-black text-emerald-700 text-xs truncate max-w-full",dir:"ltr",children:["+",a.periodIn.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:447,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:445,columnNumber:41},void 0),e.jsxDEV("div",{className:"bg-rose-50 p-2 rounded-lg text-center overflow-hidden",children:[e.jsxDEV("div",{className:"text-[10px] text-rose-600 font-bold mb-1 truncate",children:"صادر (Outflow)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:450,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-mono font-black text-rose-700 text-xs truncate max-w-full",dir:"ltr",children:["-",a.periodOut.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:451,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:449,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:444,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:436,columnNumber:33},void 0)]},a.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:418,columnNumber:29},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:414,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden md:block overflow-x-auto",children:e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black border-b border-slate-900",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4",children:"الحساب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:464,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center bg-slate-700/50",children:"رصيد افتتاحي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:465,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center text-emerald-300 bg-emerald-900/20",children:"وارد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:466,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center text-rose-300 bg-rose-900/20",children:"صادر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:467,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center bg-slate-900/50",children:"رصيد ختامي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:468,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:463,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:462,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:p.accountDetails.filter(a=>a.periodOpening!==0||a.periodIn!==0||a.periodOut!==0||a.periodClosing!==0).map(a=>e.jsxDEV("tr",{className:"hover:brightness-95 transition-colors border-b border-slate-100 odd:bg-slate-50 even:bg-indigo-100/60",children:[e.jsxDEV("td",{className:"p-4",children:[e.jsxDEV("div",{className:"font-black text-slate-900",children:a.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:477,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 font-bold font-mono",children:a.code},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:478,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:476,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center text-slate-700 font-bold font-mono bg-slate-50/50",children:a.periodOpening.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:480,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center text-emerald-700 font-black text-lg font-mono bg-emerald-50/10",children:a.periodIn>0?a.periodIn.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:481,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center text-rose-700 font-black text-lg font-mono bg-rose-50/10",children:a.periodOut>0?a.periodOut.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:482,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center font-black text-slate-900 text-lg font-mono bg-slate-50",dir:"ltr",children:a.periodClosing.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:483,columnNumber:41},void 0)]},a.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:475,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:471,columnNumber:25},void 0),e.jsxDEV("tfoot",{className:"bg-slate-900 text-white font-bold",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"p-4",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:489,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:p.openingBalance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:490,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 text-center text-emerald-400",children:p.totalIn.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:491,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 text-center text-rose-400",children:p.totalOut.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:492,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 text-center",dir:"ltr",children:p.closingBalance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:493,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:488,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:487,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:461,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:460,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:408,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/TreasuryReport.tsx",lineNumber:222,columnNumber:9},void 0)},lo=({journal:C,accounts:B})=>{const[te,ne]=l.useState(new Date().getFullYear()),re=l.useMemo(()=>new Map(B.map(m=>[m.id,m])),[B]),w=l.useMemo(()=>{const m=[];for(let u=0;u<12;u++){const S=new Date(te,u,1),U=`${te}-${String(u+1).padStart(2,"0")}-01`,L=new Date(te,u+1,0).getDate(),y=`${te}-${String(u+1).padStart(2,"0")}-${L}`;let Y=0,p=0;C.filter(a=>a.date>=U&&a.date<=y).forEach(a=>{a.lines.forEach(K=>{const z=re.get(K.accountId);z&&(z.type==="REVENUE"?Y+=K.credit-K.debit:z.type==="EXPENSE"&&(p+=K.debit-K.credit))})}),m.push({name:S.toLocaleDateString("ar-EG",{month:"short"}),fullName:S.toLocaleDateString("ar-EG",{month:"long"}),revenue:Y,expense:p,profit:Y-p})}return m},[te,C,re]),oe=l.useMemo(()=>w.reduce((m,u)=>({revenue:m.revenue+u.revenue,expense:m.expense+u.expense,profit:m.profit+u.profit}),{revenue:0,expense:0,profit:0}),[w]),x=l.useMemo(()=>{const m=Math.max(...w.map(u=>Math.max(u.revenue,u.expense)));return m>0?m:1},[w]);return e.jsxDEV("div",{className:"space-y-6 animate-fade-in max-w-7xl mx-auto",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-violet-600 p-5 md:p-8 rounded-2xl md:rounded-3xl shadow-xl mb-4 md:mb-8 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10",children:e.jsxDEV("div",{className:"flex items-center gap-3 md:gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-2 md:p-3 bg-white/10 backdrop-blur-md rounded-xl md:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(Xn,{size:24,className:"text-white md:w-8 md:h-8",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:81,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:80,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("h1",{className:"text-2xl md:text-4xl font-black tracking-tight drop-shadow-sm",children:"تقرير الأرباح الشهرى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:84,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-white/90 text-sm md:text-base font-bold mt-1 opacity-95",children:"Monthly Profit & Loss Analysis"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:85,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:83,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:79,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-slate-50 p-4 md:p-6 rounded-2xl shadow-sm border border-slate-200",children:e.jsxDEV("div",{className:"flex items-center gap-3 bg-white p-1.5 rounded-xl border border-slate-200 w-full md:w-auto shadow-sm",children:[e.jsxDEV("div",{className:"px-3 py-2 text-slate-500 font-bold text-sm flex items-center gap-2 whitespace-nowrap",children:[e.jsxDEV(Me,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:95,columnNumber:25},void 0)," السنة المالية:"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:94,columnNumber:21},void 0),e.jsxDEV("select",{value:te,onChange:m=>ne(parseInt(m.target.value)),className:"flex-1 md:flex-none bg-slate-50 border border-slate-200 rounded-lg py-1.5 px-4 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 transition-all shadow-sm w-full md:w-32",children:Array.from({length:5},(m,u)=>new Date().getFullYear()-u).map(m=>e.jsxDEV("option",{value:m,children:m},m,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:103,columnNumber:29},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:97,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:92,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-emerald-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:113,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-emerald-600 font-bold mb-2",children:[e.jsxDEV(Te,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:116,columnNumber:29},void 0)," إجمالي الإيرادات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:115,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-3xl font-bold text-slate-800 font-mono tracking-tight",children:[oe.revenue.toLocaleString()," ",e.jsxDEV("span",{className:"text-sm text-slate-400 font-sans",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:119,columnNumber:63},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:118,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4 w-full bg-emerald-100 h-1.5 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"bg-emerald-500 h-full rounded-full",style:{width:"100%"}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:122,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:121,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:114,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:112,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-rose-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-24 h-24 bg-rose-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:129,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-rose-600 font-bold mb-2",children:[e.jsxDEV(Le,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:132,columnNumber:29},void 0)," إجمالي المصروفات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:131,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-3xl font-bold text-slate-800 font-mono tracking-tight",children:[oe.expense.toLocaleString()," ",e.jsxDEV("span",{className:"text-sm text-slate-400 font-sans",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:135,columnNumber:63},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:134,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4 w-full bg-rose-100 h-1.5 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"bg-rose-500 h-full rounded-full",style:{width:`${oe.revenue?oe.expense/oe.revenue*100:0}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:138,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:137,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:128,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-indigo-100 relative overflow-hidden group hover:shadow-md transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:145,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-indigo-600 font-bold mb-2",children:[e.jsxDEV(Gn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:148,columnNumber:29},void 0)," صافي الربح"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:147,columnNumber:25},void 0),e.jsxDEV("div",{className:`text-3xl font-bold font-mono tracking-tight ${oe.profit>=0?"text-indigo-700":"text-rose-600"}`,children:[oe.profit.toLocaleString()," ",e.jsxDEV("span",{className:"text-sm text-slate-400 font-sans",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:151,columnNumber:62},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:150,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4 w-full bg-indigo-100 h-1.5 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"bg-indigo-600 h-full rounded-full",style:{width:`${oe.revenue?oe.profit/oe.revenue*100:0}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:154,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:153,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:146,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:144,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:110,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[e.jsxDEV("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[e.jsxDEV(Ie,{size:18,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:163,columnNumber:21},void 0)," التحليل البياني (Revenue vs Expense)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-80 w-full relative",children:e.jsxDEV("svg",{className:"w-full h-full overflow-visible",viewBox:"0 0 1000 300",preserveAspectRatio:"none",children:[e.jsxDEV("defs",{children:[e.jsxDEV("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.8"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:171,columnNumber:33},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.2"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:172,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:170,columnNumber:29},void 0),e.jsxDEV("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsxDEV("stop",{offset:"0%",stopColor:"#f43f5e",stopOpacity:"0.8"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:175,columnNumber:33},void 0),e.jsxDEV("stop",{offset:"100%",stopColor:"#f43f5e",stopOpacity:"0.2"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:176,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:174,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:169,columnNumber:25},void 0),[0,.25,.5,.75,1].map((m,u)=>e.jsxDEV("g",{children:[e.jsxDEV("line",{x1:"40",y1:300-m*260-20,x2:"1000",y2:300-m*260-20,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"4 4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:183,columnNumber:33},void 0),e.jsxDEV("text",{x:"35",y:300-m*260-16,textAnchor:"end",className:"text-[10px] fill-slate-400 font-mono",children:Math.round(x*m).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:192,columnNumber:33},void 0)]},u,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:182,columnNumber:29},void 0)),w.map((m,u)=>{const L=40+u*80+12,y=Math.max(0,m.revenue/x*260),Y=Math.max(0,m.expense/x*260);return e.jsxDEV("g",{className:"group",children:[e.jsxDEV("rect",{x:40+u*80,y:"0",width:80,height:"300",fill:"transparent",className:"hover:fill-slate-50/50 transition-colors cursor-pointer"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:215,columnNumber:37},void 0),e.jsxDEV("rect",{x:L,y:280-y,width:28,height:y,fill:"url(#revenueGradient)",rx:"4",className:"transition-all duration-500 hover:opacity-80"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:225,columnNumber:37},void 0),e.jsxDEV("rect",{x:L+28+4,y:280-Y,width:28,height:Y,fill:"url(#expenseGradient)",rx:"4",className:"transition-all duration-500 hover:opacity-80"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:236,columnNumber:37},void 0),e.jsxDEV("text",{x:40+u*80+80/2,y:"295",textAnchor:"middle",className:"text-[10px] fill-slate-500 font-bold",children:m.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:247,columnNumber:37},void 0),e.jsxDEV("foreignObject",{x:L-20,y:Math.min(280-y,280-Y)-70,width:"140",height:"80",className:"opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:e.jsxDEV("div",{className:"bg-slate-800 text-white text-xs rounded-lg p-2 shadow-xl border border-slate-700",children:[e.jsxDEV("div",{className:"font-bold mb-1 border-b border-slate-600 pb-1",children:m.fullName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:259,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-emerald-400",children:"In:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:261,columnNumber:49},void 0),e.jsxDEV("span",{className:"font-mono",children:m.revenue.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:262,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:260,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-rose-400",children:"Out:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:265,columnNumber:49},void 0),e.jsxDEV("span",{className:"font-mono",children:m.expense.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:266,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:264,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:258,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:257,columnNumber:37},void 0)]},u,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:213,columnNumber:33},void 0)})]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:168,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:166,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:161,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxDEV("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:e.jsxDEV("h3",{className:"font-bold text-slate-700",children:"التفاصيل الشهرية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:280,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:279,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden p-4 space-y-3",children:w.map((m,u)=>e.jsxDEV("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm relative overflow-hidden",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("div",{className:"font-black text-slate-800 text-lg",children:m.fullName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:288,columnNumber:33},void 0),m.profit>0?e.jsxDEV("div",{className:"flex items-center gap-1 text-xs font-bold bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full",children:[e.jsxDEV(Ie,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:291,columnNumber:41},void 0)," ربح"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:290,columnNumber:37},void 0):m.profit<0?e.jsxDEV("div",{className:"flex items-center gap-1 text-xs font-bold bg-rose-100 text-rose-700 px-2 py-1 rounded-full",children:[e.jsxDEV(Qe,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:295,columnNumber:41},void 0)," خسارة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:294,columnNumber:37},void 0):e.jsxDEV("div",{className:"text-xs font-bold bg-slate-100 text-slate-500 px-2 py-1 rounded-full",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:298,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:287,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"bg-slate-50 rounded-lg p-3 text-center border border-slate-100",children:[e.jsxDEV("div",{className:"text-xs text-slate-500 font-bold mb-1",children:"صافي الربح"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:305,columnNumber:37},void 0),e.jsxDEV("div",{className:`text-xl font-black font-mono ${m.profit>=0?"text-indigo-600":"text-rose-600"}`,dir:"ltr",children:[m.profit.toLocaleString()," ",e.jsxDEV("span",{className:"text-xs text-slate-400",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:307,columnNumber:71},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:306,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:304,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-emerald-50 rounded-lg p-3 text-center relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute bottom-0 left-0 h-1 bg-emerald-500 transition-all duration-500",style:{width:`${m.revenue/x*100}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:314,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-emerald-600 font-bold mb-1",children:"الإيرادات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:315,columnNumber:41},void 0),e.jsxDEV("div",{className:"font-black text-emerald-700 font-mono",dir:"ltr",children:m.revenue.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:316,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:313,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-rose-50 rounded-lg p-3 text-center relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute bottom-0 left-0 h-1 bg-rose-500 transition-all duration-500",style:{width:`${m.expense/x*100}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:319,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-rose-600 font-bold mb-1",children:"المصروفات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:320,columnNumber:41},void 0),e.jsxDEV("div",{className:"font-black text-rose-700 font-mono",dir:"ltr",children:m.expense.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:321,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:318,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:312,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:302,columnNumber:29},void 0)]},u,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:286,columnNumber:25},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden md:block overflow-x-auto",children:e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black border-b border-slate-900",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4 w-32",children:"الشهر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:334,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-emerald-300",children:"الإيرادات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:335,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-rose-300",children:"المصروفات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:336,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-indigo-300 bg-slate-700/50",children:"صافي الربح"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:337,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center w-24",children:"الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:338,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:333,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:332,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:w.map((m,u)=>e.jsxDEV("tr",{className:"hover:brightness-95 transition-colors group border-b border-slate-100 odd:bg-slate-50 even:bg-indigo-100/60",children:[e.jsxDEV("td",{className:"p-4 font-black text-slate-900",children:m.fullName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:344,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex flex-col gap-1",children:[e.jsxDEV("span",{className:"font-mono text-emerald-700 font-black text-lg",children:m.revenue.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:349,columnNumber:45},void 0),e.jsxDEV("div",{className:"w-24 h-1 bg-emerald-100 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${m.revenue/x*100}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:351,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:350,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:348,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:347,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex flex-col gap-1",children:[e.jsxDEV("span",{className:"font-mono text-rose-700 font-black text-lg",children:m.expense.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:359,columnNumber:45},void 0),e.jsxDEV("div",{className:"w-24 h-1 bg-rose-100 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-rose-500 rounded-full",style:{width:`${m.expense/x*100}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:361,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:360,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:358,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:357,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 bg-slate-50/50",children:e.jsxDEV("span",{className:`font-mono font-black text-xl ${m.profit>=0?"text-indigo-700":"text-rose-600"}`,dir:"ltr",children:m.profit.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:368,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:367,columnNumber:37},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:m.profit>0?e.jsxDEV("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-emerald-100 text-emerald-600",children:e.jsxDEV(Ie,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:377,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:376,columnNumber:45},void 0):m.profit<0?e.jsxDEV("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-rose-100 text-rose-600",children:e.jsxDEV(Qe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:381,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:380,columnNumber:45},void 0):e.jsxDEV("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-slate-100 text-slate-400",children:e.jsxDEV("span",{className:"text-xs font-bold",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:385,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:384,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:374,columnNumber:37},void 0)]},u,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:343,columnNumber:33},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:341,columnNumber:25},void 0),e.jsxDEV("tfoot",{className:"bg-slate-50 border-t border-slate-200 font-bold text-slate-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"p-4",children:"الإجمالي السنوي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:394,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 font-mono text-emerald-700 text-lg",children:oe.revenue.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:395,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 font-mono text-rose-700 text-lg",children:oe.expense.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:396,columnNumber:33},void 0),e.jsxDEV("td",{className:"p-4 font-mono text-indigo-700 text-lg bg-indigo-50",children:oe.profit.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:397,columnNumber:33},void 0),e.jsxDEV("td",{},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:398,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:393,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:392,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:331,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:330,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:278,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/MonthlyProfit.tsx",lineNumber:70,columnNumber:9},void 0)},so=({accounts:C,costCenters:B,journal:te,onSave:ne,onDelete:re,initialEntry:w})=>{const[oe,x]=l.useState("NEW"),[m,u]=l.useState(null),[S,U]=l.useState(Re()),[L,y]=l.useState(""),[Y,p]=l.useState(""),[a,K]=l.useState(""),[z,g]=l.useState(""),[ae,_]=l.useState(""),[ie,X]=l.useState(""),[P,b]=l.useState(""),[J,c]=l.useState(""),[ce,j]=l.useState({isOpen:!1,message:"",type:"info"}),[se,t]=l.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),F=(n,h="error")=>{j({isOpen:!0,message:n,type:h})},i=l.useMemo(()=>{const n=C.filter(h=>h.type==="ASSET"&&(h.code.startsWith("101")||h.code.startsWith("102")));return Array.from(new Map(n.map(h=>[h.name,h])).values())},[C]),E=l.useMemo(()=>C.filter(n=>n.type==="EXPENSE"),[C]);l.useMemo(()=>{if(!ae){const n=E.find(h=>h.name.includes("بنكية")||h.name.includes("Bank Charges"));n&&_(n.id)}},[E]);const N=C.find(n=>n.id===a),v=C.find(n=>n.id===z),R=C.find(n=>n.id===ae),f=Number(L)||0,Q=Number(Y)||0,Z=f+Q,H=()=>{const n=[];n.push({accountId:z,accountName:v?.name||"",debit:f,credit:0}),Q>0&&n.push({accountId:ae,accountName:R?.name||"Bank Charges",debit:Q,credit:0,costCenterId:ie||void 0}),n.push({accountId:a,accountName:N?.name||"",debit:0,credit:Z});const h={date:S,description:`تحويل داخلي: ${P}`+(Q>0?` (شامل رسوم ${Q})`:"")+(J?` (Ref: ${J})`:""),lines:n,referenceId:J||"CONTRA",type:en.JOURNAL};m&&(h.id=m),ne(h),F(m?"تم تعديل التحويل بنجاح":"تم تنفيذ التحويل بنجاح","success"),u(null),y(""),p(""),b(""),c(""),_(""),X("")},de=()=>{if(!L||!a||!z){F("الرجاء استكمال البيانات (المبلغ، من حساب، إلى حساب)","warning");return}if(a===z){F("لا يمكن التحويل لنفس الحساب","warning");return}if(Q>0&&!ae){F("الرجاء تحديد حساب المصروف للرسوم البنكية","warning");return}if(!C.find(n=>n.id===a)){F("حساب المصدر غير موجود أو تم حذفه","error");return}if(!C.find(n=>n.id===z)){F("حساب المستلم غير موجود أو تم حذفه","error");return}if(Q>0&&!C.find(n=>n.id===ae)){F("حساب الرسوم غير موجود أو تم حذفه","error");return}if(N&&Z>N.balance){t({isOpen:!0,title:"تنبيه: رصيد غير كافٍ",message:`إجمالي المبلغ المخصوم (${Z.toLocaleString()}) أكبر من الرصيد المتاح في ${N.name} (${N.balance.toLocaleString()}). هل تريد المتابعة؟`,type:"danger",onConfirm:()=>H()});return}H()},ee=l.useMemo(()=>te?te.filter(n=>n.description.includes("تحويل داخلي")).sort((n,h)=>new Date(h.date).getTime()-new Date(n.date).getTime()):[],[te]),fe=n=>{t({isOpen:!0,title:"تأكيد الحذف",message:"هل أنت متأكد من حذف هذا التحويل؟ سيتم عكس جميع الحركات المحاسبية المرتبطة به.",type:"danger",onConfirm:()=>{re?.(n),F("تم حذف التحويل بنجاح","success")}})},Ne=n=>{const h=n.lines.filter(I=>{const V=C.find($=>$.id===I.accountId);return V&&(V.code.startsWith("101")||V.code.startsWith("102"))}),Ee=h.find(I=>I.credit>0),me=h.find(I=>I.debit>0),be=n.lines.find(I=>{const V=C.find($=>$.id===I.accountId);return V&&V.type==="EXPENSE"});Ee&&K(Ee.accountId),me&&(g(me.accountId),y(me.debit)),be?(p(be.debit),_(be.accountId),be.costCenterId&&X(be.costCenterId)):(p(""),_(""),X(""));const Ce=new Date(n.date),Pe=Ce.getTimezoneOffset(),pe=new Date(Ce.getTime()-Pe*60*1e3);U(pe.toISOString().split("T")[0]);const o=n.description.replace("تحويل داخلي: ","").split("(")[0].trim();b(o),n.referenceId&&n.referenceId!=="CONTRA"?c(n.referenceId):c(""),u(n.id),x("NEW")};return l.useEffect(()=>{w&&Ne(w)},[w]),e.jsxDEV("div",{className:"space-y-6 animate-fade-in",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-violet-600 p-8 rounded-3xl shadow-xl mb-8 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:273,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10",children:e.jsxDEV("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(fn,{size:32,className:"text-white",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:279,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:278,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("h1",{className:"text-4xl font-black tracking-tight drop-shadow-sm",children:"تحويل نقدية داخلي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:282,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-white/90 text-base font-bold mt-1 opacity-95",children:"Contra Voucher - Internal Transfer"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:283,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:281,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:277,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:276,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 bg-white p-2 rounded-xl border border-slate-200 shadow-sm",children:[e.jsxDEV("button",{onClick:()=>x("NEW"),className:`flex-1 px-6 py-3 rounded-lg font-black flex items-center justify-center gap-2 transition-all ${oe==="NEW"?"bg-indigo-600 text-white shadow-lg":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsxDEV(Se,{size:20,strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:298,columnNumber:21},void 0),"تحويل جديد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:291,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>x("HISTORY"),className:`flex-1 px-6 py-3 rounded-lg font-black flex items-center justify-center gap-2 transition-all ${oe==="HISTORY"?"bg-indigo-600 text-white shadow-lg":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsxDEV(Qn,{size:20,strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:308,columnNumber:21},void 0),"السجل (",ee.length,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:301,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:290,columnNumber:13},void 0),oe==="HISTORY"?e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black border-b border-slate-900",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:319,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"من"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:320,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"إلى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:321,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:322,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center",children:"رسوم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:323,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4",children:"البيان"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:324,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-center",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:325,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:318,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:317,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[ee.map(n=>{const h=n.lines.filter(V=>{const $=C.find(G=>G.id===V.accountId);return $&&($.code.startsWith("101")||$.code.startsWith("102"))}),Ee=h.find(V=>V.credit>0),me=h.find(V=>V.debit>0),be=n.lines.find(V=>{const $=C.find(G=>G.id===V.accountId);return $&&$.type==="EXPENSE"}),Ce=C.find(V=>V.id===Ee?.accountId),Pe=C.find(V=>V.id===me?.accountId),pe=me?.debit||0,o=be?.debit||0,I=n.description.replace("تحويل داخلي: ","").split("(")[0].trim();return e.jsxDEV("tr",{className:"odd:bg-slate-50 even:bg-indigo-100/60 hover:brightness-95 transition-colors",children:[e.jsxDEV("td",{className:"p-4 font-mono text-slate-800 font-bold",children:new Date(n.date).toLocaleDateString("en-GB")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:350,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-slate-700 font-bold",children:Ce?.name||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:351,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-slate-700 font-bold",children:Pe?.name||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:352,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center font-mono text-emerald-700 font-black text-lg bg-emerald-50/30",children:pe.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:353,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center font-mono text-rose-600 font-bold",children:o>0?o.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:354,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-slate-500 text-xs",children:I},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:355,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("button",{onClick:()=>Ne(n),className:"p-1.5 bg-slate-100 text-slate-600 rounded hover:bg-blue-50 hover:text-blue-600",title:"تعديل",children:e.jsxDEV(ln,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:363,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:358,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>fe(n.id),className:"p-1.5 bg-slate-100 text-slate-600 rounded hover:bg-rose-50 hover:text-rose-600",title:"حذف",children:e.jsxDEV(Xe,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:370,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:365,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:357,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:356,columnNumber:41},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:349,columnNumber:37},void 0)}),ee.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:7,className:"p-12 text-center text-slate-400",children:"لا توجد تحويلات مسجلة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:378,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:378,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:328,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:316,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:315,columnNumber:17},void 0):e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:e.jsxDEV("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl shadow-card border border-slate-200 p-8",children:[e.jsxDEV("div",{className:"p-4 bg-indigo-50 rounded-xl border border-indigo-100 mb-8 flex items-start gap-3",children:[e.jsxDEV(pn,{className:"text-indigo-600 shrink-0 mt-0.5",size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:390,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-sm text-indigo-800",children:[e.jsxDEV("strong",{className:"font-black",children:"التحويلات النقدية والبنكية:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:392,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-sm text-slate-600 font-bold mt-1",children:["نقل الأموال بين الخزائن والحسابات البنكية. (من ح/ المحول ","->"," إلى ح/ المستلم)."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:393,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:391,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:389,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[e.jsxDEV("div",{className:"hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full items-center justify-center z-10 border-2 border-slate-200 shadow-sm text-slate-400",children:e.jsxDEV(fn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:400,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:399,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-4 bg-rose-100/50 p-5 rounded-2xl border border-rose-200 shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-rose-800 font-black border-b border-rose-200 pb-2 mb-2",children:[e.jsxDEV(Le,{size:18,strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:406,columnNumber:41},void 0)," من حساب (المصدر)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:405,columnNumber:37},void 0),e.jsxDEV(he,{options:i.map(n=>({id:n.id,label:n.name,subLabel:`الرصيد: ${n.balance.toLocaleString()}`})),value:a,onChange:K,placeholder:"اختر الحساب..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:408,columnNumber:37},void 0),N&&e.jsxDEV("div",{className:"text-xs text-slate-500 font-bold flex justify-between px-1",children:[e.jsxDEV("span",{children:"الرصيد المتاح:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:416,columnNumber:45},void 0),e.jsxDEV("span",{className:N.balance<Z?"text-rose-600":"text-emerald-600",children:N.balance.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:417,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:415,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:404,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-4 bg-emerald-100/50 p-5 rounded-2xl border border-emerald-200 shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-emerald-800 font-black border-b border-emerald-200 pb-2 mb-2",children:[e.jsxDEV(Te,{size:18,strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:425,columnNumber:41},void 0)," إلى حساب (المستلم)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:424,columnNumber:37},void 0),e.jsxDEV(he,{options:i.map(n=>({id:n.id,label:n.name,subLabel:`الرصيد: ${n.balance.toLocaleString()}`})),value:z,onChange:g,placeholder:"اختر الحساب..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:427,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:423,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:397,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"مبلغ التحويل (الصافي)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:438,columnNumber:37},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:L,onChange:n=>y(parseFloat(n.target.value)||""),className:"w-full border-2 border-slate-300 rounded-xl p-3 pl-12 font-black text-lg focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 outline-none shadow-sm",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:440,columnNumber:41},void 0),e.jsxDEV("span",{className:"absolute left-4 top-4 text-slate-400 font-black text-sm",children:"EGP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:447,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:439,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:437,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"رسوم بنكية / إدارية (إن وجدت)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:451,columnNumber:37},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:Y,onChange:n=>p(parseFloat(n.target.value)||""),className:"w-full border border-slate-300 rounded-xl p-3 pl-12 font-black text-lg focus:ring-2 focus:ring-rose-100 focus:border-rose-500 outline-none text-rose-600 shadow-sm",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:453,columnNumber:41},void 0),e.jsxDEV("span",{className:"absolute left-4 top-4 text-slate-400 font-black text-sm",children:"EGP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:460,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:452,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:450,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:436,columnNumber:29},void 0),Q>0&&e.jsxDEV("div",{className:"mt-4 animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"حساب المصروف (للرسوم)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:468,columnNumber:41},void 0),e.jsxDEV(he,{options:E.map(n=>({id:n.id,label:n.name,subLabel:n.code})),value:ae,onChange:_,placeholder:"اختر حساب المصروفات..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:469,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:467,columnNumber:37},void 0),B&&B.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2 flex items-center gap-2",children:[e.jsxDEV(Yn,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:478,columnNumber:133},void 0)," مركز التكلفة (Cost Center)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:478,columnNumber:45},void 0),e.jsxDEV("select",{value:ie,onChange:n=>X(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3 outline-none focus:ring-2 focus:ring-indigo-100 bg-white font-bold shadow-sm",children:[e.jsxDEV("option",{value:"",children:"-- عام / إداري --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:484,columnNumber:49},void 0),B.map(n=>e.jsxDEV("option",{value:n.id,children:n.name},n.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:486,columnNumber:53},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:479,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:477,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:466,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:496,columnNumber:37},void 0),e.jsxDEV(ve,{value:S,onChange:U},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:497,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:495,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"رقم مرجعي (Ref)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:500,columnNumber:37},void 0),e.jsxDEV("input",{type:"text",value:J,onChange:n=>c(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-100 outline-none font-bold shadow-sm",placeholder:"رقم إيصال الإيداع..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:501,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:499,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:494,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-6",children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"ملاحظات / بيان"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:512,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",value:P,onChange:n=>b(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3 focus:ring-2 focus:ring-indigo-100 outline-none font-bold shadow-sm",placeholder:"مثال: تغذية حساب البنك من الخزينة..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:513,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:511,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:388,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:387,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-slate-50 rounded-2xl border border-slate-200 p-5 shadow-inner",children:[e.jsxDEV("h3",{className:"font-bold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsxDEV(Ke,{size:18,className:"text-teal-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:529,columnNumber:33},void 0)," معاينة القيد (Preview)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:528,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg border border-slate-200 border-l-4 border-l-rose-500",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:N?.name||"الحساب المصدر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:535,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400",children:"دائن (Credit) - نقص أصل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:536,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:534,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-rose-600",children:Z.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:538,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:533,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-center text-slate-400 text-xs py-1",children:"▼"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:541,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg border border-slate-200 border-l-4 border-l-emerald-500",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:v?.name||"الحساب المستلم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:546,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400",children:"مدين (Debit) - زيادة أصل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:547,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:545,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-emerald-600",children:f.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:549,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:544,columnNumber:33},void 0),Q>0&&e.jsxDEV("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg border border-slate-200 border-l-4 border-l-amber-500",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:R?.name||"مصروفات بنكية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:556,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400",children:"مدين (Debit) - مصروف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:557,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:555,columnNumber:41},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-amber-600",children:Q.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:559,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:554,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:531,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-4 pt-4 border-t border-slate-200 flex justify-between items-center text-xs text-slate-500",children:[e.jsxDEV("span",{children:"القيد متزن (Balanced)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:565,columnNumber:33},void 0),e.jsxDEV("span",{children:["الإجمالي: ",Z.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:566,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:564,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:527,columnNumber:25},void 0),e.jsxDEV("button",{onClick:de,className:"w-full bg-slate-800 text-white px-6 md:px-8 py-3 md:py-4 rounded-xl font-bold shadow-lg hover:bg-slate-900 transition-all flex items-center justify-center gap-3 hover:-translate-y-1",children:[e.jsxDEV(sn,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:574,columnNumber:29},void 0)," تنفيذ وترحيل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:570,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:525,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:385,columnNumber:17},void 0),e.jsxDEV(Je,{isOpen:ce.isOpen,onClose:()=>j(n=>({...n,isOpen:!1})),message:ce.message,type:ce.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:579,columnNumber:13},void 0),e.jsxDEV(Cn,{isOpen:se.isOpen,onClose:()=>t(n=>({...n,isOpen:!1})),onConfirm:se.onConfirm,title:se.title,message:se.message,type:se.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:586,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InternalTransfer.tsx",lineNumber:269,columnNumber:9},void 0)},to=({partners:C,invoices:B,currentUser:te})=>{const[ne,re]=l.useState("list"),[w,oe]=l.useState([]),[x,m]=l.useState(null),[u,S]=l.useState(null),[U,L]=l.useState([]),[y,Y]=l.useState([]),[p,a]=l.useState(!1),[K,z]=l.useState(""),[g,ae]=l.useState(""),[_,ie]=l.useState(""),[X,P]=l.useState(!1),[b,J]=l.useState({invoiceId:"",partnerId:"",totalAmount:0,downPayment:0,numberOfInstallments:3,intervalDays:30,startDate:Re(),notes:""}),[c,ce]=l.useState({show:!1,installment:null}),[j,se]=l.useState(0),[t,F]=l.useState("CASH"),[i,E]=l.useState(""),[N,v]=l.useState({show:!1,message:"",type:"error"}),R=(n,h="error")=>v({show:!0,message:n,type:h}),f=async()=>{a(!0);try{const[n,h,Ee,me]=await Promise.all([He.get("/installments/plans"),He.get("/installments/stats"),He.get("/installments/overdue"),He.get("/installments/upcoming?days=7")]);oe(n.data),S(h.data),L(Ee.data),Y(me.data)}catch{R("حدث خطأ أثناء تحميل البيانات","error")}finally{a(!1)}};l.useEffect(()=>{f()},[]);const Q=l.useMemo(()=>w?w.filter(n=>{if(K&&n.status!==K||g&&n.partnerId!==g)return!1;if(_){const h=_.toLowerCase();return n.partnerName?.toLowerCase().includes(h)||n.invoiceNumber?.toLowerCase().includes(h)||n.id.toLowerCase().includes(h)}return!0}):[],[w,K,g,_]),Z=n=>{const h=(B||[]).find(Ee=>Ee.id===n);h&&J({...b,invoiceId:n,partnerId:h.partnerId||"",totalAmount:h.total-(h.paidAmount||0)})},H=async()=>{if(!b.invoiceId||!b.partnerId||b.totalAmount<=0||b.numberOfInstallments<1){R("يرجى ملء جميع الحقول المطلوبة","warning");return}if(b.downPayment>=b.totalAmount){R("الدفعة المقدمة يجب أن تكون أقل من المبلغ الإجمالي","warning");return}try{a(!0);const n=(C||[]).find(h=>h.id===b.partnerId);await He.post("/installments/plans",{...b,partnerName:n?.name,createdBy:te}),R("تم إنشاء خطة التقسيط بنجاح","success"),re("list"),J({invoiceId:"",partnerId:"",totalAmount:0,downPayment:0,numberOfInstallments:3,intervalDays:30,startDate:Re(),notes:""}),f()}catch(n){R(n.response?.data?.message||"حدث خطأ","error")}finally{a(!1)}},de=async n=>{try{a(!0);const h=await He.get(`/installments/plans/${n}`);m(h.data),re("view")}catch{R("حدث خطأ أثناء تحميل التفاصيل","error")}finally{a(!1)}},ee=async()=>{if(!c.installment||j<=0){R("يرجى إدخال مبلغ صحيح","warning");return}try{a(!0),await He.post(`/installments/pay/${c.installment.id}`,{amount:j,paymentMethod:t,paymentReference:i,paidBy:te}),R("تم تسجيل الدفعة بنجاح","success"),ce({show:!1,installment:null}),se(0),F("CASH"),E(""),x&&de(x.id),f()}catch(n){R(n.response?.data?.message||"حدث خطأ","error")}finally{a(!1)}},fe=n=>{const h={ACTIVE:"bg-blue-100 text-blue-700",COMPLETED:"bg-emerald-100 text-emerald-700",CANCELLED:"bg-slate-100 text-slate-500",OVERDUE:"bg-rose-100 text-rose-700",PENDING:"bg-amber-100 text-amber-700",PARTIAL:"bg-orange-100 text-orange-700",PAID:"bg-emerald-100 text-emerald-700"},Ee={ACTIVE:"نشط",COMPLETED:"مكتمل",CANCELLED:"ملغي",OVERDUE:"متأخر",PENDING:"معلق",PARTIAL:"جزئي",PAID:"مدفوع"};return e.jsxDEV("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${h[n]||"bg-slate-100 text-slate-600"}`,children:Ee[n]||n},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:273,columnNumber:13},void 0)},Ne=l.useMemo(()=>{const n=b.totalAmount-b.downPayment;if(n<=0||b.numberOfInstallments<1)return[];const h=Math.round(n/b.numberOfInstallments*100)/100,Ee=[];let me=new Date(b.startDate);for(let be=1;be<=Math.min(b.numberOfInstallments,12);be++)Ee.push({number:be,amount:be===b.numberOfInstallments?Math.round((n-h*(b.numberOfInstallments-1))*100)/100:h,date:me.toISOString().split("T")[0]}),me.setDate(me.getDate()+b.intervalDays);return Ee},[b]);return e.jsxDEV("div",{className:"space-y-6 pb-8",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 p-6 md:p-8 rounded-3xl shadow-xl relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:304,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:305,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20",children:e.jsxDEV(Oe,{size:28,className:"text-white"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:311,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:310,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("h1",{className:"text-2xl md:text-3xl font-black flex items-center gap-2",children:"إدارة التقسيط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:314,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-white/80 text-sm",children:"Installment Management"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:317,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:313,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:309,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-2 w-full md:w-auto",children:ne==="list"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>f(),className:"bg-white/20 text-white border border-white/30 px-4 py-2.5 rounded-xl flex items-center gap-2 font-bold",children:e.jsxDEV(Nn,{size:18,className:p?"animate-spin":""},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:325,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:324,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>re("create"),className:"flex-1 md:flex-none bg-white text-purple-700 px-5 py-2.5 rounded-xl shadow-lg hover:scale-105 flex items-center justify-center gap-2 font-bold transition-all",children:[e.jsxDEV(Se,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:328,columnNumber:41},void 0)," خطة جديدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:327,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:323,columnNumber:33},void 0):e.jsxDEV("button",{onClick:()=>{re("list"),m(null)},className:"flex-1 md:flex-none bg-white/20 text-white border border-white/30 px-5 py-2.5 rounded-xl flex items-center justify-center gap-2 font-bold",children:[e.jsxDEV(Fe,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:333,columnNumber:37},void 0)," رجوع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:332,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:321,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:308,columnNumber:21},void 0),ne==="list"&&u&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-6",children:[e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20",children:[e.jsxDEV("div",{className:"text-white/70 text-xs mb-1 flex items-center gap-1",children:[e.jsxDEV(Ke,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:343,columnNumber:101},void 0)," خطط نشطة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:343,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-white text-xl font-black",children:u.activePlans},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:344,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:342,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20",children:[e.jsxDEV("div",{className:"text-emerald-200 text-xs mb-1 flex items-center gap-1",children:[e.jsxDEV(Ie,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:347,columnNumber:104},void 0)," المستحق"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:347,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-white text-xl font-black",children:u.totalReceivable?.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:348,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:346,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20",children:[e.jsxDEV("div",{className:"text-rose-200 text-xs mb-1 flex items-center gap-1",children:[e.jsxDEV(on,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:351,columnNumber:101},void 0)," متأخر"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:351,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-white text-xl font-black",children:[u.overdueCount," ",e.jsxDEV("span",{className:"text-sm font-normal",children:["(",u.overdueAmount?.toLocaleString(),")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:352,columnNumber:101},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:352,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:350,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20",children:[e.jsxDEV("div",{className:"text-amber-200 text-xs mb-1 flex items-center gap-1",children:[e.jsxDEV(we,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:355,columnNumber:102},void 0)," مستحق اليوم"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:355,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-white text-xl font-black",children:[u.dueTodayCount," ",e.jsxDEV("span",{className:"text-sm font-normal",children:["(",u.dueTodayAmount?.toLocaleString(),")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:356,columnNumber:102},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:356,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:354,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:341,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:307,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:303,columnNumber:13},void 0),ne==="create"&&e.jsxDEV("div",{className:"animate-fade-in space-y-4",children:e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/60 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsxDEV(Se,{size:20,className:"text-purple-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:368,columnNumber:29},void 0)," إنشاء خطة تقسيط جديدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:367,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"الفاتورة *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:374,columnNumber:33},void 0),e.jsxDEV(he,{options:(B||[]).filter(n=>{const h=String(n.type),Ee=String(n.status);return(h==="SALE"||h==="INVOICE_SALE")&&Ee!=="CANCELLED"}).map(n=>({id:n.id,label:`فاتورة #${n.id.slice(-6)} - ${n.partnerName||"غير محدد"}`,subLabel:`${n.total?.toLocaleString()} ج.م`})),value:b.invoiceId,onChange:Z,placeholder:"اختر الفاتورة..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:375,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:373,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"العميل *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:393,columnNumber:33},void 0),e.jsxDEV(he,{options:(C||[]).filter(n=>n.isCustomer).map(n=>({id:n.id,label:n.name})),value:b.partnerId,onChange:n=>J({...b,partnerId:n}),placeholder:"اختر العميل..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:394,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:392,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"المبلغ الإجمالي *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:404,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:b.totalAmount||"",onChange:n=>J({...b,totalAmount:parseFloat(n.target.value)||0}),className:"w-full border border-slate-300 rounded-xl p-3 font-mono",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:405,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:403,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"الدفعة المقدمة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:416,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:b.downPayment||"",onChange:n=>J({...b,downPayment:parseFloat(n.target.value)||0}),className:"w-full border border-slate-300 rounded-xl p-3 font-mono",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:417,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:415,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"عدد الأقساط *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:428,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",min:"1",max:"60",value:b.numberOfInstallments,onChange:n=>J({...b,numberOfInstallments:parseInt(n.target.value)||1}),className:"w-full border border-slate-300 rounded-xl p-3"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:429,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:427,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"الفترة بين الأقساط (أيام)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:441,columnNumber:33},void 0),e.jsxDEV("select",{value:b.intervalDays,onChange:n=>J({...b,intervalDays:parseInt(n.target.value)}),className:"w-full border border-slate-300 rounded-xl p-3",children:[e.jsxDEV("option",{value:7,children:"أسبوعي (7 أيام)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:447,columnNumber:37},void 0),e.jsxDEV("option",{value:14,children:"نصف شهري (14 يوم)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:448,columnNumber:37},void 0),e.jsxDEV("option",{value:30,children:"شهري (30 يوم)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:449,columnNumber:37},void 0),e.jsxDEV("option",{value:60,children:"كل شهرين (60 يوم)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:450,columnNumber:37},void 0),e.jsxDEV("option",{value:90,children:"ربع سنوي (90 يوم)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:451,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:442,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"تاريخ أول قسط *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:457,columnNumber:33},void 0),e.jsxDEV(ve,{value:b.startDate,onChange:n=>J({...b,startDate:n})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:458,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:456,columnNumber:29},void 0),e.jsxDEV("div",{className:"md:col-span-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"ملاحظات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:466,columnNumber:33},void 0),e.jsxDEV("textarea",{value:b.notes,onChange:n=>J({...b,notes:n.target.value}),className:"w-full border border-slate-300 rounded-xl p-3 h-20 resize-none",placeholder:"ملاحظات إضافية..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:467,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:465,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:371,columnNumber:25},void 0),(Ne?.length||0)>0&&e.jsxDEV("div",{className:"bg-purple-50 rounded-xl p-4 mb-6",children:[e.jsxDEV("h4",{className:"font-bold text-purple-800 mb-3 flex items-center gap-2",children:[e.jsxDEV(Me,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:480,columnNumber:37},void 0)," معاينة جدول الأقساط"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:479,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:[Ne.map(n=>e.jsxDEV("div",{className:"bg-white rounded-lg p-2 text-center border border-purple-200",children:[e.jsxDEV("div",{className:"text-xs text-purple-600 font-bold",children:["قسط ",n.number]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:485,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-slate-800",children:n.amount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:486,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500",children:n.date.split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:487,columnNumber:45},void 0)]},n.number,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:484,columnNumber:41},void 0)),b.numberOfInstallments>12&&e.jsxDEV("div",{className:"bg-slate-100 rounded-lg p-2 text-center border border-slate-200 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-slate-500 text-xs",children:["+ ",b.numberOfInstallments-12," أقساط أخرى"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:492,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:491,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:482,columnNumber:33},void 0),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-purple-200 flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-purple-600",children:"المبلغ المتبقي للتقسيط:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:497,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-bold font-mono",children:[(b.totalAmount-b.downPayment).toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:498,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:496,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:478,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end gap-3",children:[e.jsxDEV("button",{onClick:()=>re("list"),className:"px-6 py-3 border border-slate-300 rounded-xl font-bold text-slate-600 hover:bg-slate-50",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:504,columnNumber:29},void 0),e.jsxDEV("button",{onClick:H,disabled:p,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-fuchsia-600 text-white rounded-xl font-bold shadow-lg hover:scale-105 transition-all disabled:opacity-50",children:[p?e.jsxDEV(Nn,{size:18,className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:508,columnNumber:44},void 0):e.jsxDEV(De,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:508,columnNumber:95},void 0),e.jsxDEV("span",{className:"mr-2",children:"إنشاء الخطة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:509,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:503,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:366,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:365,columnNumber:17},void 0),ne==="view"&&x&&e.jsxDEV("div",{className:"animate-fade-in space-y-4",children:[e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/60 p-6",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsxDEV(bn,{size:20,className:"text-purple-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:524,columnNumber:37},void 0),x.partnerName]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:523,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-slate-500 text-sm",children:["فاتورة #",x.invoiceNumber||x.invoiceId.slice(-8)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:527,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:522,columnNumber:29},void 0),fe(x.status)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:521,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxDEV("div",{className:"bg-slate-50 rounded-xl p-3",children:[e.jsxDEV("div",{className:"text-xs text-slate-500 mb-1",children:"المبلغ الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:534,columnNumber:33},void 0),e.jsxDEV("div",{className:"font-bold font-mono text-lg",children:x.totalAmount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:535,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:533,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-emerald-50 rounded-xl p-3",children:[e.jsxDEV("div",{className:"text-xs text-emerald-600 mb-1",children:"المدفوع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:538,columnNumber:33},void 0),e.jsxDEV("div",{className:"font-bold font-mono text-lg text-emerald-700",children:(x.totalPaid||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:539,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:537,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-amber-50 rounded-xl p-3",children:[e.jsxDEV("div",{className:"text-xs text-amber-600 mb-1",children:"المتبقي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:542,columnNumber:33},void 0),e.jsxDEV("div",{className:"font-bold font-mono text-lg text-amber-700",children:(x.remainingAmount-(x.totalPaid||0)+x.downPayment).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:543,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:541,columnNumber:29},void 0),e.jsxDEV("div",{className:"bg-purple-50 rounded-xl p-3",children:[e.jsxDEV("div",{className:"text-xs text-purple-600 mb-1",children:"التقدم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:548,columnNumber:33},void 0),e.jsxDEV("div",{className:"font-bold text-lg text-purple-700",children:[x.paidInstallments||0," / ",x.numberOfInstallments]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:549,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:547,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:532,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-6",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-fuchsia-600 h-3 rounded-full transition-all",style:{width:`${(x.paidInstallments||0)/x.numberOfInstallments*100}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:557,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:556,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:520,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-xl border border-white/60 overflow-hidden",children:[e.jsxDEV("div",{className:"bg-slate-800 text-white p-4 font-bold",children:"جدول الأقساط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:566,columnNumber:25},void 0),e.jsxDEV("table",{className:"w-full text-sm",children:[e.jsxDEV("thead",{className:"bg-slate-100",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3 text-right",children:"#"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:570,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-right",children:"تاريخ الاستحقاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:571,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"المبلغ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:572,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"المدفوع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:573,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:574,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"إجراء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:575,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:569,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:568,columnNumber:29},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:x.installments?.map(n=>e.jsxDEV("tr",{className:"hover:bg-purple-50/50",children:[e.jsxDEV("td",{className:"p-3 font-bold",children:n.installmentNumber},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:581,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-3",children:n.dueDate.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:582,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-3 text-center font-mono",children:n.amount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:583,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-3 text-center font-mono text-emerald-600",children:n.paidAmount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:584,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-3 text-center",children:fe(n.status)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:585,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-3 text-center",children:n.status!=="PAID"&&e.jsxDEV("button",{onClick:()=>{ce({show:!0,installment:n}),se(n.amount-n.paidAmount)},className:"px-3 py-1.5 bg-emerald-600 text-white text-xs rounded-lg font-bold hover:bg-emerald-700",children:"دفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:588,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:586,columnNumber:41},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:580,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:578,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:567,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:565,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:518,columnNumber:17},void 0),ne==="list"&&e.jsxDEV("div",{className:"animate-fade-in space-y-4",children:[(U?.length||0)>0&&e.jsxDEV("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:[e.jsxDEV("h4",{className:"font-bold text-rose-800 mb-2 flex items-center gap-2",children:[e.jsxDEV(on,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:614,columnNumber:33},void 0)," أقساط متأخرة (",U?.length||0,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:613,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[(U||[]).slice(0,5).map(n=>e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border border-rose-200 text-sm",children:[e.jsxDEV("span",{className:"font-bold",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:619,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-rose-600 font-mono mr-2",children:(n.amount-n.paidAmount).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:620,columnNumber:41},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:618,columnNumber:37},void 0)),(U?.length||0)>5&&e.jsxDEV("span",{className:"text-rose-600 text-sm font-bold",children:["+",(U?.length||0)-5," آخرين"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:624,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:616,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:612,columnNumber:25},void 0),e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-lg border border-white/60 p-4",children:e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxDEV("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsxDEV(tn,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:634,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث...",value:_,onChange:n=>ie(n.target.value),className:"w-full pl-4 pr-10 py-2.5 border border-slate-200 rounded-xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:635,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:633,columnNumber:29},void 0),e.jsxDEV("select",{value:K,onChange:n=>z(n.target.value),className:"border border-slate-200 rounded-xl p-2.5",children:[e.jsxDEV("option",{value:"",children:"جميع الحالات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:648,columnNumber:33},void 0),e.jsxDEV("option",{value:"ACTIVE",children:"نشط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:649,columnNumber:33},void 0),e.jsxDEV("option",{value:"COMPLETED",children:"مكتمل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:650,columnNumber:33},void 0),e.jsxDEV("option",{value:"OVERDUE",children:"متأخر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:651,columnNumber:33},void 0),e.jsxDEV("option",{value:"CANCELLED",children:"ملغي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:652,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:643,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:632,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:631,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-3",children:[(Q||[]).map(n=>e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-xl border border-white/60 p-4 hover:shadow-lg transition-all",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 bg-purple-100 rounded-xl",children:e.jsxDEV(bn,{size:20,className:"text-purple-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:664,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:663,columnNumber:41},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold text-slate-800",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:667,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-xs text-slate-500",children:["فاتورة #",n.invoiceNumber||n.invoiceId.slice(-8)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:668,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:666,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:662,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-xs text-slate-500",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:673,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-bold font-mono",children:n.totalAmount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:674,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:672,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-xs text-slate-500",children:"الأقساط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:677,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-bold",children:[n.paidInstallments||0,"/",n.numberOfInstallments]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:678,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:676,columnNumber:41},void 0),fe(n.status),e.jsxDEV("button",{onClick:()=>de(n.id),className:"p-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200",children:e.jsxDEV(Pn,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:685,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:681,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:671,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:661,columnNumber:33},void 0)},n.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:660,columnNumber:29},void 0)),(Q?.length||0)===0&&e.jsxDEV("div",{className:"text-center py-16 bg-white/60 backdrop-blur-xl rounded-2xl border border-white/60",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsxDEV(Oe,{size:40,className:"text-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:695,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:694,columnNumber:33},void 0),e.jsxDEV("h3",{className:"text-lg font-bold text-slate-600 mb-2",children:"لا توجد خطط تقسيط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:697,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-slate-400 text-sm",children:'اضغط "خطة جديدة" لإنشاء خطة تقسيط'},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:698,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:693,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:658,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:609,columnNumber:17},void 0),c.show&&c.installment&&e.jsxDEV("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 backdrop-blur-sm animate-fade-in p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxDEV("div",{className:"p-6 border-b border-slate-200",children:e.jsxDEV("h3",{className:"text-lg font-bold text-slate-800",children:["دفع قسط #",c.installment.installmentNumber]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:710,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:709,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"bg-slate-50 rounded-xl p-4 flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-600",children:"المبلغ المتبقي:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:714,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-bold font-mono",children:(c.installment.amount-c.installment.paidAmount).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:715,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:713,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"مبلغ الدفع *"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:718,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:j||"",onChange:n=>se(parseFloat(n.target.value)||0),className:"w-full border border-slate-300 rounded-xl p-3 font-mono text-lg",max:c.installment.amount-c.installment.paidAmount},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:719,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:717,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:728,columnNumber:33},void 0),e.jsxDEV("select",{value:t,onChange:n=>F(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3",children:[e.jsxDEV("option",{value:"CASH",children:"نقدي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:734,columnNumber:37},void 0),e.jsxDEV("option",{value:"BANK_TRANSFER",children:"تحويل بنكي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:735,columnNumber:37},void 0),e.jsxDEV("option",{value:"CHEQUE",children:"شيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:736,columnNumber:37},void 0),e.jsxDEV("option",{value:"CARD",children:"بطاقة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:737,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:729,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:727,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"رقم المرجع (اختياري)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:741,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",value:i,onChange:n=>E(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3",placeholder:"رقم الإيصال أو التحويل..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:742,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:740,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:712,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-3",children:[e.jsxDEV("button",{onClick:()=>ce({show:!1,installment:null}),className:"px-5 py-2.5 text-slate-600 font-bold",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:752,columnNumber:29},void 0),e.jsxDEV("button",{onClick:ee,disabled:p||j<=0,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 disabled:opacity-50",children:"تأكيد الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:758,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:751,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:708,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:707,columnNumber:17},void 0),e.jsxDEV(Je,{isOpen:N.show,onClose:()=>v({...N,show:!1}),message:N.message,type:N.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:771,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/treasury/InstallmentManager.tsx",lineNumber:301,columnNumber:9},void 0)},bo=({viewType:C,onSaveVoucher:B,onSaveJournal:te,onChequeAction:ne,onAddCategory:re,onAddAccount:w,onDeleteJournal:oe,onEditJournal:x,onNavigate:m,selectedBankId:u,onResync:S})=>{const{data:U}=Bn(),{data:L}=Vn(),{data:y}=Fn({limit:1e3}),{data:Y}=jn({limit:5e3}),{data:p}=Hn(),{data:a}=wn(),{data:K}=kn(),{data:z}=Mn(),{data:g}=Sn({limit:5e3}),ae=y?.partners||[],_=Y?.journals||[],ie=Array.isArray(U)?U:U?.cheques||[],X=g?.invoices||[],{invalidateJournals:P,invalidateAccounts:b,invalidateBanks:J}=In(),c=R=>{B(R),P(),b(),J()},ce=R=>{te&&(te(R,L||[]),P(),b(),J())},j=R=>{oe&&(oe(R),P(),b())},[se,t]=Ge.useState(null),[F,i]=Ge.useState(null),E=R=>{x&&(x(R),P(),b())},N=R=>{t(R),m&&m("money-transfer")},v=R=>{i(R),m&&m("daily-cash")};if(C==="cheques")return e.jsxDEV(Zn,{cheques:ie||[],onAction:ne,banks:p||[]},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:145,columnNumber:16},void 0);if(C==="banks")return e.jsxDEV(eo,{journal:_,accounts:L||[],banks:p||[],onSaveAdjustment:ce,initialBankId:u,onResync:S},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:149,columnNumber:16},void 0);if(C==="money-transfer")return e.jsxDEV(so,{accounts:L||[],costCenters:a||[],journal:_,onSave:ce||c,onDelete:j,initialEntry:se},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:160,columnNumber:16},void 0);if(C==="daily-cash")return e.jsxDEV(hn,{accounts:L||[],categories:K||[],onSave:R=>{ce(R),i(null)},onAddCategory:re,onAddAccount:w,initialData:F||void 0,onCancel:()=>{i(null),m&&m("treasury-journal")}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:171,columnNumber:16},void 0);if(C==="treasury-report")return e.jsxDEV(oo,{journal:_,accounts:L||[],banks:p||[]},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:183,columnNumber:16},void 0);if(C==="treasury-journal")return e.jsxDEV(no,{journal:_,accounts:L||[],onDelete:j,onEdit:E,categories:K||[],onAddCategory:re,costCenters:a||[],onNavigate:m,onEditTransfer:N,onEditCashEntry:v},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:187,columnNumber:16},void 0);if(C==="monthly-profit")return e.jsxDEV(lo,{journal:_,accounts:L||[]},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:202,columnNumber:16},void 0);if(C==="installments"){const R=JSON.parse(localStorage.getItem("currentUser")||"{}");return e.jsxDEV(to,{partners:ae,invoices:X,currentUser:R?.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:207,columnNumber:16},void 0)}return e.jsxDEV(Kn,{type:C==="cash-in"?"IN":"OUT",partners:ae,accounts:L||[],banks:p||[],cheques:ie||[],costCenters:a||[],salesmen:z||[],onSave:c},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/TreasuryV2.tsx",lineNumber:213,columnNumber:12},void 0)};export{bo as TreasuryV2};
