import{a as m,j as e}from"./index-2AF0VSfh.js";import{r as l}from"./react-vendor-CJgqbvH4.js";import{K as se,y as O,a5 as Se,J as Xe,a6 as Je,X as B,d as Ye,bZ as de,R as Ze,v as ve,h as ge,b_ as We,b1 as eo,P as oo,a9 as te,r as re,t as no,S as lo,N as we,a8 as so,o as ie,aa as to,al as je,a7 as ro}from"./ui-vendor-DNgltnAO.js";import"./utils-vendor-5vCYNseS.js";import"./query-vendor-GtDMnHGN.js";import"./socket-vendor-TjCxX7sJ.js";const io=({warehouseId:q,onExit:p})=>{const[t,M]=l.useState(null),[Fe,ue]=l.useState(!0),[G,$]=l.useState(!1),[De,Q]=l.useState(!1),[U,K]=l.useState(0),[ae,He]=l.useState(0),[x,Oe]=l.useState([]),[Be,me]=l.useState([]),[Ve,ce]=l.useState([]),[C,fe]=l.useState(null),[P,be]=l.useState(""),[ye,Ee]=l.useState(!1),[r,R]=l.useState([]),[h,z]=l.useState(null),[V,X]=l.useState(0),[N,ke]=l.useState("FIXED"),[y,k]=l.useState(!1),[u,_e]=l.useState("CASH"),[S,v]=l.useState(0),[b,g]=l.useState(!1),[c,$e]=l.useState(null),[J,w]=l.useState(!1),[Pe,ze]=l.useState([]),[Y,I]=l.useState(""),[Z,Ie]=l.useState([]),[W,T]=l.useState(!1),[j,A]=l.useState(null),[uo,ao]=l.useState("grid"),F=l.useRef(null),Ne=l.useRef(null),D=r.reduce((o,n)=>o+n.total,0),H=N==="PERCENT"?D*V/100:V,L=0,a=D-H+L,_=u==="CASH"?Math.max(0,S-a):0;l.useEffect(()=>{ee(),Le()},[]),l.useEffect(()=>{t&&Te()},[t]),l.useEffect(()=>{Ae()},[x,C,P]),l.useEffect(()=>{t&&F.current&&F.current.focus()},[t]),l.useEffect(()=>{const o=n=>{n.key==="F2"&&(n.preventDefault(),Ne.current?.focus()),n.key==="F4"&&(n.preventDefault(),!y&&r.length>0?k(!0):y&&le(!0)),n.key==="F8"&&(n.preventDefault(),r.length>0&&Re()),n.key==="Escape"&&(y?k(!1):J?w(!1):W?T(!1):G||(P?(be(""),me(x)):document.activeElement===F.current?F.current?.blur():F.current?.focus()))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[y,J,W,r,P,x]),l.useEffect(()=>{c&&setTimeout(()=>{window.print(),$e(null)},100)},[c]);const Te=async()=>{try{Ee(!0);const o=t?.warehouseId||q,n=new URLSearchParams;o&&n.append("warehouseId",o),n.append("limit","2000");const d=await m.get(`/pos/products?${n.toString()}`);Oe(d.products||[])}catch{}finally{Ee(!1)}},Ae=l.useCallback(()=>{let o=[...x];if(C&&(o=o.filter(n=>n.categoryId===C)),P){const n=P.toLowerCase();o=o.filter(d=>d.name.toLowerCase().includes(n)||d.barcode?.includes(n)||d.sku?.toLowerCase().includes(n))}me(o)},[x,C,P]),ee=async()=>{try{ue(!0);const o=await m.get("/pos/shift/current");o.shift?M(o.shift):$(!0)}catch{$(!0)}finally{ue(!1)}},Le=async()=>{try{const o=await m.get("/master/categories");ce(o?.categories||o||[])}catch{ce([])}},pe=async o=>{try{const d=((await m.getPartners()).partners||[]).filter(s=>s.isCustomer).filter(s=>s.name.toLowerCase().includes(o.toLowerCase())||s.phone?.includes(o)).slice(0,10);ze(d)}catch{}},xe=async()=>{try{g(!0);const o=await m.post("/pos/shift/open",{openingCash:U,warehouseId:q});M(o.shift),$(!1),f("تم فتح الوردية بنجاح","success")}catch(o){f(o.message||"فشل فتح الوردية","error")}finally{g(!1)}},qe=async()=>{if(t)try{g(!0);const o=await m.post("/pos/shift/close",{shiftId:t.id,closingCash:ae,notes:""});M(null),Q(!1),R([]),f(o.message||"تم إغلاق الوردية","success"),$(!0)}catch(o){f(o.message||"فشل إغلاق الوردية","error")}finally{g(!1)}},oe=l.useCallback(o=>{R(n=>{const d=n.findIndex(s=>s.productId===o.id&&s.unitId===(o.unitId||null));if(d>=0){const s=[...n],i=s[d].quantity+1;return s[d]={...s[d],quantity:i,total:i*s[d].price},s}return[...n,{productId:o.id,productName:o.name,barcode:o.barcode,sku:o.sku,quantity:1,price:o.price,cost:o.cost,total:o.price,unitId:o.unitId,unitName:o.unitName,conversionFactor:o.conversionFactor||1,availableStock:o.stock}]})},[]),Ce=(o,n)=>{R(d=>{const s=[...d],i=s[o].quantity+n;return i<=0?s.splice(o,1):s[o]={...s[o],quantity:i,total:i*s[o].price},s})},Me=o=>{R(n=>n.filter((d,s)=>s!==o))},ne=()=>{R([]),z(null),X(0)},Ge=async o=>{if(o.key==="Enter"){const n=o.target.value.trim();if(!n)return;try{const d=x.find(Ke=>Ke.barcode===n);if(d){oe(d),o.target.value="";return}const s=t?.warehouseId||q,i=s?`?warehouseId=${s}`:"",he=await m.get(`/pos/product/barcode/${n}${i}`);he.product?(oe(he.product),o.target.value=""):f("المنتج غير موجود","warning")}catch{f("المنتج غير موجود","warning")}}},le=async(o=!0)=>{if(!(!t||r.length===0))try{g(!0);const n=await m.post("/pos/sale",{shiftId:t.id,customerId:h?.id,customerName:h?.name||"عميل نقدي",items:r.map(d=>({...d,baseQuantity:d.quantity*(d.conversionFactor||1)})),subtotal:D,discount:H,discountType:N,taxAmount:L,total:a,paymentMethod:u,cashTendered:u==="CASH"?S:a,printReceipt:o});if(n.success){if(o){const d=`
                        <!DOCTYPE html>
                            <html dir="rtl" lang="ar">
                                <head>
                                    <meta charset="UTF-8">
                                        <title>إيصال البيع</title>
                                        <style>
                                            @page {size: 80mm auto; margin: 0; }
                                            * {margin: 0; padding: 0; box-sizing: border-box; }
                                            body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; width: 80mm; padding: 2mm 4mm; font-size: 13px; line-height: 1.4; background: white; color: #000; }
                                            .container {width: 100%; }
                                            .header {text-align: center; margin-bottom: 10px; }
                                            .header h1 {font-size: 20px; font-weight: 800; margin-bottom: 4px; text-transform: uppercase; }
                                            .header p {font-size: 11px; color: #555; margin-bottom: 2px; }

                                            .separator {border-top: 1px dashed #000; margin: 8px 0; }

                                            .info-grid {display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 3px; }
                                            .info-label {font-weight: 600; color: #444; }

                                            table {width: 100%; border-collapse: collapse; margin: 8px 0; }
                                            th {text-align: right; border-bottom: 1.5px solid #000; padding: 4px 0; font-size: 11px; font-weight: 800; }
                                            td {padding: 4px 0; border-bottom: 1px dashed #ddd; font-size: 12px; vertical-align: top; }
                                            .col-qty {text-align: center; width: 15%; }
                                            .col-price {text-align: left; width: 25%; }
                                            .col-total {text-align: left; width: 25%; font-weight: bold; }

                                            .totals {margin-top: 10px; padding-top: 5px; border-top: 1px solid #000; }
                                            .totals-row {display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 13px; }
                                            .grand-total {font-size: 22px; font-weight: 900; border-top: 2px solid #000; border-bottom: 2px solid #000; padding: 6px 0; margin: 8px 0; }

                                            .footer {text-align: center; margin-top: 15px; font-size: 10px; color: #555; }
                                            .barcode-box {height: 35px; background: #eee; margin: 8px auto; width: 90%; display: flex; align-items: center; justify-content: center; font-family: 'Courier New', monospace; letter-spacing: 3px; font-size: 10px; overflow: hidden; }
                                            .user-info {font-size: 10px; text-align: center; color: #666; margin-top: 4px; }
                                        </style>
                                </head>
                                <body>
                                    <div class="container">
                                        <div class="header">
                                            <h1>اسم المتجر</h1>
                                            <p>عنوان المتجر، المدينة، المنطقة</p>
                                            <p>هاتف: 01xxxxxxxxx | ضريبي: 123456789</p>
                                        </div>

                                        <div class="separator"></div>

                                        <div class="info-grid"><span class="info-label">التاريخ:</span> <span>${new Date().toLocaleDateString("ar-EG")} ${new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})}</span></div>
                                        <div class="info-grid"><span class="info-label">رقم الإيصال:</span> <span style="font-weight:bold;">${n.invoice.number}</span></div>
                                        <div class="info-grid"><span class="info-label">العميل:</span> <span>${h?.name||"عميل نقدي"}</span></div>

                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>الصنف</th>
                                                    <th class="col-qty">ع</th>
                                                    <th class="col-price">سعر</th>
                                                    <th class="col-total">جم</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                ${r.map(i=>`
                                            <tr>
                                                <td style="padding-left: 5px;">
                                                    <div style="font-weight: 600; line-height: 1.2;">${i.productName}</div>
                                                </td>
                                                <td class="col-qty">${i.quantity}</td>
                                                <td class="col-price">${i.price.toFixed(2)}</td>
                                                <td class="col-total">${i.total.toFixed(2)}</td>
                                            </tr>
                                        `).join("")}
                                            </tbody>
                                        </table>

                                        <div class="totals">
                                            <div class="totals-row">
                                                <span>المجموع</span>
                                                <span>${D.toFixed(2)}</span>
                                            </div>
                                            ${H>0?`
                                    <div class="totals-row" style="color: #666;">
                                        <span>خصم</span>
                                        <span>-${H.toFixed(2)}</span>
                                    </div>
                                    `:""}
                                            ${L>0?`
                                    <div class="totals-row" style="color: #666;">
                                        <span>ضريبة</span>
                                        <span>+${L.toFixed(2)}</span>
                                    </div>
                                    `:""}
                                            <div class="totals-row grand-total">
                                                <span>الإجمالي</span>
                                                <span>${a.toFixed(2)}</span>
                                            </div>
                                            <div class="totals-row" style="font-size: 11px;">
                                                <span>المدفوع (${u==="CASH"?"نقدي":u==="BANK"?"بطاقة":u==="CREDIT"?"آجل":"شيك"})</span>
                                                <span>${(u==="CASH"?S:a).toFixed(2)}</span>
                                            </div>
                                            ${u==="CASH"&&_>0?`
                                    <div class="totals-row" style="font-size: 11px;">
                                        <span>الباقي</span>
                                        <span>${_.toFixed(2)}</span>
                                    </div>
                                    `:""}
                                        </div>

                                        <div class="separator"></div>

                                        <div class="footer">
                                            <p>شكراً لتسوقكم معنا!</p>
                                            <p>ملاحظات: ${t?.notes||"لا يوجد"}</p>
                                            <div class="user-info">كاشير: ${t?.userName||"System"} | وردية: #${t?.id?.substring(0,6)}</div>
                                            <div class="barcode-box">||| ||||| |||| |||</div>
                                        </div>
                                    </div>
                                </body>
                            </html>
                    `,s=window.open("","_blank","width=320,height=600");s&&(s.document.write(d),s.document.close(),s.onload=()=>{s.print(),s.onafterprint=()=>s.close()})}f("تم البيع بنجاح","success"),ne(),k(!1),v(0),ee()}}catch(n){f(n.message||"فشل في إتمام البيع","error")}finally{g(!1)}},Re=async()=>{if(!(!t||r.length===0))try{await m.post("/pos/hold",{shiftId:t.id,customerId:h?.id,customerName:h?.name,items:r}),f("تم تعليق الطلب","success"),ne()}catch(o){f(o.message||"فشل تعليق الطلب","error")}},Qe=async()=>{if(t)try{const o=await m.get(`/ pos / held / ${t.id} `);Ie(o.heldOrders||[]),T(!0)}catch{}},Ue=async o=>{try{const n=await m.delete(`/ pos / held / ${o} `);n.order&&(R(n.order.items),T(!1))}catch(n){f(n.message,"error")}},f=(o,n)=>{A({message:o,type:n}),setTimeout(()=>A(null),3e3)},E=o=>new Intl.NumberFormat("ar-EG",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(o);return G?e.jsxDEV("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black flex items-center justify-center p-4 z-50",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 hover:opacity-10 transition-opacity"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-slate-900/40 backdrop-blur-2xl rounded-3xl shadow-2xl p-8 max-w-md w-full border border-white/10 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:681,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-center mb-10",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_30px_rgba(16,185,129,0.2)] border border-emerald-500/30",children:e.jsxDEV(se,{className:"w-10 h-10 text-emerald-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:685,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:684,columnNumber:25},void 0),e.jsxDEV("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"فتح وردية جديدة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:687,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-slate-400 font-light",children:"أدخل الرصيد النقدي الافتتاحي في الدرج"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:688,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:683,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("label",{className:"block text-emerald-400 text-sm font-medium mb-3 text-center",children:"الرصيد الافتتاحي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:692,columnNumber:25},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:e.jsxDEV("span",{className:"text-slate-500 text-xl font-light",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:695,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:694,columnNumber:29},void 0),e.jsxDEV("input",{type:"number",value:U,onChange:o=>K(Number(o.target.value)),className:"w-full pl-16 pr-4 py-5 bg-black/40 border border-slate-700/50 rounded-2xl text-white text-3xl font-bold text-center focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500/50 transition-all placeholder-slate-600 shadow-inner",placeholder:"0.00",autoFocus:!0},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:697,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:693,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:691,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 gap-3 mb-8",children:[100,200,500,1e3].map(o=>e.jsxDEV("button",{onClick:()=>K(n=>n+o),className:"py-2.5 bg-slate-800/50 hover:bg-emerald-500/20 border border-slate-700 hover:border-emerald-500/30 text-slate-300 hover:text-emerald-400 rounded-xl transition-all font-medium text-sm active:scale-95",children:["+",o]},o,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:710,columnNumber:29},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:708,columnNumber:21},void 0),e.jsxDEV("button",{onClick:xe,disabled:b,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white font-bold rounded-xl shadow-[0_8px_20px_rgba(16,185,129,0.3)] hover:shadow-[0_12px_24px_rgba(16,185,129,0.4)] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5",children:b?e.jsxDEV(O,{className:"w-6 h-6 animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:726,columnNumber:29},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Se,{className:"w-5 h-5 fill-current"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:729,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-lg",children:"بدء الوردية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:730,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:728,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:720,columnNumber:21},void 0),p&&e.jsxDEV("button",{onClick:p,className:"w-full mt-6 py-2 text-slate-500 hover:text-white transition-colors text-sm font-medium flex items-center justify-center gap-2 group",children:[e.jsxDEV(Xe,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:740,columnNumber:29},void 0),"العودة للقائمة الرئيسية"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:736,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:680,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:678,columnNumber:13},void 0):Fe?e.jsxDEV("div",{className:"fixed inset-0 bg-slate-950 flex flex-col items-center justify-center",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-full animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:757,columnNumber:21},void 0),e.jsxDEV(O,{className:"w-16 h-16 text-emerald-400 animate-spin relative z-10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:758,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:756,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-slate-400 text-lg mt-6 font-light tracking-wide animate-pulse",children:"جاري تحميل النظام..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:760,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:755,columnNumber:13},void 0):e.jsxDEV("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black flex flex-col font-sans z-[100] print:hidden",dir:"rtl",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:771,columnNumber:13},void 0),j&&e.jsxDEV("div",{className:`absolute top - 6 left - 1 / 2 - translate - x - 1 / 2 z - [150] px - 8 py - 4 rounded - 2xl shadow - [0_10px_40px_rgba(0, 0, 0, 0.4)] flex items - center gap - 3 backdrop - blur - md border ${j.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":j.type==="error"?"bg-red-500/10 border-red-500/20 text-red-400":"bg-amber-500/10 border-amber-500/20 text-amber-400"} animate -in slide -in -from - top - 4 fade -in duration - 300`,children:[j.type==="success"?e.jsxDEV(Je,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:778,columnNumber:49},void 0):j.type==="error"?e.jsxDEV(B,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:779,columnNumber:50},void 0):e.jsxDEV(Ye,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:780,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-semibold text-lg",children:j.message},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:781,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:775,columnNumber:17},void 0),e.jsxDEV("header",{className:"relative z-10 bg-slate-900/80 backdrop-blur-xl border-b border-white/5 px-6 py-4 flex items-center justify-between shadow-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3 bg-slate-800/50 px-4 py-2 rounded-full border border-white/5 hover:border-emerald-500/30 transition-colors cursor-help group",children:[e.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse group-hover:shadow-[0_0_10px_#10b981] transition-shadow"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:789,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-slate-200 font-medium font-mono text-sm tracking-wide",children:t?.openedAt?new Date(t.openedAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"}):"--:--"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:790,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-slate-500 text-xs px-2 border-r border-slate-700",children:["#",t?.userName||"كاشير"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:793,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:788,columnNumber:21},void 0),e.jsxDEV("div",{className:"hidden md:flex gap-2",children:e.jsxDEV("div",{className:"bg-slate-800/30 px-3 py-1.5 rounded-lg border border-white/5 text-xs text-slate-400",children:["الوردية #",t?.id?.substring(0,8)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:799,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:798,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:787,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:Qe,className:"h-10 w-10 bg-slate-800/50 hover:bg-slate-700 text-amber-400 rounded-xl transition-all border border-white/5 hover:border-amber-400/30 flex items-center justify-center hover:scale-105",title:"الطلبات المعلقة (F8)",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(de,{className:"w-5 h-5 fill-current"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:813,columnNumber:29},void 0),Z.length>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:814,columnNumber:55},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:812,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:807,columnNumber:21},void 0),e.jsxDEV("div",{className:"h-8 w-px bg-white/10 mx-1"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:818,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>ee(),className:"h-10 w-10 bg-slate-800/50 hover:bg-slate-700 text-slate-300 rounded-xl transition-all border border-white/5 hover:border-white/20 flex items-center justify-center hover:scale-105 active:rotate-180 duration-500",title:"تحديث",children:e.jsxDEV(Ze,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:825,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:820,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Q(!0),className:"h-10 px-4 bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 rounded-xl transition-all border border-red-500/10 hover:border-red-500/30 flex items-center gap-2 hover:scale-105",children:[e.jsxDEV(ve,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:832,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-bold text-sm",children:"إغلاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:833,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:828,columnNumber:21},void 0),p&&e.jsxDEV("button",{onClick:p,className:"h-10 w-10 bg-slate-800/50 hover:bg-slate-700 text-slate-400 hover:text-white rounded-xl transition-all border border-white/5 hover:border-white/20 flex items-center justify-center hover:scale-105 ml-2",title:"خروج",children:e.jsxDEV(B,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:842,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:837,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:806,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:786,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 flex overflow-hidden p-6 gap-6 relative z-0",children:[e.jsxDEV("div",{className:"flex-1 flex flex-col gap-6 min-w-0",children:[e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-2xl blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:856,columnNumber:25},void 0),e.jsxDEV("div",{className:"relative bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl p-2 flex items-center shadow-xl",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV(ge,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400 group-focus-within:text-emerald-400 transition-colors"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:859,columnNumber:33},void 0),e.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex gap-2",children:e.jsxDEV("span",{className:"text-xs text-slate-500 font-mono bg-slate-800 px-2 py-1 rounded border border-white/5 hidden md:block",children:"F2"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:861,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:860,columnNumber:33},void 0),e.jsxDEV("input",{ref:Ne,type:"text",value:P,onChange:o=>be(o.target.value),placeholder:"ابحث عن منتج...",className:"w-full bg-transparent border-none text-white text-lg placeholder-slate-500 py-3 pr-14 pl-4 focus:ring-0"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:863,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:858,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-px h-8 bg-slate-700 mx-2"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:872,columnNumber:29},void 0),e.jsxDEV("div",{className:"relative w-1/3 max-w-xs opacity-80 hover:opacity-100 transition-opacity",children:[e.jsxDEV(We,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:874,columnNumber:33},void 0),e.jsxDEV("input",{ref:F,type:"text",placeholder:"باركود...",onKeyDown:Ge,className:"w-full bg-slate-800/50 border-none rounded-xl text-slate-200 placeholder-slate-600 py-3 pr-12 pl-4 text-sm focus:ring-2 focus:ring-emerald-500/50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:875,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:873,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:857,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:855,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide select-none",children:[e.jsxDEV("button",{onClick:()=>fe(null),className:`px - 5 py - 2.5 rounded - xl whitespace - nowrap transition - all font - medium text - sm flex items - center gap - 2 ${C?"bg-slate-800/40 text-slate-400 border border-white/5 hover:bg-slate-700 hover:text-white hover:border-white/10":"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-[0_4px_15px_rgba(16,185,129,0.3)] scale-105"} `,children:[e.jsxDEV(eo,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:895,columnNumber:29},void 0),"الكل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:888,columnNumber:25},void 0),Ve.map(o=>e.jsxDEV("button",{onClick:()=>fe(o.id),className:`px - 5 py - 2.5 rounded - xl whitespace - nowrap transition - all font - medium text - sm ${C===o.id?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-[0_4px_15px_rgba(16,185,129,0.3)] scale-105":"bg-slate-800/40 text-slate-400 border border-white/5 hover:bg-slate-700 hover:text-white hover:border-white/10"} `,children:o.name},o.id,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:899,columnNumber:29},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:887,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:ye?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsxDEV(O,{className:"w-10 h-10 text-emerald-500 animate-spin mb-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:916,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-slate-500",children:"جاري تحميل المنتجات..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:917,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:915,columnNumber:29},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 pb-20",children:Be.map((o,n)=>e.jsxDEV("button",{onClick:()=>oe(o),className:"group relative bg-slate-800/40 backdrop-blur-sm border border-white/5 hover:border-emerald-500/40 rounded-2xl p-4 text-right transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:bg-slate-800/60 overflow-hidden",children:[e.jsxDEV("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r from-emerald-500 to-teal-500 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-right"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:927,columnNumber:41},void 0),e.jsxDEV("div",{className:"aspect-square bg-slate-900/50 rounded-xl mb-4 flex items-center justify-center overflow-hidden border border-white/5 relative group-hover:border-emerald-500/20 transition-colors",children:[o.image?e.jsxDEV("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:931,columnNumber:49},void 0):e.jsxDEV(oo,{className:"w-12 h-12 text-slate-600 group-hover:text-emerald-500/50 transition-colors duration-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:933,columnNumber:49},void 0),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-slate-900/80 backdrop-blur-sm px-2 py-1 rounded-lg text-xs text-slate-300 font-mono border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity",children:o.stock},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:935,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:929,columnNumber:41},void 0),e.jsxDEV("h3",{className:"text-slate-100 font-semibold text-sm truncate mb-1 group-hover:text-emerald-400 transition-colors",children:o.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:940,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex items-end justify-between",children:[e.jsxDEV("p",{className:"text-white font-bold text-lg",children:E(o.price)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:942,columnNumber:45},void 0),e.jsxDEV("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-400 opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:e.jsxDEV(te,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:944,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:943,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:941,columnNumber:41},void 0)]},`${o.id} -${n} `,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:922,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:920,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:913,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:852,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-[420px] bg-slate-900/80 backdrop-blur-xl border border-white/5 rounded-3xl flex flex-col shadow-2xl relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl pointer-events-none -mr-32 -mt-32"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:957,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-5 border-b border-white/5 relative z-10",children:e.jsxDEV("button",{onClick:()=>{w(!0),pe("")},className:"w-full px-4 py-4 bg-slate-800/50 hover:bg-slate-800 rounded-2xl border border-white/5 hover:border-white/10 flex items-center gap-4 transition-all group",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white shadow-lg",children:e.jsxDEV(re,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:969,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:968,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1 text-right",children:[e.jsxDEV("span",{className:"block text-slate-400 text-xs mb-0.5",children:"العميل الحالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:972,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-white font-medium group-hover:text-indigo-300 transition-colors",children:h?.name||"اختر عميل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:973,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:971,columnNumber:29},void 0),e.jsxDEV(no,{className:"w-5 h-5 text-slate-500 group-hover:text-white transition-colors"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:977,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:961,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:960,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar relative z-10",children:r.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 opacity-60",children:[e.jsxDEV(lo,{className:"w-20 h-20 mb-6 stroke-1"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:985,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-lg font-light",children:"السلة فارغة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:986,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"ابدأ بإضافة المنتجات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:987,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:984,columnNumber:29},void 0):r.map((o,n)=>e.jsxDEV("div",{className:"group relative bg-slate-800/30 hover:bg-slate-800/60 rounded-2xl p-4 border border-white/5 hover:border-white/10 transition-all",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("div",{className:"flex-1 pl-2",children:[e.jsxDEV("h4",{className:"text-slate-200 font-bold text-sm mb-1 leading-relaxed",children:o.productName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:994,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-slate-500 text-xs font-mono",children:[E(o.price)," / وحدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:995,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:993,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>Me(n),className:"opacity-0 group-hover:opacity-100 p-1.5 text-red-400 hover:bg-red-500/10 rounded-lg transition-all",children:e.jsxDEV(we,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1001,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:997,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:992,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center justify-between bg-black/20 rounded-xl p-1.5 border border-white/5",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>Ce(n,1),className:"w-8 h-8 bg-slate-700 hover:bg-emerald-500 hover:text-white text-slate-300 rounded-lg flex items-center justify-center transition-all",children:e.jsxDEV(te,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1011,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1007,columnNumber:45},void 0),e.jsxDEV("span",{className:"w-10 text-center text-white font-bold font-mono text-lg",children:o.quantity},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1013,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>Ce(n,-1),className:"w-8 h-8 bg-slate-700 hover:bg-red-500 hover:text-white text-slate-300 rounded-lg flex items-center justify-center transition-all",children:e.jsxDEV(so,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1018,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1014,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1006,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-emerald-400 font-bold text-lg px-2",children:E(o.total)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1021,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1005,columnNumber:37},void 0)]},`${o.productId} -${n} `,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:991,columnNumber:33},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:982,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-slate-900/95 backdrop-blur-xl border-t border-white/10 p-6 space-y-4 relative z-20 shadow-[0_-10px_40px_rgba(0,0,0,0.5)]",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between text-slate-400 text-sm",children:[e.jsxDEV("span",{children:"المجموع الفرعي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1032,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-mono",children:E(D)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1033,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1031,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 bg-slate-800/50 rounded-xl p-2 border border-white/5",children:[e.jsxDEV("button",{onClick:()=>ke(N==="FIXED"?"PERCENT":"FIXED"),className:`px - 3 py - 1.5 rounded - lg text - xs font - bold transition - all ${N==="PERCENT"?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-slate-700 text-slate-400 border border-slate-600"} `,children:N==="PERCENT"?"%":"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1038,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:V||"",onChange:o=>X(Number(o.target.value)||0),placeholder:"خصم",className:"flex-1 bg-transparent border-none text-amber-400 text-sm font-mono text-center focus:ring-0 placeholder-slate-600 py-1",min:"0",max:N==="PERCENT"?100:D},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1047,columnNumber:33},void 0),V>0&&e.jsxDEV("button",{onClick:()=>X(0),className:"w-6 h-6 bg-red-500/20 hover:bg-red-500/40 text-red-400 rounded-lg flex items-center justify-center transition-all",children:e.jsxDEV(B,{className:"w-3 h-3"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1061,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1057,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1037,columnNumber:29},void 0),H>0&&e.jsxDEV("div",{className:"flex justify-between text-amber-400 text-sm",children:[e.jsxDEV("span",{children:["الخصم ",N==="PERCENT"?`(${V} %)`:""]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1068,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-mono",children:["-",E(H)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1069,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1067,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-end pt-3 border-t border-white/5",children:[e.jsxDEV("span",{className:"text-white text-lg font-light",children:"الإجمالي النهائي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1073,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent tracking-tight font-mono",children:[E(a),e.jsxDEV("span",{className:"text-sm text-emerald-600 font-sans mr-2",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1076,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1074,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1072,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1030,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-2",children:[e.jsxDEV("button",{onClick:Re,disabled:r.length===0,className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-amber-400 rounded-2xl font-bold border border-white/5 hover:border-amber-400/20 transition-all flex flex-col items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed group active:scale-95",children:[e.jsxDEV(de,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1087,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs",children:"تعليق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1088,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1082,columnNumber:29},void 0),e.jsxDEV("button",{onClick:ne,disabled:r.length===0,className:"flex-1 py-4 bg-slate-800 hover:bg-red-500/10 text-red-400 rounded-2xl font-bold border border-white/5 hover:border-red-500/20 transition-all flex flex-col items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed group active:scale-95",children:[e.jsxDEV(we,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1095,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1096,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1090,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1081,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{k(!0),v(Math.ceil(a/10)*10)},disabled:r.length===0,className:"w-full py-5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold text-xl rounded-2xl shadow-[0_5px_30px_rgba(16,185,129,0.3)] hover:shadow-[0_10px_40px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 active:translate-y-0 active:scale-95 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 skew-y-12"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1108,columnNumber:29},void 0),e.jsxDEV(ie,{className:"w-7 h-7 relative z-10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1109,columnNumber:29},void 0),e.jsxDEV("span",{className:"relative z-10",children:"إتمام الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1110,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1100,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1029,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:955,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:849,columnNumber:13},void 0),y&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-slate-900 border border-white/10 rounded-3xl w-full max-w-2xl shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxDEV("div",{className:"bg-slate-800/50 p-6 border-b border-white/5 flex justify-between items-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsxDEV(ie,{className:"w-6 h-6 text-emerald-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1124,columnNumber:33},void 0),"إتمام الدفع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1123,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>k(!1),className:"text-slate-400 hover:text-white transition-colors",children:e.jsxDEV(B,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1128,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1127,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1122,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("span",{className:"text-slate-400 text-sm block mb-1",children:"المبلغ المستحق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1135,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-6xl font-bold text-emerald-400 font-mono tracking-tight",children:E(a)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1136,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1134,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("label",{className:"text-slate-300 font-medium block",children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1142,columnNumber:37},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[{id:"CASH",label:"نقدي",icon:to},{id:"BANK",label:"بطاقة",icon:ie},{id:"CHEQUE",label:"شيك",icon:o=>e.jsxDEV(je,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1147,columnNumber:93},void 0)},{id:"CREDIT",label:"آجل",icon:se}].map(o=>e.jsxDEV("button",{onClick:()=>_e(o.id),className:`p - 4 rounded - xl border flex flex - col items - center gap - 2 transition - all ${u===o.id?"bg-emerald-500/20 border-emerald-500 text-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.2)]":"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700"} `,children:[o.id==="CHEQUE"?e.jsxDEV(je,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1158,columnNumber:75},void 0):e.jsxDEV(o.icon,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1158,columnNumber:109},void 0),e.jsxDEV("span",{className:"font-medium",children:o.label},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1159,columnNumber:49},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1150,columnNumber:45},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1143,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1141,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-6",children:u==="CASH"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-slate-300 font-medium block mb-3",children:"النقد المستلم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1170,columnNumber:49},void 0),e.jsxDEV("div",{className:"relative",children:e.jsxDEV("input",{type:"number",value:S||"",onChange:o=>v(Number(o.target.value)),className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-4 text-3xl text-white font-mono text-center focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"0.00",autoFocus:!0},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1172,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1171,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1169,columnNumber:45},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[[50,100,200].map(o=>e.jsxDEV("button",{onClick:()=>v(n=>n+o),className:"py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-sm font-mono border border-white/5",children:["+",o]},o,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1186,columnNumber:53},void 0)),e.jsxDEV("button",{onClick:()=>v(Math.ceil(a/50)*50),className:"py-2 bg-slate-800 hover:bg-emerald-500/20 text-emerald-400 rounded-lg text-sm font-mono border border-emerald-500/30",children:"الضبط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1194,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>v(a),className:"py-2 bg-slate-800 hover:bg-emerald-500/20 text-emerald-400 rounded-lg text-sm font-mono border border-emerald-500/30 col-span-2",children:"المبلغ بالضبط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1200,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1184,columnNumber:45},void 0),e.jsxDEV("div",{className:`p - 4 rounded - xl border ${_>0?"bg-emerald-500/10 border-emerald-500/30":"bg-slate-800 border-slate-700"} `,children:[e.jsxDEV("span",{className:"text-slate-400 block text-sm mb-1",children:"الباقي للعميل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1209,columnNumber:49},void 0),e.jsxDEV("span",{className:`text - 3xl font - bold font - mono ${_>0?"text-emerald-400":"text-slate-500"} `,children:E(_)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1210,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1208,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1168,columnNumber:41},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-slate-500 border-2 border-dashed border-slate-700 rounded-xl",children:e.jsxDEV("p",{children:"لا يوجد تغيير لطرق الدفع غير النقدية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1217,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1216,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1166,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1139,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1132,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-6 bg-slate-800/50 border-t border-white/5 flex gap-4",children:[e.jsxDEV("button",{onClick:()=>le(!0),disabled:b||u==="CASH"&&S<a,className:"flex-1 py-4 bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-lg rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[b?e.jsxDEV(O,{className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1231,columnNumber:49},void 0):e.jsxDEV(ro,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1231,columnNumber:88},void 0),"دفع وطباعة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1226,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>le(!1),disabled:b||u==="CASH"&&S<a,className:"flex-1 py-4 bg-slate-700 hover:bg-slate-600 text-white font-bold text-lg rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:"دفع فقط"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1234,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1225,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1120,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1119,columnNumber:17},void 0),De&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-slate-900 border border-white/10 rounded-3xl w-full max-w-md shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-200",children:e.jsxDEV("div",{className:"p-8 text-center",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:e.jsxDEV(ve,{className:"w-10 h-10 text-red-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1252,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1251,columnNumber:29},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-2",children:"إغلاق الوردية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1254,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-400 mb-8",children:"هل أنت متأكد من رغبتك في إغلاق الوردية الحالية؟"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1255,columnNumber:29},void 0),e.jsxDEV("div",{className:"mb-8 text-right",children:[e.jsxDEV("label",{className:"block text-slate-300 text-sm mb-2",children:"النقدية الفعلية في الدرج (للإغلاق)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1258,columnNumber:33},void 0),e.jsxDEV("input",{type:"number",value:ae,onChange:o=>He(Number(o.target.value)),className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-red-500 focus:border-transparent text-lg"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1259,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1257,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{onClick:qe,disabled:b,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl shadow-lg disabled:opacity-50",children:b?e.jsxDEV(O,{className:"animate-spin mx-auto"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1273,columnNumber:53},void 0):"إغلاق الوردية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1268,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>Q(!1),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 font-medium rounded-xl",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1275,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1267,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1250,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1249,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1248,columnNumber:17},void 0),W&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-slate-900 border border-white/10 rounded-3xl w-full max-w-lg shadow-2xl relative overflow-hidden flex flex-col max-h-[80vh] animate-in zoom-in-95 duration-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-slate-800/50",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsxDEV(de,{className:"w-5 h-5 text-amber-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1293,columnNumber:33},void 0),"الطلبات المعلقة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1292,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-white",children:e.jsxDEV(B,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1297,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1296,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1291,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:Z.length===0?e.jsxDEV("div",{className:"text-center py-10 text-slate-500",children:e.jsxDEV("p",{children:"لا توجد طلبات معلقة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1303,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1302,columnNumber:33},void 0):Z.map(o=>e.jsxDEV("div",{className:"bg-slate-800/30 border border-white/5 rounded-xl p-4 flex justify-between items-center hover:bg-slate-800/50 transition-colors",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-white font-medium mb-1",children:o.customerName||"عميل غير معروف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1309,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-slate-500 text-sm",children:new Date(o.createdAt).toLocaleTimeString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1310,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1308,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex gap-2",children:e.jsxDEV("button",{onClick:()=>Ue(o.id),className:"px-4 py-2 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/20 transition-colors",children:"استرجاع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1313,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1312,columnNumber:41},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1307,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1300,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1290,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1289,columnNumber:17},void 0),J&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-slate-900 border border-white/10 rounded-3xl w-full max-w-lg shadow-2xl relative overflow-hidden flex flex-col max-h-[80vh] animate-in zoom-in-95 duration-200",children:[e.jsxDEV("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-slate-800/50",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsxDEV(re,{className:"w-5 h-5 text-indigo-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1335,columnNumber:33},void 0),"اختيار العميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1334,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-white",children:e.jsxDEV(B,{className:"w-6 h-6"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1339,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1338,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1333,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-4 border-b border-white/5",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(ge,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1346,columnNumber:33},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث بالاسم أو الهاتف...",autoFocus:!0,value:Y,onChange:o=>{I(o.target.value),pe(o.target.value)},className:"w-full bg-slate-800/50 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1347,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1345,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1344,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxDEV("button",{onClick:async()=>{const o=prompt("اسم العميل الجديد:");if(o&&o.trim())try{const n=await m.post("/partners",{name:o.trim(),type:"CUSTOMER",isCustomer:!0,isSupplier:!1});z(n),w(!1),I("")}catch{A({message:"حدث خطأ أثناء إضافة العميل",type:"error"}),setTimeout(()=>A(null),3e3)}},className:"w-full p-4 bg-indigo-500/10 hover:bg-indigo-500/20 border border-indigo-500/30 rounded-xl flex items-center gap-3 text-indigo-400 transition-colors group",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-full flex items-center justify-center group-hover:bg-indigo-500/30",children:e.jsxDEV(te,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1388,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1387,columnNumber:33},void 0),e.jsxDEV("span",{className:"font-medium",children:"إضافة عميل جديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1390,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1364,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{z(null),w(!1),I("")},className:"w-full p-4 bg-slate-800/30 hover:bg-slate-800/50 border border-white/5 rounded-xl flex items-center gap-3 text-slate-300 transition-colors",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-slate-700/50 rounded-full flex items-center justify-center",children:e.jsxDEV(re,{className:"w-5 h-5 text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1403,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1402,columnNumber:33},void 0),e.jsxDEV("span",{children:"عميل نقدي (بدون تسجيل)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1405,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1394,columnNumber:29},void 0),Pe.length===0&&Y?e.jsxDEV("div",{className:"text-center py-8 text-slate-500",children:e.jsxDEV("p",{children:['لا توجد نتائج لـ "',Y,'"']},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1411,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1410,columnNumber:33},void 0):Pe.map(o=>e.jsxDEV("button",{onClick:()=>{z(o),w(!1),I("")},className:"w-full p-4 bg-slate-800/30 hover:bg-slate-800/50 border border-white/5 hover:border-white/10 rounded-xl flex items-center gap-3 text-right transition-colors group",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:o.name?.charAt(0)||"ع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1424,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"text-white font-medium group-hover:text-indigo-300 transition-colors",children:o.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1428,columnNumber:45},void 0),o.phone&&e.jsxDEV("div",{className:"text-slate-500 text-sm",children:o.phone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1432,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1427,columnNumber:41},void 0),o.balance!==void 0&&o.balance!==0&&e.jsxDEV("div",{className:`text - sm font - medium ${o.balance>0?"text-red-400":"text-emerald-400"} `,children:[o.balance>0?"مدين":"دائن",": ",Math.abs(o.balance).toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1436,columnNumber:45},void 0)]},o.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1415,columnNumber:37},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1362,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1331,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1330,columnNumber:17},void 0),G&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-slate-900 border border-white/10 rounded-3xl w-full max-w-md shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-200",children:e.jsxDEV("div",{className:"p-8 text-center",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-emerald-500/20",children:e.jsxDEV(se,{className:"w-10 h-10 text-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1454,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1453,columnNumber:29},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-2",children:"بدء وردية جديدة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1456,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-400 mb-8",children:"أدخل المبلغ الافتتاحي في الدرج لبدء البيع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1457,columnNumber:29},void 0),e.jsxDEV("div",{className:"mb-8 text-right",children:[e.jsxDEV("label",{className:"block text-slate-300 text-sm mb-2",children:"النقدية الافتتاحية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1460,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:U,onChange:o=>K(Number(o.target.value)),className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-lg font-mono",autoFocus:!0},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1462,columnNumber:37},void 0),e.jsxDEV("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-sm",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1469,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1461,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1459,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{onClick:xe,disabled:b,className:"flex-1 py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[b?e.jsxDEV(O,{className:"animate-spin"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1479,columnNumber:53},void 0):e.jsxDEV(Se,{className:"w-4 h-4 fill-current"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1479,columnNumber:92},void 0),e.jsxDEV("span",{children:"بدء الوردية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1480,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1474,columnNumber:33},void 0),p&&e.jsxDEV("button",{onClick:p,className:"py-3 px-4 bg-slate-800 hover:bg-slate-700 text-slate-300 font-medium rounded-xl",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1483,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1473,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1452,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1451,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1450,columnNumber:17},void 0),e.jsxDEV("style",{children:`
                        .custom - scrollbar:: -webkit - scrollbar {
                        width: 6px;
                    }
                .custom - scrollbar:: -webkit - scrollbar - track {
    background: transparent;
}
                .custom - scrollbar:: -webkit - scrollbar - thumb {
    background: rgba(255, 255, 255, 0.1);
    border - radius: 20px;
}
                .custom - scrollbar:: -webkit - scrollbar - thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}
                .scrollbar - hide:: -webkit - scrollbar {
    display: none;
}
                .scrollbar - hide {
    -ms - overflow - style: none;
    scrollbar - width: none;
}
@media print {
    @page {
        size: 80mm auto;
        margin: 0;
    }
    body * {
        visibility: hidden;
    }
    #thermal - receipt, #thermal - receipt * {
        visibility: visible;
    }
    #thermal - receipt {
        position: absolute;
        left: 0;
        top: 0;
        width: 80mm;
        margin: 0;
        padding: 0;
        display: block!important;
        background: white;
    }
}
`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1498,columnNumber:13},void 0),e.jsxDEV("div",{id:"thermal-receipt",className:"hidden fixed inset-0 z-[9999] bg-white text-black font-mono text-[12px] leading-tight",dir:"rtl",children:c&&e.jsxDEV("div",{className:"w-[80mm] mx-auto p-2",children:[e.jsxDEV("div",{className:"text-center mb-4",children:[e.jsxDEV("h1",{className:"text-xl font-bold mb-1",children:"اسم المتجر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1548,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-xs",children:"عنوان المتجر، المدينة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1549,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-xs",children:"رقم ضريبي: 123456789"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1550,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1547,columnNumber:25},void 0),e.jsxDEV("div",{className:"mb-2 pb-2 border-b border-black border-dashed flex justify-between",children:e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{children:["التاريخ: ",c.date]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1554,columnNumber:33},void 0),e.jsxDEV("p",{children:["رقم: ",c.invoiceId]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1555,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1553,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1552,columnNumber:25},void 0),e.jsxDEV("table",{className:"w-full mb-4",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"border-b border-black",children:[e.jsxDEV("th",{className:"text-right py-1",children:"الصنف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1561,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-center py-1 w-8",children:"عدد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1562,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-left py-1 w-12",children:"سعر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1563,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-left py-1 w-12",children:"قيمة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1564,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1560,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1559,columnNumber:29},void 0),e.jsxDEV("tbody",{children:c.lines.map((o,n)=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"text-right py-1",children:o.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1570,columnNumber:41},void 0),e.jsxDEV("td",{className:"text-center py-1",children:o.qty},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1571,columnNumber:41},void 0),e.jsxDEV("td",{className:"text-left py-1",children:o.price},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1572,columnNumber:41},void 0),e.jsxDEV("td",{className:"text-left py-1 font-bold",children:o.total},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1573,columnNumber:41},void 0)]},n,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1569,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1567,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1558,columnNumber:25},void 0),e.jsxDEV("div",{className:"border-t border-black border-dashed pt-2 space-y-1",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"المجموع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1580,columnNumber:33},void 0),e.jsxDEV("span",{children:c.subtotal.toFixed(2)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1581,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1579,columnNumber:29},void 0),c.discount>0&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"خصم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1585,columnNumber:37},void 0),e.jsxDEV("span",{children:["-",c.discount.toFixed(2)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1586,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1584,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between text-lg font-bold border-t border-black pt-2 mt-1",children:[e.jsxDEV("span",{children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1590,columnNumber:33},void 0),e.jsxDEV("span",{children:c.total.toFixed(2)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1591,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1589,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between text-xs mt-1",children:[e.jsxDEV("span",{children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1594,columnNumber:33},void 0),e.jsxDEV("span",{children:c.paymentMethod},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1595,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1593,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1578,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-8 text-center text-xs",children:[e.jsxDEV("p",{children:"شكرًا لزيارتكم!"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1599,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-center mt-2",children:e.jsxDEV("div",{className:"h-8 w-48 bg-black/10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1602,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1600,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1598,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1546,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:1544,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSScreen.tsx",lineNumber:770,columnNumber:9},void 0)},No=()=>e.jsxDEV(io,{},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/POS.tsx",lineNumber:11,columnNumber:12},void 0);export{No as POS,No as default};
