import{d as k,b as w,e as H,E as q,G as M,J as O,m as U,z as W,h as L,i as _,n as z,T as c,j as t}from"./index-BIcNJgNM.js";import{r as G}from"./react-vendor-CJgqbvH4.js";import{P as J,a as K,b as Q,D as Z}from"./DiscountManager-DLWfF9g1.js";import{C as $,P as X}from"./CustomerAgingReport-CqkDzYU2.js";import{U as N,aZ as Y,ah as ee,K as se,a as te,W as ae}from"./ui-vendor-DNgltnAO.js";import"./utils-vendor-5vCYNseS.js";import"./query-vendor-GtDMnHGN.js";import"./socket-vendor-TjCxX7sJ.js";import"./SearchableSelect-Dk8tGyUS.js";import"./DatePicker-DXk577ye.js";import"./InvoiceForm-Bqe3KC8h.js";import"./Modal-CNmRR20h.js";import"./BarcodeManager-BY0_w7yt.js";const ge=({viewType:b,onSaveTransaction:x,onDeleteInvoice:l,setPartners:ne,onUpdateProducts:D,onNavigate:m})=>{const[a,r]=b.split("|"),S=a!=="cust-prices",V=["cust-payments","cust-statement","cust-aging","cust-discount"].includes(a),{data:T}=k({isCustomer:!0,limit:1e3,enabled:S}),{data:h}=w({limit:2e3,enabled:V,minimal:a!=="cust-statement"&&a!=="cust-payments"}),{data:d}=H(),{data:p}=q(),{data:f}=M(),{data:o}=O(),{data:C}=U(),{data:y}=W(),{data:I}=L(),{data:B}=_(),{invalidatePartners:P,invalidateInvoices:E,invalidateProducts:j}=z(),A=T?.partners||[],n=h?.invoices||[],g=Array.isArray(o)?o:o?.cheques||[],i=A.filter(s=>s.isCustomer!==void 0?s.isCustomer:s.type==="CUSTOMER"),e=G.useMemo(()=>{switch(a){case"cust-payments":return{title:"مقبوضات العملاء",icon:ae,isPayment:!0,transType:c.RECEIPT,invoiceType:c.INVOICE_SALE,isReceipt:!0};case"cust-statement":return{title:"كشف حساب عميل",icon:te,isStatement:!0};case"cust-balances":return{title:"إجمالي حسابات العملاء",icon:N,isBalances:!0};case"cust-aging":return{title:"أعمار الديون",icon:se,isAging:!0};case"cust-prices":return{title:"قوائم الأسعار",icon:ee,isPrices:!0};case"cust-discount":return{title:"خصم مسموح به (إشعار مدين)",icon:Y,isDiscount:!0,transType:c.DISCOUNT_ALLOWED};default:return{title:"إدارة العملاء",icon:N}}},[a]),u=(s,R,F)=>{x(s,R,F),setTimeout(()=>{E(),P(),R&&j()},500)},v=s=>{l&&(l(s),setTimeout(()=>{E(),P()},500))};return e.isPayment?t.jsxDEV(J,{partners:i,transactions:n,accounts:p||[],banks:f||[],cheques:g||[],onSaveTransaction:u,onDeleteInvoice:v,isSupplier:!1,config:e,initialTransactionId:r,systemConfig:C},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:107,columnNumber:16},void 0):e.isStatement?t.jsxDEV(K,{partners:i,transactions:n,isSupplier:!1,products:d||[],accounts:p||[],banks:f||[],cheques:g||[],warehouses:I||[],systemConfig:C,onSaveTransaction:u,onDeleteInvoice:v,initialPartnerId:r,onNavigate:m},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:123,columnNumber:16},void 0):e.isBalances?t.jsxDEV(Q,{isSupplier:!1,onViewStatement:s=>m?.(`cust-statement|${s}`),title:e.title,showAddButton:!1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:141,columnNumber:16},void 0):e.isAging?t.jsxDEV($,{partners:i,invoices:n},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:150,columnNumber:16},void 0):e.isDiscount?t.jsxDEV(Z,{partners:i,transactions:n,onSaveTransaction:u,isSupplier:!1,config:e,initialTransactionId:r},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:157,columnNumber:16},void 0):e.isPrices?t.jsxDEV(X,{products:d||[],categories:y||[],productStocks:B||[],onUpdateProducts:D},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:168,columnNumber:16},void 0):t.jsxDEV("div",{className:"p-8 text-center text-slate-400",children:"Customer View Not Found"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/CustomersV2.tsx",lineNumber:176,columnNumber:12},void 0)};export{ge as CustomersV2};
