import{d as y,b as I,e as A,D as B,F,H as j,m as H,h as w,n as k,T as l,j as t}from"./index-2AF0VSfh.js";import{r as q}from"./react-vendor-CJgqbvH4.js";import{P as U,a as M,b as W,D as O}from"./DiscountManager-CJGPVQGG.js";import{S as _}from"./SupplierAgingReport-Bwlx41e2.js";import{T as K,aZ as L,K as Q,U as Y,a as Z,W as $}from"./ui-vendor-DNgltnAO.js";import"./utils-vendor-5vCYNseS.js";import"./query-vendor-GtDMnHGN.js";import"./socket-vendor-TjCxX7sJ.js";import"./SearchableSelect-Cv3sOJ4i.js";import"./DatePicker-Di8gzfVd.js";import"./InvoiceForm-CwmMg3oW.js";import"./Modal-BBl0NUsU.js";import"./BarcodeManager-BGIv5Jc0.js";const ce=({viewType:N,onSaveTransaction:R,onDeleteInvoice:c,setPartners:z,onNavigate:p})=>{const[a,r]=N.split("|"),{data:D}=y({isSupplier:!0,limit:1e3}),{data:b}=I({limit:5e3,minimal:a!=="sup-statement"&&a!=="sup-payments"}),{data:x}=A(),{data:m}=B(),{data:d}=F(),{data:o}=j(),{data:P}=H(),{data:T}=w(),{invalidatePartners:f,invalidateInvoices:E,invalidateProducts:g}=k(),V=D?.partners||[],i=b?.invoices||[],S=Array.isArray(o)?o:o?.cheques||[],n=V.filter(e=>e.isSupplier!==void 0?e.isSupplier:e.type==="SUPPLIER"),s=q.useMemo(()=>{switch(a){case"sup-payments":return{title:"سداد للموردين",icon:$,isPayment:!0,transType:l.PAYMENT,invoiceType:l.INVOICE_PURCHASE};case"sup-statement":return{title:"كشف حساب مورد",icon:Z,isStatement:!0};case"sup-balances":return{title:"إجمالي حسابات الموردين",icon:Y,isBalances:!0};case"sup-aging":return{title:"أعمار الديون",icon:Q,isAging:!0};case"sup-discount":return{title:"خصم مكتسب (إشعار دائن)",icon:L,isDiscount:!0,transType:l.DISCOUNT_EARNED};default:return{title:"إدارة الموردين",icon:K}}},[a]),u=(e,v,h)=>{R(e,v,h),setTimeout(()=>{E(),f(),v&&g()},500)},C=e=>{c&&(c(e),setTimeout(()=>{E(),f()},500))};return s.isPayment?t.jsxDEV(U,{partners:n,transactions:i,accounts:m||[],banks:d||[],cheques:S||[],onSaveTransaction:u,onDeleteInvoice:C,isSupplier:!0,config:s,initialTransactionId:r,systemConfig:P},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:96,columnNumber:16},void 0):s.isStatement?t.jsxDEV(M,{partners:n,transactions:i,isSupplier:!0,products:x||[],accounts:m||[],banks:d||[],cheques:S||[],warehouses:T||[],systemConfig:P,onSaveTransaction:u,onDeleteInvoice:C,initialPartnerId:r,onNavigate:p},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:112,columnNumber:16},void 0):s.isBalances?t.jsxDEV(W,{isSupplier:!0,onViewStatement:e=>p?.(`sup-statement|${e}`),title:s.title,showAddButton:!1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:130,columnNumber:16},void 0):s.isAging?t.jsxDEV(_,{partners:n,invoices:i},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:139,columnNumber:16},void 0):s.isDiscount?t.jsxDEV(O,{partners:n,transactions:i,onSaveTransaction:u,isSupplier:!0,config:s,initialTransactionId:r},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:146,columnNumber:16},void 0):t.jsxDEV("div",{className:"p-8 text-center text-slate-400",children:"Supplier View Not Found"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/pages/SuppliersV2.tsx",lineNumber:156,columnNumber:12},void 0)};export{ce as SuppliersV2};
