const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BIcNJgNM.js","assets/react-vendor-CJgqbvH4.js","assets/utils-vendor-5vCYNseS.js","assets/ui-vendor-DNgltnAO.js","assets/query-vendor-GtDMnHGN.js","assets/socket-vendor-TjCxX7sJ.js"])))=>i.map(i=>d[i]);
import{p as Et,T as o,I as Me,j as e,s as ft,a as Pt,v as at,c as Fe,B as ze,d as yt}from"./index-BIcNJgNM.js";import{r as m}from"./react-vendor-CJgqbvH4.js";import{_ as Je,x as De}from"./utils-vendor-5vCYNseS.js";import{S as Le}from"./SearchableSelect-Dk8tGyUS.js";import{D as $e}from"./DatePicker-DXk577ye.js";import{I as wt}from"./InvoiceForm-Bqe3KC8h.js";import{A as st,C as bt}from"./Modal-CNmRR20h.js";import{W as ot,aN as Ke,ba as jt,aa as Bt,L as dt,o as Xe,aT as Ue,ae as qe,X as Ze,a9 as rt,N as et,h as tt,aZ as Nt,q as xt,j as pt,bb as Ht,a7 as Ct,E as Ft,a as Ye,b0 as Vt,m as St,P as kt,bc as It,aA as Mt,t as Rt,s as ht,p as Tt,z as At,ac as Lt,ai as $t,b2 as it,ax as lt,a6 as nt,U as Ot,a2 as mt,Q as ut,n as ct,a1 as _t,b8 as zt,aY as Ut}from"./ui-vendor-DNgltnAO.js";const qt=({partners:N,transactions:h,accounts:v,banks:H,cheques:re,onSaveTransaction:xe,onDeleteInvoice:K,isSupplier:D,config:F,initialTransactionId:Z,systemConfig:I})=>{const[k,z]=m.useState(""),[g,de]=m.useState(null),[C,J]=m.useState("CASH"),[V,$]=m.useState(""),[G,Y]=m.useState(0),[P,ne]=m.useState(0),[T,pe]=m.useState(0),[Q,ie]=m.useState(""),[ee,oe]=m.useState(Et()),[A,d]=m.useState([]),[w,R]=m.useState(""),[p,y]=m.useState(""),[j,le]=m.useState(""),[b,O]=m.useState(""),[U,L]=m.useState("NEW"),[Be,ue]=m.useState(""),[te,se]=m.useState(!1),[Ce,Re]=m.useState(1),[t,a]=m.useState(0),[n,s]=m.useState([]),[u,x]=m.useState({}),[i,c]=m.useState(null),[l,f]=m.useState(""),[_,ce]=m.useState({isOpen:!1,message:"",type:"info"}),[Ee,he]=m.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[fe,ye]=m.useState(!1),[ve,Ve]=m.useState(!0),me=(r,E="error")=>{ce({isOpen:!0,message:r,type:E})},q=D?{gradient:"from-amber-500 via-orange-500 to-red-500",focus:"focus:ring-amber-400/50 focus:border-amber-500",iconBg:"bg-gradient-to-br from-amber-100 to-orange-100 text-amber-700",glass:"bg-white/80 backdrop-blur-xl border border-white/60 shadow-2xl"}:{gradient:"from-blue-500 via-indigo-500 to-violet-500",focus:"focus:ring-blue-400/50 focus:border-blue-500",iconBg:"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-700",glass:"bg-white/80 backdrop-blur-xl border border-white/60 shadow-2xl"},Te=F.isReceipt;m.useEffect(()=>{(async()=>{if(Z&&h.length>0){const E=h.find(B=>B.id===Z);if(E){z(E.partnerId);try{const B=await Pt.getInvoice(Z);Ae(B)}catch{Ae(E)}}}else if(!g){const E=h.filter(B=>B.type===F.transType).map(B=>B.id);f(at(E,F.isReceipt?"REC-":"PAY-"))}})()},[Z,h.length>0,F.transType,g]);const W=N.find(r=>r.id===k),Pe=m.useMemo(()=>{const r=D?[o.INVOICE_PURCHASE,o.RETURN_PURCHASE,o.PAYMENT,o.DISCOUNT_EARNED]:[o.INVOICE_SALE,o.RETURN_SALE,o.RECEIPT,o.DISCOUNT_ALLOWED];return N.map(E=>{const B=h.filter(S=>S.partnerId===E.id&&S.status==="POSTED"&&r.includes(S.type));let X=parseFloat(String(E.openingBalance||0));for(const S of B){const M=S.total,je=S.whtAmount||0,Ie=M-je;switch(S.type){case o.INVOICE_SALE:X+=Ie;break;case o.RETURN_SALE:X-=M;break;case o.RECEIPT:X-=M;break;case o.DISCOUNT_ALLOWED:X-=M;break;case o.INVOICE_PURCHASE:X-=M;break;case o.RETURN_PURCHASE:X+=M;break;case o.PAYMENT:X+=M;break;case o.DISCOUNT_EARNED:X+=M;break}}return{...E,calculatedBalance:Math.round(X*100)/100}})},[N,h,D]),ae=m.useMemo(()=>Pe.find(E=>E.id===k)?.calculatedBalance||0,[Pe,k]),be=m.useMemo(()=>{const r=new Map;if(!k)return r;const E=F.invoiceType,B=new Map(h.filter(S=>S.type===E&&S.partnerId===k).map(S=>[S.id,S.total]));return h.filter(S=>S.partnerId===k&&S.type===F.transType&&S.status===Me.POSTED&&S.id!==g).forEach(S=>{let M=S.total;S.relatedInvoiceIds&&S.relatedInvoiceIds.length>0&&S.relatedInvoiceIds.forEach(je=>{if(M<=.01)return;const Ie=B.get(je)||0,Oe=r.get(je)||0,He=Math.max(0,Ie-Oe),Ne=Math.min(M,He);r.set(je,Oe+Ne),M-=Ne})}),r},[h,k,F.transType,F.invoiceType,g]),Se=m.useMemo(()=>{if(!k)return[];const r=F.invoiceType;return h.filter(E=>E.partnerId===k&&E.type===r&&E.status===Me.POSTED).map(E=>{const B=be.get(E.id)||0,X=E.total-B;return{...E,paidAmount:B,remainingAmount:X}}).filter(E=>E.remainingAmount>.01).sort((E,B)=>new Date(E.date).getTime()-new Date(B.date).getTime())},[k,h,F.invoiceType,be]),ge=m.useMemo(()=>!re||!D?[]:re.filter(r=>r.type==="RECEIVABLE"&&r.status==="PENDING"),[re,D]);m.useEffect(()=>{const r=A.reduce((E,B)=>E+B.amount,0);pe(r),C==="CHEQUE"?Y(r):C==="MIXED"&&Y(Number(P)+r)},[A,C,P]),m.useMemo(()=>k?h.filter(r=>r.partnerId===k&&r.type===F.transType).sort((r,E)=>new Date(E.date).getTime()-new Date(r.date).getTime()).slice(0,10):[],[k,h,F.transType]);const Qe=m.useMemo(()=>C==="MIXED"?Number(P||0)+Number(T||0):Number(C==="CHEQUE"?T||0:G||0),[C,P,T,G]),we=(r=!0)=>{de(null),Y(0),ne(0),pe(0),d([]),R(""),y(""),le(""),O(""),ie(""),$(""),L("NEW"),ue(""),se(!1),a(0),s([]),x({}),c(null),ye(!1),r||z("");const E=h.filter(B=>B.type===F.transType).map(B=>B.id);f(at(E,F.isReceipt?"REC-":"PAY-"))},Ae=r=>{de(r.id),oe(r.date.split("T")[0]),ie(r.notes||"");const E=r.paymentMethod===Fe.MIXED?"MIXED":r.paymentMethod===Fe.CHEQUE?"CHEQUE":r.paymentMethod===Fe.BANK?"BANK":"CASH";J(E),E==="MIXED"&&r.paymentBreakdown?(ne(r.paymentBreakdown.cash||0),r.paymentBreakdown.cheque&&pe(r.paymentBreakdown.cheque)):Y(r.total),r.whtAmount&&r.whtAmount>0?(se(!0),a(r.whtAmount),Re(Math.round(r.whtAmount/r.total*100)||1)):(se(!1),a(0)),r.transactionCheques&&r.transactionCheques.length>0?d(r.transactionCheques):r.chequeNumber?d([{number:r.chequeNumber,bankName:r.bankName||"",amount:r.paymentBreakdown?.cheque||r.total,dueDate:r.dueDate||"",type:r.chequeEntryMode==="ENDORSE"?"ENDORSE":"NEW",chequeId:r.chequeId,bankAccountId:r.bankAccountId}]):d([]),r.relatedInvoiceIds&&r.relatedInvoiceIds.length>0&&s(r.relatedInvoiceIds);let B=!1;if(r.bankAccountId){const X=H.find(S=>S.accountId===r.bankAccountId);X&&($(X.id),B=!0)}if(!B&&(r.bankName||r.sourceBankName)){const X=H.find(S=>S.name===r.bankName||S.name===r.sourceBankName);X&&$(X.id)}c(null)},ke=()=>{if(U==="ENDORSE"&&D){if(!Be)return me("الرجاء اختيار شيك","warning");const r=ge.find(E=>E.id===Be);if(!r)return;if(A.some(E=>E.chequeId===r.id))return me("هذا الشيك مضاف بالفعل","warning");d([...A,{number:r.number,bankName:r.bankName,amount:r.amount,dueDate:r.dueDate,type:"ENDORSE",chequeId:r.id}]),ue("")}else{if(!w||!j||!b)return me("الرجاء إدخال جميع بيانات الشيك","warning");let r;const E=H.find(B=>B.id===V);if(E)r=E.accountId;else if(!p)return me(Te?"الرجاء إدخال اسم البنك":"الرجاء اختيار البنك المسحوب عليه الشيك","warning");d([...A,{number:w,bankName:E?.name||p,amount:Number(j),dueDate:b,type:"NEW",bankAccountId:r}]),R(""),V||y(""),le(""),O("")}},vt=r=>{const E=[...A];E.splice(r,1),d(E)};m.useEffect(()=>{Z||we(!0)},[k]);const We=r=>{J(r),g||(D&&r==="CHEQUE"&&L("NEW"),$(""),d([]),se(!1))};m.useEffect(()=>{A.some(r=>r.type==="ENDORSE")&&(se(!1),a(0))},[A]),m.useEffect(()=>{let r=C==="MIXED"?Number(P)+Number(T):Number(G);te&&r>0?a(Math.round(r*(Ce/100))):te||a(0)},[G,P,T,C,te,Ce]);const gt=()=>{if(!k)return me("الرجاء اختيار الشريك","warning");let r=0;if(C==="MIXED"?r=Number(P)+Number(T):C==="CHEQUE"?r=Number(T):r=Number(G),r===0)return me("الرجاء إدخال المبالغ","warning");if((C==="CHEQUE"||C==="MIXED")&&T>0&&A.length===0)return me("الرجاء إضافة الشيكات للقائمة","warning");if(C==="BANK"){if(!V)return me("الرجاء اختيار البنك","warning");if(!H.find(Ne=>Ne.id===V)?.accountId)return me("الحساب البنكي المختار غير مرتبط بحساب محاسبي (GL Account). يرجى تعديل بيانات البنك.","error")}const E=H.find(He=>He.id===V);let B=[...n],X="";B.length===0&&r>0&&Se.length>0;let S=Q||"دفعة من الحساب";B.length>0&&(S=`سداد فواتير: ${B.map(Ne=>{const _e=h.find(Ge=>Ge.id===Ne);return _e?_e.id:Ne}).join(", ")} - ${S}${X}`);const M={id:g||l,date:ee,partnerId:k,partnerName:W?.name,type:F.transType,lines:[],total:r,status:Me.POSTED,paymentMethod:C==="CHEQUE"?Fe.CHEQUE:C==="BANK"?Fe.BANK:C==="MIXED"?Fe.MIXED:Fe.CASH,paymentBreakdown:C==="MIXED"?{cash:P,cheque:T,bank:0}:void 0,notes:S,bankAccountId:E?.accountId,whtAmount:te?t:0,transactionCheques:A,relatedInvoiceIds:B,bankName:E?.name};(async()=>{try{const{Capacitor:He}=await Je(async()=>{const{Capacitor:Ne}=await import("./index-BIcNJgNM.js").then(_e=>_e.a0);return{Capacitor:Ne}},__vite__mapDeps([0,1,2,3,4,5]));if(He.isNativePlatform()){const{unifiedStorage:Ne}=await Je(async()=>{const{unifiedStorage:Ge}=await import("./index-BIcNJgNM.js").then(Dt=>Dt.a1);return{unifiedStorage:Ge}},__vite__mapDeps([0,1,2,3,4,5]));await Ne.isOnline()?xe(M,void 0,u):(await Ne.createPayment({type:F.isReceipt?"RECEIPT":"PAYMENT",partnerId:M.partnerId,partnerName:M.partnerName,amount:M.total,date:M.date,method:M.paymentMethod,reference:M.id,notes:M.notes})).success&&me("تم حفظ الدفعة محلياً وسيتم مزامنتها عند الاتصال بالإنترنت","success")}else xe(M,void 0,u)}catch{xe(M,void 0,u)}})();let je=0,Ie=0,Oe=0;M.paymentMethod==="CASH"?je=r:M.paymentMethod==="CHEQUE"?Ie=r:M.paymentMethod==="BANK"?Oe=r:M.paymentMethod==="MIXED"&&(je=P,Ie=T),c({...M,id:g||l,amountText:r.toLocaleString(),partner:W,printDetails:{cash:je,cheque:Ie,bank:Oe,wht:te?t:0,net:r-(te?t:0)}}),ye(!0)};return e.jsxDEV("div",{className:"flex flex-col h-full gap-6",children:[e.jsxDEV("div",{className:`h-2 rounded-full ${D?"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500":"bg-gradient-to-r from-blue-500 via-indigo-500 to-violet-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:739,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden",children:e.jsxDEV("div",{className:"flex-1 flex flex-col gap-4 sm:gap-8 overflow-y-auto pr-2 pb-10 no-scrollbar",children:e.jsxDEV("div",{className:`p-4 sm:p-8 rounded-2xl sm:rounded-[2.5rem] relative overflow-hidden transition-all ${q.glass}`,children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(45deg, #000 0, #000 1px, transparent 0, transparent 50%)",backgroundSize:"20px 20px"}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:746,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-6 sm:mb-10 relative z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-3 sm:gap-5",children:[e.jsxDEV("div",{className:`p-3 sm:p-5 rounded-xl sm:rounded-2xl ${q.iconBg} shadow-xl shadow-black/5 transform rotate-3 transition-transform hover:rotate-6`,children:e.jsxDEV(ot,{size:24,className:"sm:w-9 sm:h-9",strokeWidth:1.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:757,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:756,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl sm:text-3xl font-black text-slate-900 leading-tight tracking-tight drop-shadow-sm",children:F.title},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:760,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-2 flex-wrap",children:[e.jsxDEV("div",{className:"text-[10px] sm:text-xs font-black text-slate-500 bg-slate-100/80 px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg backdrop-blur-sm border border-slate-200/50 shadow-sm",children:g?`#${g}`:`#${l}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:762,columnNumber:41},void 0),g&&e.jsxDEV("div",{className:"bg-indigo-500 text-white px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-[10px] sm:text-xs font-bold flex items-center gap-1 sm:gap-1.5 shadow-lg shadow-indigo-500/30 animate-pulse",children:[e.jsxDEV(Ke,{size:12,className:"sm:w-[14px] sm:h-[14px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:767,columnNumber:49},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"وضع التعديل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:768,columnNumber:49},void 0),e.jsxDEV("span",{className:"sm:hidden",children:"تعديل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:769,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:766,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:761,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:759,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:755,columnNumber:29},void 0),(g||k)&&e.jsxDEV("button",{onClick:()=>we(!1),className:"p-2 sm:px-6 sm:py-3 bg-white hover:bg-slate-50 text-slate-700 font-black rounded-xl sm:rounded-2xl text-sm flex items-center gap-2.5 transition-all border border-slate-200 shadow-sm hover:shadow-lg hover:-translate-y-0.5",children:[e.jsxDEV(jt,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:780,columnNumber:37},void 0)," ",e.jsxDEV("span",{className:"hidden sm:inline",children:"عملية جديدة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:780,columnNumber:62},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:776,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:754,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-7 space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:["اختر ",D?"المورد":"العميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:793,columnNumber:41},void 0),e.jsxDEV("div",{className:"relative group",children:e.jsxDEV(Le,{options:Pe.map(r=>({id:r.id,label:r.name,subLabel:`رصيد: ${(r.calculatedBalance||0).toLocaleString()}`})),value:k,onChange:z,placeholder:`بحث عن ${D?"مورد":"عميل"}...`,className:`[&>div]:!bg-white/60 [&>div]:!backdrop-blur-sm [&>div]:!border-slate-300/80 [&>div]:!h-[56px] [&>div]:!rounded-xl [&>div]:shadow-sm hover:[&>div]:shadow-md transition-all [&>div]:!text-base [&>div]:!font-bold ${q.focus}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:797,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:796,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:792,columnNumber:37},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:808,columnNumber:41},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 p-1.5 bg-slate-100/50 rounded-xl border border-slate-200/60 backdrop-blur-sm",children:[e.jsxDEV("button",{onClick:()=>We("CASH"),className:`flex-1 py-3 sm:py-3.5 px-3 rounded-xl text-xs sm:text-sm font-black flex items-center justify-center gap-2 transition-all ${C==="CASH"?"bg-white shadow-lg text-teal-700 ring-1 ring-black/5 scale-[1.02]":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:[e.jsxDEV(Bt,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:811,columnNumber:49},void 0),e.jsxDEV("span",{children:"نقدي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:812,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:810,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>We("BANK"),className:`flex-1 py-3 sm:py-3.5 px-3 rounded-xl text-xs sm:text-sm font-black flex items-center justify-center gap-2 transition-all ${C==="BANK"?"bg-white shadow-lg text-blue-700 ring-1 ring-black/5 scale-[1.02]":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:[e.jsxDEV(dt,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:815,columnNumber:49},void 0),e.jsxDEV("span",{children:"تحويل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:816,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:814,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>We("CHEQUE"),className:`flex-1 py-3 sm:py-3.5 px-3 rounded-xl text-xs sm:text-sm font-black flex items-center justify-center gap-2 transition-all ${C==="CHEQUE"?"bg-white shadow-lg text-indigo-700 ring-1 ring-black/5 scale-[1.02]":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:[e.jsxDEV(Xe,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:819,columnNumber:49},void 0),e.jsxDEV("span",{children:"شيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:820,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:818,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>We("MIXED"),className:`flex-1 py-3 sm:py-3.5 px-3 rounded-xl text-xs sm:text-sm font-black flex items-center justify-center gap-2 transition-all ${C==="MIXED"?"bg-white shadow-lg text-violet-700 ring-1 ring-black/5 scale-[1.02]":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:[e.jsxDEV(Ue,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:823,columnNumber:49},void 0),e.jsxDEV("span",{children:"متعدد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:824,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:822,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:809,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:807,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:789,columnNumber:33},void 0),C==="BANK"&&e.jsxDEV("div",{className:"animate-fade-in",children:e.jsxDEV(Le,{label:Te?"إلى حساب (البنك المستلم)":"من حساب (البنك المحول منه)",options:H.map(r=>({id:r.id,label:r.name,subLabel:r.accountNumber})),value:V,onChange:r=>{$(r),r&&y(H.find(E=>E.id===r)?.name||"")},placeholder:"-- اختر البنك --",className:"[&>div]:!bg-white/60 [&>div]:!backdrop-blur-sm [&>div]:!border-slate-300/80 [&>div]:!h-[52px] [&>div]:!rounded-xl [&>div]:shadow-sm hover:[&>div]:shadow-md transition-all"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:833,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:832,columnNumber:37},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.jsxDEV("div",{className:"md:col-span-2",children:C==="MIXED"?e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"مبلغ نقدي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:851,columnNumber:53},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("input",{type:"number",value:P||"",onChange:r=>{const E=r.target.value;if(E===""||E==="-")return;const B=parseFloat(E);isNaN(B)||ne(B)},className:`w-full border border-slate-300/80 bg-white/50 rounded-xl p-4 text-xl font-black text-emerald-700 outline-none transition-all shadow-sm group-hover:shadow-md backdrop-blur-sm ${q.focus}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:853,columnNumber:57},void 0),e.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-black text-xs",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:854,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:852,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:850,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"مبلغ شيكات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:858,columnNumber:53},void 0),e.jsxDEV("div",{className:"w-full bg-slate-50/50 border border-slate-300/80 rounded-xl p-4 text-xl font-black text-indigo-700 flex items-center gap-3 shadow-sm backdrop-blur-sm",children:[e.jsxDEV(Xe,{size:24,className:"text-indigo-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:860,columnNumber:57},void 0),Number(T||0).toLocaleString(),e.jsxDEV("span",{className:"text-xs text-slate-400 font-black mr-auto",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:862,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:859,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:857,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:849,columnNumber:45},void 0):C!=="CHEQUE"?e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"المبلغ الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:869,columnNumber:53},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("input",{type:"number",value:G||"",onChange:r=>{const E=r.target.value;if(E===""||E==="-")return;const B=parseFloat(E);isNaN(B)||Y(B)},className:`w-full border border-slate-300/80 bg-white/50 rounded-xl p-4 text-2xl font-black text-slate-900 outline-none transition-all shadow-sm group-hover:shadow-md backdrop-blur-sm ${q.focus}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:871,columnNumber:57},void 0),e.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-black text-xs",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:872,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:870,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:868,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:876,columnNumber:53},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 z-10",children:e.jsxDEV(qe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:879,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:878,columnNumber:57},void 0),e.jsxDEV("div",{className:`[&>input]:w-full [&>input]:border [&>input]:border-slate-300/80 [&>input]:bg-white/50 [&>input]:rounded-xl [&>input]:p-4 [&>input]:pl-12 [&>input]:text-lg [&>input]:font-bold [&>input]:text-slate-800 [&>input]:outline-none [&>input]:transition-all [&>input]:shadow-sm [&>input]:group-hover:shadow-md [&>input]:backdrop-blur-sm ${q.focus.replace("focus:","[&>input]:focus:")}`,children:e.jsxDEV($e,{value:ee,onChange:oe},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:882,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:881,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:877,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:875,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:867,columnNumber:45},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"bg-gradient-to-br from-indigo-50/80 to-white/80 p-4 rounded-xl border border-indigo-100 flex flex-col justify-center shadow-sm backdrop-blur-sm",children:[e.jsxDEV("span",{className:"text-xs font-black text-indigo-700 flex items-center gap-2 mb-1",children:[e.jsxDEV(Ue,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:890,columnNumber:135},void 0)," إجمالي الشيكات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:890,columnNumber:53},void 0),e.jsxDEV("span",{className:"text-2xl font-black text-indigo-700",children:[Number(T||0).toLocaleString()," ",e.jsxDEV("span",{className:"text-xs font-bold text-indigo-400",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:891,columnNumber:152},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:891,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:889,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:894,columnNumber:53},void 0),e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 z-10",children:e.jsxDEV(qe,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:897,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:896,columnNumber:57},void 0),e.jsxDEV("div",{className:`[&>input]:w-full [&>input]:border [&>input]:border-slate-300/80 [&>input]:bg-white/50 [&>input]:rounded-xl [&>input]:p-4 [&>input]:pl-12 [&>input]:text-lg [&>input]:font-bold [&>input]:text-slate-800 [&>input]:outline-none [&>input]:transition-all [&>input]:shadow-sm [&>input]:group-hover:shadow-md [&>input]:backdrop-blur-sm ${q.focus.replace("focus:","[&>input]:focus:")}`,children:e.jsxDEV($e,{value:ee,onChange:oe},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:900,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:899,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:895,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:893,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:888,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:847,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:845,columnNumber:33},void 0),(C==="CHEQUE"||C==="MIXED")&&e.jsxDEV("div",{className:"mt-3 sm:mt-4 animate-fade-in",children:e.jsxDEV("div",{className:"bg-white/60 backdrop-blur-xl rounded-xl sm:rounded-2xl border border-white/60 shadow-lg overflow-hidden ring-1 ring-white/50",children:[e.jsxDEV("div",{className:"bg-slate-900 text-white p-3 sm:p-4 flex flex-col sm:flex-row-reverse gap-2 sm:gap-0 sm:justify-between items-start sm:items-center shadow-md",children:[e.jsxDEV("div",{className:"text-xs sm:text-sm font-black flex items-center gap-2",children:[e.jsxDEV(Xe,{size:16,className:"sm:w-5 sm:h-5 text-indigo-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:916,columnNumber:53},void 0),"إدارة الشيكات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:915,columnNumber:49},void 0),D&&e.jsxDEV("div",{className:"flex bg-slate-800 rounded-lg p-0.5 sm:p-1 shadow-inner border border-slate-700 w-full sm:w-auto",children:[e.jsxDEV("button",{onClick:()=>L("NEW"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-1.5 text-[10px] sm:text-xs font-black rounded-md transition-all ${U==="NEW"?"bg-indigo-500 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:"إصدار جديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:921,columnNumber:57},void 0),e.jsxDEV("button",{onClick:()=>L("ENDORSE"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-1.5 text-[10px] sm:text-xs font-black rounded-md transition-all ${U==="ENDORSE"?"bg-amber-500 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:"تظهير شيك"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:922,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:920,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:914,columnNumber:45},void 0),e.jsxDEV("div",{className:"p-3 sm:p-5",children:[e.jsxDEV("div",{className:"bg-white/50 p-3 sm:p-4 rounded-xl border border-slate-200/60 mb-3 sm:mb-4 shadow-sm backdrop-blur-sm",children:U==="ENDORSE"&&D?e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(Le,{options:ge.map(r=>({id:r.id,label:`#${r.number} - ${r.amount.toLocaleString()} ج.م`,subLabel:`${r.bankName} - ${r.dueDate?new Date(r.dueDate).toLocaleDateString("ar-EG"):""}`})),value:Be,onChange:ue,placeholder:"اختر شيك للتظهير",className:"[&>div]:!bg-white/80 [&>div]:!backdrop-blur-sm [&>div]:!border-slate-300/80 [&>div]:!h-[44px] sm:[&>div]:!h-[48px] [&>div]:!rounded-xl [&>div]:shadow-sm hover:[&>div]:shadow-md transition-all [&>div]:!font-bold [&>div]:!text-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:933,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:932,columnNumber:61},void 0),e.jsxDEV("button",{onClick:ke,className:"w-full sm:w-auto bg-gradient-to-r from-amber-600 to-orange-600 text-white px-4 sm:px-6 py-2.5 sm:py-0 rounded-xl font-black text-sm hover:from-amber-700 hover:to-orange-700 shadow-lg shadow-amber-500/30 transition-all hover:-translate-y-0.5",children:"إضافة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:939,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:931,columnNumber:57},void 0):e.jsxDEV("div",{className:"space-y-3",children:[V?e.jsxDEV("div",{className:"bg-indigo-50/80 border border-indigo-200 rounded-xl p-3 flex items-center justify-between animate-fade-in shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"p-1.5 bg-indigo-100 rounded-lg text-indigo-600",children:e.jsxDEV(dt,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:962,columnNumber:77},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:961,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-sm font-black text-indigo-900",children:p},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:964,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:960,columnNumber:69},void 0),e.jsxDEV("button",{onClick:()=>{$(""),y("")},className:"text-indigo-400 hover:text-indigo-600 p-1.5 hover:bg-indigo-100 rounded-lg transition-colors",title:"تغيير البنك",children:e.jsxDEV(Ze,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:974,columnNumber:73},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:966,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:959,columnNumber:65},void 0):e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("label",{className:"block text-xs font-black text-slate-600",children:"دفتر الشيكات (مسحوب على بنك)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:946,columnNumber:69},void 0),e.jsxDEV(Le,{options:H.map(r=>({id:r.id,label:r.name,subLabel:r.accountNumber})),value:V,onChange:r=>{$(r),r&&y(H.find(E=>E.id===r)?.name||"")},placeholder:"-- اختر البنك --",className:"[&>div]:!bg-white/80 [&>div]:!backdrop-blur-sm [&>div]:!border-slate-300/80 [&>div]:!h-[48px] [&>div]:!rounded-xl [&>div]:shadow-sm hover:[&>div]:shadow-md transition-all [&>div]:!font-bold"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:947,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:945,columnNumber:65},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxDEV("input",{type:"text",placeholder:"رقم الشيك #",value:w,onChange:r=>R(r.target.value),className:"border border-slate-300/80 bg-white/60 rounded-xl p-3 sm:p-3 text-base sm:text-sm outline-none focus:border-indigo-400 font-mono font-bold focus:ring-4 focus:ring-indigo-100 transition-all shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:981,columnNumber:65},void 0),e.jsxDEV("input",{type:"number",placeholder:"المبلغ",value:j,onChange:r=>le(parseFloat(r.target.value)),className:"border border-slate-300/80 bg-white/60 rounded-xl p-3 sm:p-3 text-base sm:text-sm font-black text-indigo-700 outline-none focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100 transition-all shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:988,columnNumber:65},void 0),e.jsxDEV("div",{className:"[&>input]:w-full [&>input]:border [&>input]:border-slate-300/80 [&>input]:bg-white/60 [&>input]:rounded-xl [&>input]:p-3 sm:[&>input]:p-3 [&>input]:text-base sm:[&>input]:text-sm [&>input]:font-bold [&>input]:outline-none [&>input]:focus:border-indigo-400 [&>input]:focus:ring-4 [&>input]:focus:ring-indigo-100 [&>input]:transition-all [&>input]:shadow-sm",children:e.jsxDEV($e,{placeholder:"تاريخ الاستحقاق",value:b,onChange:O},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:996,columnNumber:69},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:995,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:980,columnNumber:61},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-1",children:[e.jsxDEV("button",{onClick:()=>{R(""),le(""),O("")},className:"flex-1 bg-white border border-slate-200 text-slate-500 py-2 sm:py-2.5 rounded-xl font-black text-[10px] sm:text-xs hover:bg-slate-50 hover:text-rose-500 hover:border-rose-200 transition-all flex items-center justify-center gap-1 sm:gap-1.5 shadow-sm",children:[e.jsxDEV(Ze,{size:14,className:"sm:w-4 sm:h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1009,columnNumber:69},void 0)," مسح"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1001,columnNumber:65},void 0),e.jsxDEV("button",{onClick:ke,disabled:!V,className:"flex-[3] bg-gradient-to-r from-indigo-600 to-violet-600 text-white py-2 sm:py-2.5 rounded-xl font-black text-xs sm:text-sm hover:from-indigo-700 hover:to-violet-700 shadow-lg shadow-indigo-500/30 flex items-center justify-center gap-1.5 sm:gap-2 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:[e.jsxDEV(rt,{size:16,className:"sm:w-[18px] sm:h-[18px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1016,columnNumber:69},void 0)," إضافة الشيك"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1011,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1e3,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:942,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:929,columnNumber:49},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-[180px] sm:max-h-[200px] overflow-y-auto pr-1 custom-scrollbar",children:[A.map((r,E)=>e.jsxDEV("div",{className:`flex justify-between items-center p-2.5 sm:p-4 rounded-xl border shadow-sm hover:shadow-md transition-all group ${E%2===0?"bg-white border-slate-100 hover:border-indigo-200":D?"bg-amber-50/50 border-amber-100 hover:border-amber-300":"bg-blue-50/50 border-blue-100 hover:border-blue-300"}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxDEV("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex-shrink-0 flex items-center justify-center text-white font-black text-xs sm:text-sm ${r.type==="ENDORSE"?"bg-gradient-to-br from-amber-500 to-orange-500":"bg-gradient-to-br from-indigo-500 to-violet-500"}`,children:E+1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1033,columnNumber:65},void 0),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("div",{className:"font-black text-slate-800 text-xs sm:text-sm mb-0.5 truncate",children:[r.bankName,e.jsxDEV("span",{className:"font-mono text-slate-400 text-[10px] sm:text-xs bg-slate-100 px-1 sm:px-1.5 py-0.5 rounded ml-1 sm:ml-2",children:["#",r.number]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1042,columnNumber:73},void 0),r.type==="ENDORSE"&&e.jsxDEV("span",{className:"hidden sm:inline bg-amber-100 text-amber-700 text-[10px] font-black px-2 py-0.5 rounded-full ml-2",children:"تظهير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1044,columnNumber:77},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1040,columnNumber:69},void 0),e.jsxDEV("div",{className:"text-[10px] sm:text-xs font-bold text-slate-400 flex items-center gap-1",children:[e.jsxDEV(qe,{size:10,className:"sm:w-[11px] sm:h-[11px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1048,columnNumber:73},void 0)," ",r.dueDate]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1047,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1039,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1032,columnNumber:61},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[e.jsxDEV("span",{className:`font-black text-sm sm:text-base px-2 sm:px-3 py-0.5 sm:py-1 rounded-lg ${D?"text-amber-700 bg-amber-100/80":"text-indigo-700 bg-indigo-100/80"}`,children:r.amount.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1053,columnNumber:65},void 0),e.jsxDEV("button",{onClick:()=>vt(E),className:"text-slate-300 hover:text-rose-500 p-1.5 sm:p-2 hover:bg-rose-50 rounded-lg transition-all sm:opacity-0 sm:group-hover:opacity-100",children:e.jsxDEV(et,{size:14,className:"sm:w-4 sm:h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1060,columnNumber:69},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1059,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1052,columnNumber:61},void 0)]},E,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1026,columnNumber:57},void 0)),A.length===0&&e.jsxDEV("div",{className:"text-center py-4 sm:py-6 text-slate-400 bg-slate-50/50 rounded-xl border-2 border-dashed border-slate-200/60",children:[e.jsxDEV(Xe,{size:24,className:"sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 opacity-20"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1067,columnNumber:61},void 0),e.jsxDEV("p",{className:"text-[10px] sm:text-xs font-bold",children:"لم يتم إضافة شيكات بعد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1068,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1066,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1024,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:927,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:912,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:911,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:787,columnNumber:29},void 0),e.jsxDEV("div",{className:"lg:col-span-5 space-y-3 sm:space-y-4",children:[W?e.jsxDEV("div",{className:"relative group perspective-1000",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${q.gradient} rounded-2xl sm:rounded-[2rem] transform rotate-1 transition-transform group-hover:rotate-2 opacity-20 blur-xl`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1083,columnNumber:41},void 0),e.jsxDEV("div",{className:"relative bg-white/80 backdrop-blur-xl p-4 sm:p-8 rounded-2xl sm:rounded-[2rem] border border-white/60 shadow-2xl transition-all group-hover:scale-[1.02] duration-500 flex items-center justify-between overflow-hidden",children:[e.jsxDEV("div",{className:`absolute -right-10 -top-10 w-24 sm:w-32 h-24 sm:h-32 bg-gradient-to-br ${q.gradient} opacity-10 rounded-full blur-2xl`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1086,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 sm:gap-5 relative z-10",children:[e.jsxDEV("div",{className:`w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-gradient-to-br ${q.gradient} flex items-center justify-center text-xl sm:text-3xl font-black text-white shadow-lg shadow-amber-500/20 ring-2 sm:ring-4 ring-white/50`,children:W.name.charAt(0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1089,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-base sm:text-xl font-black text-slate-800 leading-tight",children:W.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1093,columnNumber:53},void 0),e.jsxDEV("div",{className:"text-xs sm:text-sm font-bold text-slate-500 mt-0.5 sm:mt-1 flex items-center gap-1",children:[e.jsxDEV("span",{className:"w-1.5 sm:w-2 h-1.5 sm:h-2 rounded-full bg-emerald-500 animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1095,columnNumber:57},void 0),W.phone||"No Phone"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1094,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1092,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1088,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-right relative z-10",children:[e.jsxDEV("div",{className:"text-[10px] sm:text-xs font-black text-slate-400 uppercase tracking-wider mb-0.5 sm:mb-1",children:"الرصيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1101,columnNumber:49},void 0),e.jsxDEV("div",{className:`text-xl sm:text-3xl font-black ${ae>=0?"text-emerald-600":"text-rose-600"} drop-shadow-sm`,dir:"ltr",children:ae.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1102,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1100,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1084,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1082,columnNumber:37},void 0):e.jsxDEV("div",{className:"bg-white/40 border-2 border-dashed border-slate-300/60 rounded-2xl sm:rounded-[2rem] p-4 sm:p-8 flex flex-col items-center justify-center text-center animate-fade-in backdrop-blur-sm",children:[e.jsxDEV("div",{className:"bg-white p-3 sm:p-4 rounded-full shadow-lg mb-3 sm:mb-4 ring-2 sm:ring-4 ring-slate-50",children:e.jsxDEV(tt,{size:20,className:"sm:w-6 sm:h-6 text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1111,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1110,columnNumber:41},void 0),e.jsxDEV("h3",{className:"text-sm sm:text-base font-black text-slate-600 mb-1 sm:mb-2",children:["لم يتم اختيار ",D?"مورد":"عميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1113,columnNumber:41},void 0),e.jsxDEV("p",{className:"text-[10px] sm:text-xs font-bold text-slate-400 max-w-[220px] leading-relaxed",children:["ابحث واختر ",D?"المورد":"العميل"," من القائمة لبدء عملية الدفع وعرض الرصيد."]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1114,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1109,columnNumber:37},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-black text-slate-700 mb-2",children:"ملاحظات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1123,columnNumber:37},void 0),e.jsxDEV("textarea",{value:Q,onChange:r=>ie(r.target.value),className:`w-full border border-slate-300/80 rounded-xl p-4 h-24 resize-none bg-white/50 outline-none transition-all text-sm shadow-sm font-bold text-slate-700 backdrop-blur-sm ${q.focus}`,placeholder:"تفاصيل العملية..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1124,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1122,columnNumber:33},void 0),e.jsxDEV("div",{className:`backdrop-blur-xl p-6 rounded-[2rem] border shadow-2xl space-y-4 ring-1 ${D?"bg-gradient-to-br from-amber-50/90 to-orange-50/90 border-amber-200/60 ring-amber-100/50":"bg-gradient-to-br from-blue-50/90 to-indigo-50/90 border-blue-200/60 ring-blue-100/50"}`,children:[e.jsxDEV("div",{className:`flex justify-between items-center p-4 rounded-xl ${D?"bg-white/80 border border-amber-200":"bg-white/80 border border-blue-200"}`,children:[e.jsxDEV("span",{className:"text-slate-600 font-black flex items-center gap-2",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${D?"bg-amber-500":"bg-blue-500"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1135,columnNumber:45},void 0),"الإجمالي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1134,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-black text-slate-800 text-xl",children:Qe.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1138,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1132,columnNumber:37},void 0),te&&e.jsxDEV("div",{className:"flex justify-between items-center text-amber-700 bg-amber-50/80 p-4 rounded-xl border border-amber-200/50",children:[e.jsxDEV("span",{className:"font-black flex items-center gap-2",children:[e.jsxDEV(Nt,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1144,columnNumber:49},void 0),"خصم منبع (",Ce,"%)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1143,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-black font-mono",children:["- ",t.toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1147,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1142,columnNumber:41},void 0),e.jsxDEV("div",{className:`flex justify-between items-center p-5 rounded-2xl text-white ${D?"bg-gradient-to-r from-amber-600 to-orange-600 shadow-lg shadow-amber-500/30":"bg-gradient-to-r from-blue-600 to-indigo-600 shadow-lg shadow-blue-500/30"}`,children:[e.jsxDEV("span",{className:"text-lg font-black flex items-center gap-2",children:[e.jsxDEV(ot,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1157,columnNumber:45},void 0),"الصافي المستحق"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1156,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-3xl font-black drop-shadow-sm",children:[(Qe-(te?t:0)).toLocaleString(),e.jsxDEV("span",{className:"text-sm font-bold opacity-70 mr-1",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1162,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1160,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1152,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1127,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-2",children:[g&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>{he({isOpen:!0,title:"حذف العملية",message:"هل أنت متأكد من حذف هذه العملية؟ لا يمكن التراجع عن هذا الإجراء.",type:"danger",onConfirm:()=>{K&&g&&(K(g),we(!1))}})},className:"px-4 bg-white border border-rose-200 text-rose-600 py-4 rounded-xl font-black hover:bg-rose-50 hover:border-rose-300 text-xs transition-all flex items-center gap-1.5 shadow-sm hover:shadow-md",title:"حذف",children:e.jsxDEV(et,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1188,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1170,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>we(!0),className:"flex-1 bg-white border border-slate-200 text-slate-600 py-4 rounded-xl font-black hover:bg-slate-50 text-sm shadow-sm hover:shadow-md transition-all",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1190,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1169,columnNumber:41},void 0),e.jsxDEV("button",{onClick:gt,className:`flex-[2] py-5 rounded-2xl font-black flex items-center justify-center gap-3 transition-all text-base group relative overflow-hidden ${D?"bg-gradient-to-r from-amber-600 via-orange-600 to-amber-600 hover:from-amber-700 hover:via-orange-700 hover:to-amber-700 shadow-xl shadow-amber-500/40 hover:shadow-2xl hover:shadow-amber-500/50":"bg-gradient-to-r from-blue-600 via-indigo-600 to-blue-600 hover:from-blue-700 hover:via-indigo-700 hover:to-blue-700 shadow-xl shadow-blue-500/40 hover:shadow-2xl hover:shadow-blue-500/50"} text-white hover:-translate-y-1 hover:scale-[1.02]`,children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1203,columnNumber:41},void 0),e.jsxDEV(xt,{size:24,className:"relative z-10"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1204,columnNumber:41},void 0),e.jsxDEV("span",{className:"relative z-10",children:g?"تحديث البيانات":"حفظ العملية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1205,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1195,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1167,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1079,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:785,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:744,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:743,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:741,columnNumber:13},void 0),e.jsxDEV(st,{isOpen:_.isOpen,onClose:()=>ce(r=>({...r,isOpen:!1})),message:_.message,type:_.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1214,columnNumber:13},void 0),e.jsxDEV(bt,{isOpen:Ee.isOpen,onClose:()=>he(r=>({...r,isOpen:!1})),onConfirm:Ee.onConfirm,title:Ee.title,message:Ee.message,type:Ee.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1221,columnNumber:13},void 0),fe&&i&&e.jsxDEV("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-md flex flex-col items-center justify-center p-8 animate-fade-in text-center",children:e.jsxDEV("div",{className:"bg-white rounded-3xl p-10 max-w-md w-full shadow-2xl transform scale-100 animate-bounce-in relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-400 to-teal-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1235,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>ye(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors p-1 rounded-full hover:bg-slate-100",children:e.jsxDEV(Ze,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1240,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1236,columnNumber:29},void 0),e.jsxDEV("div",{className:"w-24 h-24 bg-emerald-50 text-emerald-500 rounded-full flex items-center justify-center mb-6 shadow-lg shadow-emerald-100 mx-auto border-4 border-white ring-4 ring-emerald-50",children:e.jsxDEV(pt,{size:48,strokeWidth:3},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1244,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1243,columnNumber:29},void 0),e.jsxDEV("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:g?"تم التحديث":"تم الحفظ بنجاح!"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1247,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-500 mb-8 text-lg",children:["تم تسجيل ",D?"سند الصرف":"سند القبض"," بمبلغ ",e.jsxDEV("br",{},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1249,columnNumber:89},void 0),e.jsxDEV("span",{className:"font-bold text-slate-900 text-2xl mt-2 inline-block",children:[i.amountText," ",e.jsxDEV("span",{className:"text-sm font-normal text-slate-400",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1250,columnNumber:128},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1250,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1248,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex flex-col gap-4",children:[e.jsxDEV("label",{className:"flex items-center justify-center gap-3 text-sm text-slate-600 cursor-pointer hover:text-slate-800 transition-colors bg-slate-50 p-3 rounded-xl border border-slate-100",children:[e.jsxDEV("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${ve?"bg-indigo-500 border-indigo-600":"bg-white border-slate-300"}`,children:ve&&e.jsxDEV(Ht,{size:14,className:"text-white"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1256,columnNumber:64},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1255,columnNumber:37},void 0),e.jsxDEV("input",{type:"checkbox",checked:ve,onChange:r=>Ve(r.target.checked),className:"hidden"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1258,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-medium",children:"إظهار الرصيد في الطباعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1264,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1254,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ft("payment-voucher-preview","Payment Voucher"),className:"w-full bg-slate-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-slate-900 flex items-center justify-center gap-3 transition-transform hover:-translate-y-1",children:[e.jsxDEV(Ct,{size:22},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1271,columnNumber:37},void 0)," طباعة السند"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1267,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>we(!0),className:"w-full bg-white border-2 border-slate-100 text-slate-600 py-4 rounded-xl font-bold hover:bg-slate-50 hover:border-slate-200 flex items-center justify-center gap-3 transition-colors",children:[e.jsxDEV(rt,{size:22},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1277,columnNumber:37},void 0)," عملية جديدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1273,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1253,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1234,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1233,columnNumber:21},void 0),i&&e.jsxDEV("div",{className:"hidden",children:e.jsxDEV("div",{id:"payment-voucher-preview",className:"p-12 bg-white text-slate-800 font-sans min-h-[29.7cm] relative",dir:"rtl",children:[e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none",children:e.jsxDEV("div",{className:"text-[15rem] font-bold rotate-45",children:"PAID"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1292,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1291,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-8 mb-10",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("h1",{className:"text-4xl font-bold mb-2 text-slate-900",children:I?.companyName||"DaftriX ERP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1298,columnNumber:37},void 0),I?.address&&e.jsxDEV("p",{className:"text-slate-500 text-sm font-bold",children:I.address},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1299,columnNumber:63},void 0),I?.phone&&e.jsxDEV("p",{className:"text-slate-500 text-sm mt-1",children:["هاتف: ",I.phone]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1300,columnNumber:61},void 0),!I?.address&&!I?.phone&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{className:"text-slate-500 text-sm font-bold",children:"نظام إدارة الموارد المؤسسية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1303,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-slate-500 text-sm mt-1",children:"Enterprise Resource Planning System"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1304,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1302,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1297,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block bg-slate-900 text-white px-8 py-3 rounded-xl font-bold text-2xl shadow-lg mb-2",children:F.title},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1309,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-slate-500 font-mono font-bold text-lg",children:["#",i.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1310,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1308,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-left",children:I?.logo?e.jsxDEV("img",{src:I.logo,alt:"Company Logo",className:"w-24 h-24 object-contain rounded-xl border-2 border-slate-200"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1314,columnNumber:41},void 0):e.jsxDEV("div",{className:"w-24 h-24 bg-slate-100 rounded-xl flex items-center justify-center border-2 border-slate-200",children:e.jsxDEV("span",{className:"text-xs text-slate-400 font-bold",children:"LOGO"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1317,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1316,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1312,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1296,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between items-start mb-10 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsxDEV("div",{className:"space-y-4 flex-1",children:[e.jsxDEV("div",{className:"flex gap-4 items-center",children:[e.jsxDEV("span",{className:"font-bold text-slate-500 w-32",children:"تاريخ السند:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1327,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-lg",children:i.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1328,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1326,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-4 items-center",children:[e.jsxDEV("span",{className:"font-bold text-slate-500 w-32",children:"السيد/السادة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1331,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-bold text-xl text-slate-900",children:i.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1332,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1330,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-4 items-start",children:[e.jsxDEV("span",{className:"font-bold text-slate-500 w-32 mt-1",children:"وذلك مقابل:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1335,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-medium text-lg leading-relaxed flex-1",children:i.notes||"---"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1336,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1334,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1325,columnNumber:33},void 0),e.jsxDEV("div",{className:"border-2 border-slate-800 p-6 rounded-xl min-w-[250px] text-center bg-white shadow-sm ml-8",children:[e.jsxDEV("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"المبلغ الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1340,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-3xl font-bold text-slate-900",children:i.amountText},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1341,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400 mt-1 font-bold",children:"جنية مصري فقط لا غير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1342,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1339,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1324,columnNumber:29},void 0),ve&&W&&e.jsxDEV("div",{className:"mb-10 grid grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"bg-white border border-slate-200 p-4 rounded-xl flex justify-between items-center",children:[e.jsxDEV("span",{className:"font-bold text-slate-500",children:"رصيد قبل الدفعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1350,columnNumber:41},void 0),e.jsxDEV("span",{className:`font-bold text-lg font-mono ${(D?ae-i.total:ae+i.total)>=0?"text-emerald-600":"text-rose-600"}`,children:(D?ae-i.total:ae+i.total).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1351,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1349,columnNumber:37},void 0),e.jsxDEV("div",{className:"bg-slate-100 border border-slate-200 p-4 rounded-xl flex justify-between items-center",children:[e.jsxDEV("span",{className:"font-bold text-slate-800",children:"الرصيد الحالي (بعد الدفعة)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1368,columnNumber:41},void 0),e.jsxDEV("span",{className:`font-bold text-lg font-mono ${ae>=0?"text-emerald-600":"text-rose-600"}`,children:ae.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1369,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1367,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1348,columnNumber:33},void 0),e.jsxDEV("div",{className:"mb-12",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6 text-xl flex items-center gap-2",children:[e.jsxDEV(Ue,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1379,columnNumber:37},void 0)," تفاصيل السداد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1378,columnNumber:33},void 0),i.printDetails.wht>0&&e.jsxDEV("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 mb-6 flex justify-between font-bold text-amber-900",children:[e.jsxDEV("span",{children:["صافي المبلغ ",Te?"المستلم":"المدفوع"," (بعد خصم ضريبة المنبع):"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1384,columnNumber:41},void 0),e.jsxDEV("span",{className:"font-mono text-lg",children:[i.printDetails.net.toLocaleString()," ج.م"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1385,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1383,columnNumber:37},void 0),e.jsxDEV("table",{className:"w-full text-right border-collapse",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-slate-100 text-slate-600 border-y border-slate-200",children:[e.jsxDEV("th",{className:"p-4 font-bold w-1/4",children:"طريقة الدفع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1392,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4 font-bold",children:"بيانات العملية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1393,columnNumber:45},void 0),e.jsxDEV("th",{className:"p-4 font-bold w-1/4 text-left",children:"القيمة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1394,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1391,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1390,columnNumber:37},void 0),e.jsxDEV("tbody",{className:"text-slate-800",children:[i.printDetails.cash>0&&e.jsxDEV("tr",{className:"border-b border-slate-100",children:[e.jsxDEV("td",{className:"p-4 font-bold",children:"نقدي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1400,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 text-slate-500",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1401,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 font-bold font-mono text-left",children:i.printDetails.cash.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1402,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1399,columnNumber:45},void 0),i.printDetails.cheque>0&&e.jsxDEV("tr",{className:"border-b border-slate-100",children:[e.jsxDEV("td",{className:"p-4 font-bold align-top",children:["شيكات (",(i.transactionCheques||A).length,")"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1407,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("ul",{className:"space-y-2",children:(i.transactionCheques||A).map((r,E)=>e.jsxDEV("li",{className:"flex items-center gap-2 text-sm bg-slate-50 p-2 rounded-lg border border-slate-100 w-fit",children:[e.jsxDEV("span",{className:"font-bold",children:r.bankName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1412,columnNumber:65},void 0),e.jsxDEV("span",{className:"text-slate-400",children:"|"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1413,columnNumber:65},void 0),e.jsxDEV("span",{className:"font-mono",children:["#",r.number]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1414,columnNumber:65},void 0),e.jsxDEV("span",{className:"text-slate-400",children:"|"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1415,columnNumber:65},void 0),e.jsxDEV("span",{className:"text-slate-500",children:r.dueDate},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1416,columnNumber:65},void 0)]},E,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1411,columnNumber:61},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1409,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1408,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 font-bold font-mono text-left align-top",children:i.printDetails.cheque.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1421,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1406,columnNumber:45},void 0),i.printDetails.bank>0&&e.jsxDEV("tr",{className:"border-b border-slate-100",children:[e.jsxDEV("td",{className:"p-4 font-bold",children:"تحويل بنكي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1426,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 text-slate-500",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1427,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-4 font-bold font-mono text-left",children:i.printDetails.bank.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1428,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1425,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1397,columnNumber:37},void 0),e.jsxDEV("tfoot",{className:"bg-slate-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{colSpan:2,className:"p-4 font-bold text-slate-600",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1434,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 font-bold font-mono text-xl text-left text-slate-900",children:i.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1435,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1433,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1432,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1389,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1377,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-between mt-20 pt-10 border-t-2 border-slate-100",children:[e.jsxDEV("div",{className:"text-center w-64",children:[e.jsxDEV("div",{className:"font-bold text-slate-800 mb-20",children:"المحاسب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1444,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-t border-slate-300 w-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1445,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1443,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-center w-64",children:[e.jsxDEV("div",{className:"font-bold text-slate-800 mb-20",children:"المدير المالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1448,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-t border-slate-300 w-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1449,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1447,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-center w-64",children:[e.jsxDEV("div",{className:"font-bold text-slate-800 mb-20",children:"المستلم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1452,columnNumber:37},void 0),e.jsxDEV("div",{className:"border-t border-slate-300 w-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1453,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1451,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1442,columnNumber:29},void 0),e.jsxDEV("div",{className:"absolute bottom-8 left-0 right-0 text-center text-xs text-slate-400 font-mono",children:["Printed on ",new Date().toLocaleString("en-GB")," | Cloud ERP System"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1458,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1289,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:1288,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerPayment.tsx",lineNumber:737,columnNumber:9},void 0)},tn=({partners:N,transactions:h,isSupplier:v,products:H=[],accounts:re=[],banks:xe=[],cheques:K=[],warehouses:D=[],systemConfig:F,onSaveTransaction:Z,onDeleteInvoice:I,initialPartnerId:k,onNavigate:z})=>{const[g,de]=m.useState(""),[C,J]=m.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[V,$]=m.useState(new Date().toISOString().split("T")[0]),[G,Y]=m.useState("THIS_MONTH"),[P,ne]=m.useState("STATEMENT"),[T,pe]=m.useState(!1),[Q,ie]=m.useState(1),ee=50,[oe,A]=m.useState(null);m.useEffect(()=>{k&&de(k)},[k]),m.useEffect(()=>{ie(1)},[g,C,V,P,T]);const d=N.find(t=>t.id===g),w=v?"amber":"blue",R=m.useMemo(()=>{const t=v?[o.INVOICE_PURCHASE,o.RETURN_PURCHASE,o.PAYMENT,o.DISCOUNT_EARNED,o.CHEQUE_BOUNCE,o.CHEQUE_CASHED]:[o.INVOICE_SALE,o.RETURN_SALE,o.RECEIPT,o.DISCOUNT_ALLOWED,o.CHEQUE_BOUNCE,o.CHEQUE_COLLECT,o.CHEQUE_DEPOSIT];return N.map(a=>{const n=h.filter(u=>u.partnerId===a.id&&u.status==="POSTED"&&t.includes(u.type));let s=parseFloat(String(a.openingBalance||0));for(const u of n){const x=u.total,i=u.whtAmount||0,c=x-i;switch(u.type){case o.INVOICE_SALE:s+=c;break;case o.RETURN_SALE:s-=x;break;case o.RECEIPT:s-=x;break;case o.DISCOUNT_ALLOWED:s-=x;break;case o.CHEQUE_DEPOSIT:s-=x;break;case o.CHEQUE_COLLECT:s-=x;break;case o.INVOICE_PURCHASE:s-=x;break;case o.RETURN_PURCHASE:s+=x;break;case o.PAYMENT:s+=x;break;case o.DISCOUNT_EARNED:s+=x;break;case o.CHEQUE_CASHED:s+=x;break;case o.CHEQUE_BOUNCE:const l=K.find(f=>f.number===u.chequeNumber);l?l.type==="RECEIVABLE"?s+=u.total:l.type==="PAYABLE"&&(s-=u.total):s+=v?-u.total:u.total;break}}return{...a,calculatedBalance:Math.round(s*100)/100}})},[N,h,v,K]),p=t=>{switch(t){case o.INVOICE_SALE:return"فاتورة مبيعات";case o.INVOICE_PURCHASE:return"فاتورة مشتريات";case o.RETURN_SALE:return"مرتجع مبيعات";case o.RETURN_PURCHASE:return"مرتجع مشتريات";case o.PAYMENT:return"سند صرف";case o.RECEIPT:return"سند قبض";case o.DISCOUNT_ALLOWED:return"خصم مسموح به";case o.DISCOUNT_EARNED:return"خصم مكتسب";case o.CHEQUE_DEPOSIT:return"إيداع شيك";case o.CHEQUE_COLLECT:return"تحصيل شيك";case o.CHEQUE_BOUNCE:return"ارتجاع شيك";case o.CHEQUE_CASHED:return"صرف شيك";default:return"قيد يومية"}},y=t=>{const a=new Date;let n=new Date,s=new Date;switch(t){case"TODAY":n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),s=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"WEEK":n=new Date(a.getFullYear(),a.getMonth(),a.getDate()-7),s=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"MONTH":case"THIS_MONTH":n=new Date(a.getFullYear(),a.getMonth(),1),s=new Date(a.getFullYear(),a.getMonth()+1,0);break;case"QUARTER":n=new Date(a.getFullYear(),a.getMonth()-2,1),s=new Date(a.getFullYear(),a.getMonth()+1,0);break;case"YEAR":case"THIS_YEAR":n=new Date(a.getFullYear(),0,1),s=new Date(a.getFullYear(),11,31);break;case"ALL":n=new Date(2020,0,1),s=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"LAST_MONTH":n=new Date(a.getFullYear(),a.getMonth()-1,1),s=new Date(a.getFullYear(),a.getMonth(),0);break;default:n=new Date(a.getFullYear(),a.getMonth(),1),s=new Date(a.getFullYear(),a.getMonth()+1,0)}const u=x=>{const i=x.getTimezoneOffset()*6e4;return new Date(x.getTime()-i).toISOString().split("T")[0]};J(u(n)),$(u(s)),Y(t)},j=t=>t.toLocaleString(),le=t=>{const a=K.find(n=>n.number===t.chequeNumber);if(a){if(a.type==="RECEIVABLE")return t.total;if(a.type==="PAYABLE")return-t.total}return v?-t.total:t.total},b=m.useMemo(()=>{if(!d)return null;if(!g)return{transactions:[],openingBalance:0,endingBalance:0,totalDebit:0,totalCredit:0};let t=[];T?t=[o.INVOICE_SALE,o.INVOICE_PURCHASE,o.RETURN_SALE,o.RETURN_PURCHASE,o.RECEIPT,o.PAYMENT,o.CHEQUE_BOUNCE,o.CHEQUE_COLLECT,o.CHEQUE_DEPOSIT,o.CHEQUE_CASHED,o.DISCOUNT_ALLOWED,o.DISCOUNT_EARNED]:t=v?[o.INVOICE_PURCHASE,o.RETURN_PURCHASE,o.PAYMENT,o.DISCOUNT_EARNED,o.CHEQUE_BOUNCE,o.CHEQUE_CASHED]:[o.INVOICE_SALE,o.RETURN_SALE,o.RECEIPT,o.DISCOUNT_ALLOWED,o.CHEQUE_BOUNCE,o.CHEQUE_COLLECT,o.CHEQUE_DEPOSIT];const a=h.filter(l=>l.partnerId===g&&l.status==="POSTED"&&t.includes(l.type)).sort((l,f)=>new Date(l.date).getTime()-new Date(f.date).getTime()),n=l=>{const f=l.total,_=l.whtAmount||0,ce=f-_;switch(l.type){case o.INVOICE_SALE:return ce;case o.RETURN_SALE:return-f;case o.RECEIPT:return-f;case o.DISCOUNT_ALLOWED:return-f;case o.CHEQUE_DEPOSIT:return-f;case o.CHEQUE_COLLECT:return-f;case o.INVOICE_PURCHASE:return-f;case o.RETURN_PURCHASE:return f;case o.PAYMENT:return f;case o.DISCOUNT_EARNED:return f;case o.CHEQUE_CASHED:return f;case o.CHEQUE_BOUNCE:return le(l);default:return 0}};let s=parseFloat(String(d?.openingBalance||0));a.forEach(l=>{let f;const _=String(l.date);if(_.includes("T")||_.includes("Z"))f=new Date(_);else{const[ye,ve,Ve]=_.split("-").map(Number);f=new Date(ye,ve-1,Ve)}const[ce,Ee,he]=C.split("-").map(Number),fe=new Date(ce,Ee-1,he);f.setHours(0,0,0,0),fe.setHours(0,0,0,0),f<fe&&(s=Math.round((s+n(l))*100)/100)});let u=s,x=0,i=0;const c=[];return a.forEach(l=>{let f;const _=String(l.date);if(_.includes("T")||_.includes("Z"))f=new Date(_);else{const[q,Te,W]=_.split("-").map(Number);f=new Date(q,Te-1,W)}const[ce,Ee,he]=C.split("-").map(Number),fe=new Date(ce,Ee-1,he),[ye,ve,Ve]=V.split("-").map(Number),me=new Date(ye,ve-1,Ve);if(me.setHours(23,59,59,999),f.setHours(0,0,0,0),fe.setHours(0,0,0,0),f>=fe&&f<=me){let q=l.globalDiscount||0;if(l.lines&&l.lines.length>0&&(q+=l.lines.reduce((W,Pe)=>W+(Pe.discount||0),0)),(l.type===o.INVOICE_SALE||l.type===o.INVOICE_PURCHASE)&&q>0){const W=l.total+q,Pe=l.type===o.INVOICE_SALE?W:-W;u=Math.round((u+Pe)*100)/100;let ae=0,be=0;l.type===o.INVOICE_SALE?ae=W:be=W,x+=ae,i+=be;let Se=l.notes||"-";const ge=l.lines&&l.lines.length>0;ge&&(Se=l.lines.map(ke=>`${ke.productName}: ${ke.quantity} × ${ke.price.toLocaleString()} = ${ke.total.toLocaleString()}`).join(`
`)),c.push({...l,id:l.id,type:l.type,debit:ae,credit:be,runningBalance:u,label:p(l.type)+" (الإجمالي)",displayNotes:Se,hasInvoiceLines:ge,isGrossRow:!0});const Qe=l.type===o.INVOICE_SALE?-q:q;u=Math.round((u+Qe)*100)/100;let we=0,Ae=0;l.type===o.INVOICE_SALE?Ae=q:we=q,x+=we,i+=Ae,c.push({...l,id:`${l.id}-DISC`,total:q,debit:we,credit:Ae,runningBalance:u,label:`خصم مسموح به (فاتورة #${l.number||l.id.substring(0,8)})`,displayNotes:"خصم على الفاتورة",hasInvoiceLines:!1,isDiscountRow:!0})}else{const W=n(l);u=Math.round((u+W)*100)/100;let Pe=0,ae=0;W>0?Pe=Math.abs(W):ae=Math.abs(W),l.type===o.INVOICE_SALE&&(Pe=l.total),x=Math.round((x+Pe)*100)/100,i=Math.round((i+ae)*100)/100;let be=l.notes||"-";const Se=[o.INVOICE_SALE,o.INVOICE_PURCHASE,o.RETURN_SALE,o.RETURN_PURCHASE].includes(l.type)&&l.lines&&l.lines.length>0;Se?be=l.lines.map(ge=>`${ge.productName}: ${ge.quantity} × ${ge.price.toLocaleString()} = ${ge.total.toLocaleString()}`).join(`
`):l.type===o.CHEQUE_BOUNCE?be=`شيك مرتجع #${l.chequeNumber} - ${l.bounceReason||""}`:l.chequeNumber&&(be+=` (شيك #${l.chequeNumber})`),l.whtAmount&&l.whtAmount>0&&(be+=` (شامل ضريبة خصم: ${l.whtAmount.toLocaleString()} ج.م)`),c.push({...l,debit:Pe,credit:ae,runningBalance:u,label:p(l.type),displayNotes:be,hasInvoiceLines:Se})}}}),{transactions:c,openingBalance:s,endingBalance:u,totalDebit:x,totalCredit:i}},[g,C,V,h,v,d,K,T]),O=m.useMemo(()=>{if(!b)return[];const t=(Q-1)*ee;return b.transactions.slice(t,t+ee)},[b,Q,ee]),U=m.useMemo(()=>{if(!g)return[];const t=v?[o.INVOICE_PURCHASE,o.RETURN_PURCHASE]:[o.INVOICE_SALE,o.RETURN_SALE];return h.filter(a=>a.partnerId===g&&t.includes(a.type)&&a.status==="POSTED"&&(()=>{let n;const s=String(a.date);if(s.includes("T")||s.includes("Z"))n=new Date(s);else{const[Ee,he,fe]=s.split("-").map(Number);n=new Date(Ee,he-1,fe)}const[u,x,i]=C.split("-").map(Number),c=new Date(u,x-1,i),[l,f,_]=V.split("-").map(Number),ce=new Date(l,f-1,_);return ce.setHours(23,59,59,999),n.setHours(0,0,0,0),c.setHours(0,0,0,0),n>=c&&n<=ce})()).sort((a,n)=>new Date(a.date).getTime()-new Date(n.date).getTime())},[g,C,V,h,v]),L=m.useMemo(()=>{if(!g)return[];const t={},a=v?o.INVOICE_PURCHASE:o.INVOICE_SALE,n=v?o.RETURN_PURCHASE:o.RETURN_SALE;return h.filter(u=>u.partnerId===g&&(u.type===a||u.type===n)&&u.status==="POSTED"&&(()=>{let x;const i=String(u.date);if(i.includes("T")||i.includes("Z"))x=new Date(i);else{const[ye,ve,Ve]=i.split("-").map(Number);x=new Date(ye,ve-1,Ve)}const[c,l,f]=C.split("-").map(Number),_=new Date(c,l-1,f),[ce,Ee,he]=V.split("-").map(Number),fe=new Date(ce,Ee-1,he);return fe.setHours(23,59,59,999),x.setHours(0,0,0,0),_.setHours(0,0,0,0),x>=_&&x<=fe})()).forEach(u=>{const x=u.type===n;u.lines.forEach(i=>{t[i.productId]||(t[i.productId]={name:i.productName,qty:0,total:0,avgPrice:0}),x?(t[i.productId].qty-=i.quantity,t[i.productId].total-=i.total):(t[i.productId].qty+=i.quantity,t[i.productId].total+=i.total)})}),Object.values(t).filter(u=>u.qty!==0).map(u=>({...u,avgPrice:u.qty!==0?u.total/u.qty:0})).sort((u,x)=>x.total-u.total)},[g,C,V,h,v]),Be=()=>{if(!d||!b)return;const t=new Date().toLocaleDateString("ar-EG"),a=b.endingBalance,n=F||ze;let s="";a===0?s="رصيد صفر (خالص)":a>0?s="مدين (عليكم)":s="دائن (لكم)";const u=`
        <div style="padding: 30px; font-family: 'Cairo', sans-serif; direction: rtl; color: #1e293b; max-width: 210mm; margin: 0 auto;">
            <!-- Header -->
            <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #0f172a; padding-bottom: 15px; margin-bottom: 25px;">
                <div style="text-align: right;">
                    <h1 style="margin: 0; font-size: 24px; font-weight: 800; color: #0f172a;">${n.companyName}</h1>
                    <p style="margin: 3px 0; font-size: 13px; color: #64748b;">${n.companyAddress}</p>
                    <p style="margin: 3px 0; font-size: 13px; color: #64748b;">${n.companyPhone} | ${n.companyEmail}</p>
                </div>
                ${n.logo?`<img src="${n.logo}" style="height: 60px; max-width: 150px; object-fit: contain;" />`:""}
            </div>

            <!-- Title -->
            <div style="text-align: center; margin-bottom: 25px;">
                <h2 style="margin: 0; font-size: 22px; text-decoration: underline; text-underline-offset: 6px; color: #0f172a;">مصادقة رصيد (Balance Confirmation)</h2>
            </div>

            <!-- Recipient Info -->
            <div style="margin-bottom: 25px; font-size: 14px; background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <table style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <td style="padding: 5px; width: 80px; font-weight: bold; color: #475569;">التاريخ:</td>
                        <td style="padding: 5px; font-weight: bold;">${t}</td>
                    </tr>
                    <tr>
                        <td style="padding: 5px; font-weight: bold; color: #475569;">السادة:</td>
                        <td style="padding: 5px; font-weight: bold; font-size: 16px;">${d.name}</td>
                    </tr>
                    <tr>
                        <td style="padding: 5px; font-weight: bold; color: #475569;">عناية:</td>
                        <td style="padding: 5px;">السيد مدير الحسابات المحترم</td>
                    </tr>
                </table>
            </div>

            <!-- Body -->
            <div style="margin-bottom: 25px; line-height: 1.6; font-size: 15px;">
                <p style="margin-bottom: 10px;">تحية طيبة وبعد،،</p>
                <p style="margin-bottom: 15px;">يرجى التكرم بمراجعة رصيد حسابكم لدينا كما في تاريخ <strong>${new Date(V).toLocaleDateString("ar-EG")}</strong>، والموضح أدناه:</p>
                
                <div style="background: #f1f5f9; padding: 20px; text-align: center; margin: 20px 0; border: 2px solid #cbd5e1; border-radius: 10px;">
                    <div style="font-size: 13px; color: #64748b; margin-bottom: 5px;">الرصيد الحالي</div>
                    <div style="font-size: 32px; font-weight: 800; color: #0f172a; direction: ltr; display: inline-block;">
                        ${Math.abs(a).toLocaleString()} <span style="font-size: 16px; font-weight: normal;">ج.م</span>
                    </div>
                    <div style="font-size: 16px; font-weight: bold; color: ${a>=0?"#059669":"#be123c"}; margin-top: 5px;">
                        ${s}
                    </div>
                </div>

                <p>في حال عدم وجود أي ملاحظات خلال أسبوع من تاريخه، يعتبر الرصيد صحيحاً ومصادقاً عليه من قبلكم.</p>
            </div>

            <!-- Signatures -->
            <div style="margin-top: 50px; display: flex; justify-content: space-between; gap: 30px;">
                <div style="flex: 1; text-align: center;">
                    <div style="margin-bottom: 50px; font-weight: bold; color: #475569; font-size: 14px;">عن / ${n.companyName}</div>
                    <div style="border-top: 1px solid #cbd5e1; width: 70%; margin: 0 auto; padding-top: 8px; font-size: 12px; color: #94a3b8;">التوقيع والختم</div>
                </div>
                <div style="flex: 1; text-align: center;">
                    <div style="margin-bottom: 50px; font-weight: bold; color: #475569; font-size: 14px;">المصادقة (العميل/المورد)</div>
                    <div style="border-top: 1px solid #cbd5e1; width: 70%; margin: 0 auto; padding-top: 8px; font-size: 12px; color: #94a3b8;">التوقيع والختم</div>
                </div>
            </div>

            <!-- Footer -->
            <div style="margin-top: 60px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #e2e8f0; padding-top: 15px;">
                ${n.companyAddress} | ${n.companyPhone} | ${n.companyEmail}
            </div>
        </div>
      `;ft("confirmation-print",`Balance_Confirmation_${d.name}`,u)},ue=()=>{if(!b||!d)return;const t=F||ze,a=`Statement_${d.name}_${new Date().toISOString().split("T")[0]}`,n=v?"#d97706":"#2563eb";let s="",u="";if(P==="STATEMENT")u="كشف حساب تفصيلي (Statement of Account)",s=`
            <div class="summary-grid">
                <div class="summary-card">
                    <div class="label">رصيد افتتاحي (Opening)</div>
                    <div class="value">${j(b.openingBalance)}</div>
                </div>
                <div class="summary-card">
                    <div class="label">إجمالي مدين (Debit)</div>
                    <div class="value" style="color: #000;">${b.totalDebit.toLocaleString()}</div>
                </div>
                <div class="summary-card">
                    <div class="label">إجمالي دائن (Credit)</div>
                    <div class="value" style="color: #000;">${b.totalCredit.toLocaleString()}</div>
                </div>
                <div class="summary-card" style="background: #f1f5f9; border-color: #cbd5e1;">
                    <div class="label">الرصيد الختامي (Ending)</div>
                    <div class="value" style="font-size: 22px;">${j(b.endingBalance)}</div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th style="width: 15%; font-size: 14px;">التاريخ<br>Date</th>
                        <th style="width: 40%; font-size: 14px;">تفاصيل الأصناف<br>Items Details</th>
                        <th style="width: 15%; font-size: 14px;">مدين<br>Debit</th>
                        <th style="width: 15%; font-size: 14px;">دائن<br>Credit</th>
                        <th style="width: 15%; font-size: 14px;">الرصيد<br>Balance</th>
                    </tr>
                </thead>
                <tbody>
                    ${b.transactions.map(c=>`
                        <tr>
                            <td style="font-family: monospace; font-size: 14px; font-weight: 700; vertical-align: top; padding-top: 12px;">${c.date.split("T")[0].split("-").reverse().join("/")}</td>
                            <td style="padding: 8px;">
                                <div style="font-weight: 800; font-size: 15px; color: #000; margin-bottom: 6px;">${c.label} <span style="font-weight: 600; font-size: 12px; color: #555; background: #f1f5f9; padding: 2px 6px; border-radius: 4px; margin-right: 6px;">#${c.id}</span></div>
                                ${c.hasInvoiceLines&&c.lines&&c.lines.length>0?`
                                    <table style="width: 100%; border-collapse: collapse; font-size: 11px; margin-top: 4px;">
                                        <thead>
                                            <tr style="background: #f8fafc;">
                                                <th style="text-align: right; padding: 4px 6px; border: 1px solid #e2e8f0; font-weight: 700; color: #475569;">الصنف</th>
                                                <th style="text-align: center; padding: 4px 6px; border: 1px solid #e2e8f0; font-weight: 700; color: #475569; width: 50px;">الكمية</th>
                                                <th style="text-align: center; padding: 4px 6px; border: 1px solid #e2e8f0; font-weight: 700; color: #475569; width: 70px;">السعر</th>
                                                <th style="text-align: center; padding: 4px 6px; border: 1px solid #e2e8f0; font-weight: 700; color: #475569; width: 80px;">الإجمالي</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${c.lines.map(l=>`
                                                <tr>
                                                    <td style="padding: 3px 6px; border: 1px solid #e2e8f0; color: #334155;">${l.productName}</td>
                                                    <td style="text-align: center; padding: 3px 6px; border: 1px solid #e2e8f0; font-weight: 700; color: #1d4ed8; background: #eff6ff;">${l.quantity}</td>
                                                    <td style="text-align: center; padding: 3px 6px; border: 1px solid #e2e8f0; font-family: monospace;">${l.price.toLocaleString()}</td>
                                                    <td style="text-align: center; padding: 3px 6px; border: 1px solid #e2e8f0; font-weight: 700; font-family: monospace; color: #059669; background: #ecfdf5;">${l.total.toLocaleString()}</td>
                                                </tr>
                                            `).join("")}
                                        </tbody>
                                    </table>
                                `:`<div style="font-size: 12px; color: #64748b;">${c.displayNotes}</div>`}
                            </td>
                            <td style="text-align: center; font-weight: 700; font-size: 15px; vertical-align: top; padding-top: 12px;">${c.debit>0?c.debit.toLocaleString():"-"}</td>
                            <td style="text-align: center; font-weight: 700; font-size: 15px; vertical-align: top; padding-top: 12px;">${c.credit>0?c.credit.toLocaleString():"-"}</td>
                            <td style="text-align: center; font-weight: 800; font-size: 15px; direction: ltr; vertical-align: top; padding-top: 12px;">${j(c.runningBalance)}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>
          `;else if(P==="INVOICES"){const c=U.reduce((l,f)=>l+(f.type.includes("RETURN")?-f.total:f.total),0);u=v?"ملخص المشتريات (Purchases Summary)":"ملخص المبيعات (Sales Summary)",s=`
            <table>
                <thead>
                    <tr>
                        <th>التاريخ<br>Date</th>
                        <th>رقم الفاتورة<br>Ref No</th>
                        <th>النوع<br>Type</th>
                        <th>المبلغ<br>Amount</th>
                    </tr>
                </thead>
                <tbody>
                    ${U.map(l=>`
                        <tr>
                            <td>${l.date.split("T")[0].split("-").reverse().join("/")}</td>
                            <td style="font-family: monospace;">#${l.id}</td>
                            <td>${p(l.type)}</td>
                            <td style="font-weight: bold;">${(l.type.includes("RETURN")?-l.total:l.total).toLocaleString()}</td>
                        </tr>
                    `).join("")}
                </tbody>
                <tfoot>
                    <tr style="background: #f8fafc;">
                        <td colspan="3" style="text-align: center; font-weight: bold; padding: 12px;">الإجمالي (Total)</td>
                        <td style="font-weight: bold; font-size: 14px;">${c.toLocaleString()}</td>
                    </tr>
                </tfoot>
            </table>
          `}else if(P==="INVOICES_DETAILED")u=v?"تفاصيل المشتريات (Detailed Purchases)":"تفاصيل المبيعات (Detailed Sales)",s=`
            <div style="display: flex; flex-direction: column; gap: 20px;">
            ${U.map(c=>`
                <div style="border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
                    <div style="background: #f8fafc; padding: 10px 15px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <span style="font-weight: bold; color: #334155;">${p(c.type)} #${c.id}</span>
                            <span style="font-size: 11px; color: #64748b; margin-right: 10px;">${c.date.split("T")[0].split("-").reverse().join("/")}</span>
                        </div>
                        <div style="font-weight: bold; font-family: monospace;">${(c.type.includes("RETURN")?-c.total:c.total).toLocaleString()}</div>
                    </div>
                    <table style="margin: 0; border: none;">
                        <thead>
                            <tr style="background: #fff;">
                                <th style="border-bottom: 1px solid #f1f5f9; font-size: 10px; padding: 6px;">الصنف</th>
                                <th style="border-bottom: 1px solid #f1f5f9; font-size: 10px; padding: 6px; width: 60px;">الكمية</th>
                                <th style="border-bottom: 1px solid #f1f5f9; font-size: 10px; padding: 6px; width: 80px;">السعر</th>
                                <th style="border-bottom: 1px solid #f1f5f9; font-size: 10px; padding: 6px; width: 80px;">الإجمالي</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${c.lines.map(l=>`
                                <tr>
                                    <td style="border-bottom: 1px solid #f8fafc; padding: 6px;">${l.productName}</td>
                                    <td style="border-bottom: 1px solid #f8fafc; padding: 6px; text-align: center;">${l.quantity}</td>
                                    <td style="border-bottom: 1px solid #f8fafc; padding: 6px; text-align: center;">${l.price.toLocaleString()}</td>
                                    <td style="border-bottom: 1px solid #f8fafc; padding: 6px; text-align: center;">${l.total.toLocaleString()}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                </div>
            `).join("")}
            </div>
          `;else if(P==="ITEMS"){const c=L.reduce((f,_)=>f+_.qty,0),l=L.reduce((f,_)=>f+_.total,0);u="تحليل الأصناف (Items Analysis)",s=`
            <table>
                <thead>
                    <tr>
                        <th>الصنف<br>Item</th>
                        <th>الكمية<br>Qty</th>
                        <th>متوسط السعر<br>Avg Price</th>
                        <th>الإجمالي<br>Total</th>
                    </tr>
                </thead>
                <tbody>
                    ${L.map(f=>`
                        <tr>
                            <td>${f.name}</td>
                            <td style="text-align: center;">${f.qty}</td>
                            <td style="text-align: center;">${f.avgPrice.toLocaleString(void 0,{maximumFractionDigits:2})}</td>
                            <td style="font-weight: bold;">${f.total.toLocaleString()}</td>
                        </tr>
                    `).join("")}
                </tbody>
                <tfoot>
                    <tr style="background: #f8fafc;">
                        <td style="padding: 12px; font-weight: bold;">الإجمالي (Total)</td>
                        <td style="padding: 12px; text-align: center; font-weight: bold;">${c}</td>
                        <td>-</td>
                        <td style="padding: 12px; font-weight: bold;">${l.toLocaleString()}</td>
                    </tr>
                </tfoot>
            </table>
          `}const x=`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
            <meta charset="UTF-8">
            <title>${a}</title>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
            <style>
                @page { 
                    size: A4; 
                    margin: 15mm 12mm; 
                }
                * { box-sizing: border-box; }
                body { 
                    font-family: 'Cairo', sans-serif; 
                    margin: 0; 
                    padding: 0; 
                    background: #fff; 
                    color: #000; 
                    font-size: 13px; 
                    -webkit-print-color-adjust: exact; 
                    print-color-adjust: exact; 
                }
                
                .header { 
                    display: flex; 
                    justify-content: space-between; 
                    align-items: flex-start; 
                    border-bottom: 3px solid ${n}; 
                    padding-bottom: 12px; 
                    margin-bottom: 20px; 
                    page-break-inside: avoid;
                    page-break-after: avoid;
                }
                .company-info h1 { margin: 0; font-size: 26px; color: #000; font-weight: 900; line-height: 1.1; }
                .company-info p { margin: 3px 0; font-size: 12px; color: #000; font-weight: 700; }
                
                .report-info { text-align: left; }
                .report-info h2 { margin: 0; font-size: 22px; color: ${n}; font-weight: 900; text-transform: uppercase; line-height: 1.1; }
                .report-info .period { font-size: 13px; color: #000; margin-top: 4px; font-weight: 700; }
                
                .partner-card { 
                    background: #f8fafc; 
                    border: 2px solid #cbd5e1; 
                    border-radius: 8px; 
                    padding: 15px; 
                    margin-bottom: 20px; 
                    display: flex; 
                    justify-content: space-between; 
                    align-items: center;
                    page-break-inside: avoid;
                    page-break-after: avoid;
                }
                .partner-info div { margin-bottom: 4px; font-size: 13px; color: #000; font-weight: 600; }
                .partner-info strong { color: #000; width: 75px; display: inline-block; font-weight: 800; }
                
                .summary-grid { 
                    display: grid; 
                    grid-template-columns: repeat(4, 1fr); 
                    gap: 12px; 
                    margin-bottom: 20px;
                    page-break-inside: avoid;
                    page-break-after: avoid;
                }
                .summary-card { padding: 12px; border: 2px solid #cbd5e1; border-radius: 8px; background: #fff; text-align: center; }
                .summary-card .label { font-size: 11px; color: #334155; margin-bottom: 6px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.3px; }
                .summary-card .value { font-size: 19px; font-weight: 900; color: #000; }
                
                table { 
                    width: 100%; 
                    border-collapse: collapse; 
                    font-size: 13px; 
                    margin-bottom: 30px; 
                    border: 2px solid #cbd5e1;
                }
                th { 
                    background-color: #1e293b !important; 
                    color: #fff !important; 
                    font-weight: 800; 
                    padding: 10px 8px; 
                    text-align: right; 
                    border: 1px solid #000; 
                    vertical-align: middle; 
                    font-size: 14px; 
                }
                td { 
                    padding: 8px; 
                    border: 1px solid #cbd5e1; 
                    color: #000; 
                    vertical-align: middle; 
                    font-weight: 600; 
                    font-size: 13px; 
                }
                tr:nth-child(even) { background-color: #f1f5f9 !important; }
                
                .signatures { 
                    display: flex; 
                    justify-content: space-between; 
                    margin-top: 40px; 
                    page-break-inside: avoid; 
                }
                .signature-box { width: 30%; text-align: center; }
                .signature-line { border-top: 2px solid #94a3b8; margin-top: 50px; width: 80%; margin-left: auto; margin-right: auto; }
                .signature-label { font-size: 13px; font-weight: 800; color: #000; margin-bottom: 5px; }
                
                .footer { 
                    margin-top: 30px; 
                    padding: 12px 0; 
                    border-top: 2px solid #e2e8f0; 
                    text-align: center; 
                    font-size: 10px; 
                    color: #64748b; 
                    background: #fff; 
                    font-weight: 600; 
                }
                
                @media print {
                    .no-print { display: none !important; }
                    body { -webkit-print-color-adjust: exact !important; }
                    
                    /* Prevent page breaks inside important elements */
                    .header, .partner-card, .summary-grid, .signatures { 
                        page-break-inside: avoid !important; 
                        break-inside: avoid !important;
                    }
                    
                    /* Table pagination rules */
                    table { 
                        page-break-inside: auto !important; 
                        break-inside: auto !important;
                    }
                    tr { 
                        page-break-inside: avoid !important; 
                        page-break-after: auto !important; 
                        break-inside: avoid !important;
                        break-after: auto !important;
                    }
                    thead { 
                        display: table-header-group !important; 
                    }
                    tfoot { 
                        display: table-footer-group !important; 
                    }
                    
                    /* Avoid orphans and widows */
                    p, h1, h2, h3 { 
                        orphans: 3; 
                        widows: 3; 
                    }
                    
                    /* Ensure footer doesn't overlap */
                    .footer { 
                        position: relative !important; 
                        page-break-inside: avoid !important;
                    }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <div class="company-info">
                    <h1>${t.companyName}</h1>
                    <p>${t.companyAddress}</p>
                    <p>${t.companyPhone} | ${t.companyEmail}</p>
                </div>
                <div class="report-info">
                    <h2>${u}</h2>
                    <div class="period">
                        من ${new Date(C).toLocaleDateString("ar-EG")} إلى ${new Date(V).toLocaleDateString("ar-EG")}
                    </div>
                </div>
            </div>

            <div class="partner-card">
                <div class="partner-info">
                    <div><strong>العميل:</strong> <span style="font-size: 16px; font-weight: bold;">${d.name}</span></div>
                    <div><strong>الهاتف:</strong> ${d.phone||"-"}</div>
                    <div><strong>العنوان:</strong> ${d.address||"-"}</div>
                </div>
                <div style="text-align: left; font-size: 12px; color: #64748b;">
                    تاريخ الطباعة: ${new Date().toLocaleString("ar-EG")}
                </div>
            </div>

            ${s}

            <div class="signatures">
                <div class="signature-box">
                    <div class="signature-label">إعداد (Prepared By)</div>
                    <div class="signature-line"></div>
                </div>
                <div class="signature-box">
                    <div class="signature-label">مراجعة (Reviewed By)</div>
                    <div class="signature-line"></div>
                </div>
                <div class="signature-box">
                    <div class="signature-label">اعتماد (Approved By)</div>
                    <div class="signature-line"></div>
                </div>
            </div>

            <div class="footer">
                ${t.companyName} - ${t.companyAddress} - Printed by Cloud ERP System
            </div>

            <script>
                window.onload = () => { setTimeout(() => { window.print(); }, 500); }
            <\/script>
        </body>
        </html>
        `,i=window.open("","_blank","width=1200,height=900");i&&(i.document.write(x),i.document.close())},te=t=>{const a=window.location.href.split("#")[0];if([o.INVOICE_SALE,o.INVOICE_PURCHASE,o.RETURN_SALE,o.RETURN_PURCHASE].includes(t.type)){const n=`${a}#/inv-edit|${t.id}`;window.open(n,"_blank")||alert("Popup blocked! Please allow popups for this site.")}else if(t.type===o.PAYMENT){const n=`${a}#/sup-payments|${t.id}`;window.open(n,"_blank")||alert("Popup blocked! Please allow popups for this site.")}else if(t.type===o.RECEIPT){const n=`${a}#/cust-payments|${t.id}`;window.open(n,"_blank")||alert("Popup blocked! Please allow popups for this site.")}else if(t.type===o.DISCOUNT_EARNED){const n=`${a}#/sup-discount|${t.id}`;window.open(n,"_blank")||alert("Popup blocked! Please allow popups for this site.")}else if(t.type===o.DISCOUNT_ALLOWED){const n=`${a}#/cust-discount|${t.id}`;window.open(n,"_blank")||alert("Popup blocked! Please allow popups for this site.")}else A(t)},se=t=>t===o.INVOICE_PURCHASE?{title:"فاتورة مشتريات",transactionType:o.INVOICE_PURCHASE,partnerType:"SUPPLIER",partnerLabel:"المورد",isQuote:!1,isReport:!1,color:"slate"}:t===o.INVOICE_SALE?{title:"فاتورة مبيعات",transactionType:o.INVOICE_SALE,partnerType:"CUSTOMER",partnerLabel:"العميل",isQuote:!1,isReport:!1,color:"teal"}:t===o.RETURN_SALE?{title:"مرتجع مبيعات",transactionType:o.RETURN_SALE,partnerType:"CUSTOMER",partnerLabel:"العميل",isQuote:!1,isReport:!1,color:"rose"}:t===o.RETURN_PURCHASE?{title:"مرتجع مشتريات",transactionType:o.RETURN_PURCHASE,partnerType:"SUPPLIER",partnerLabel:"المورد",isQuote:!1,isReport:!1,color:"indigo"}:null,Ce=t=>t.type===o.PAYMENT?{title:"سند صرف",transType:o.PAYMENT,invoiceType:o.INVOICE_PURCHASE}:t.type===o.RECEIPT?{title:"سند قبض",transType:o.RECEIPT,invoiceType:o.INVOICE_SALE,isReceipt:!0}:null,Re=()=>{if(!b||!d)return;let t=[],a=`كشف_حساب_${d.name}_${new Date().toISOString().split("T")[0]}.xlsx`,n=[];if(P==="STATEMENT")t=[{col1:"كشف حساب تفصيلي",col2:"",col3:"",col4:"",col5:"",col6:""},{col1:`الاسم: ${d.name}`,col2:"",col3:"",col4:`الفترة: ${new Date(C).toLocaleDateString("ar-EG")} - ${new Date(V).toLocaleDateString("ar-EG")}`,col5:"",col6:""},{col1:"",col2:"",col3:"",col4:"",col5:"",col6:""},{col1:"التاريخ",col2:"نوع الحركة",col3:"تفاصيل الأصناف",col4:"مدين",col5:"دائن",col6:"الرصيد"},{col1:"-",col2:"رصيد افتتاحي",col3:"رصيد ما قبل الفترة",col4:"",col5:"",col6:b.openingBalance},...b.transactions.map(i=>({col1:i.date.split("T")[0].split("-").reverse().join("/"),col2:`${i.label} #${i.id}`,col3:i.displayNotes,col4:i.debit>0?i.debit:"",col5:i.credit>0?i.credit:"",col6:i.runningBalance})),{col1:"",col2:"",col3:"",col4:"",col5:"",col6:""},{col1:"الملخص المالي",col2:"",col3:"",col4:"",col5:"",col6:""},{col1:"إجمالي مدين",col2:b.totalDebit,col3:"إجمالي دائن",col4:b.totalCredit,col5:"الرصيد الختامي",col6:b.endingBalance}],n=[{s:{r:0,c:0},e:{r:0,c:5}},{s:{r:1,c:0},e:{r:1,c:2}},{s:{r:1,c:3},e:{r:1,c:5}},{s:{r:t.length-2,c:0},e:{r:t.length-2,c:5}}];else if(P==="INVOICES"){const i=U.reduce((c,l)=>c+(l.type.includes("RETURN")?-l.total:l.total),0);t=[{col1:v?"إجمالي المشتريات":"إجمالي المبيعات",col2:"",col3:"",col4:""},{col1:`الاسم: ${d.name}`,col2:"",col3:`الفترة: ${new Date(C).toLocaleDateString("ar-EG")} - ${new Date(V).toLocaleDateString("ar-EG")}`,col4:""},{col1:"",col2:"",col3:"",col4:""},{col1:"التاريخ",col2:"رقم الفاتورة",col3:"النوع",col4:"المبلغ"},...U.map(c=>({col1:c.date.split("T")[0].split("-").reverse().join("/"),col2:c.id,col3:p(c.type),col4:c.type.includes("RETURN")?-c.total:c.total})),{col1:"",col2:"",col3:"",col4:""},{col1:"",col2:"",col3:"الإجمالي",col4:i}],n=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:1}},{s:{r:1,c:2},e:{r:1,c:3}}]}else if(P==="INVOICES_DETAILED")t=[{col1:v?"كشف فواتير مشتريات تفصيلي":"كشف فواتير مبيعات تفصيلي",col2:"",col3:"",col4:"",col5:""},{col1:`الاسم: ${d.name}`,col2:"",col3:`الفترة: ${new Date(C).toLocaleDateString("ar-EG")} - ${new Date(V).toLocaleDateString("ar-EG")}`,col4:"",col5:""},{col1:"",col2:"",col3:"",col4:"",col5:""}],n=[{s:{r:0,c:0},e:{r:0,c:4}},{s:{r:1,c:0},e:{r:1,c:1}},{s:{r:1,c:2},e:{r:1,c:4}}],U.forEach(i=>{t.push({col1:`${p(i.type)} #${i.id}`,col2:i.date.split("T")[0].split("-").reverse().join("/"),col3:"",col4:"",col5:i.type.includes("RETURN")?-i.total:i.total}),n.push({s:{r:t.length-1,c:0},e:{r:t.length-1,c:1}}),t.push({col1:"الصنف",col2:"الكمية",col3:"السعر",col4:"الإجمالي",col5:""}),i.lines.forEach(c=>{t.push({col1:c.productName,col2:c.quantity,col3:c.price,col4:c.total,col5:""})}),t.push({col1:"",col2:"",col3:"",col4:"",col5:""})});else if(P==="ITEMS"){const i=L.reduce((l,f)=>l+f.qty,0),c=L.reduce((l,f)=>l+f.total,0);t=[{col1:v?"تحليل مشتريات الأصناف":"تحليل مبيعات الأصناف",col2:"",col3:"",col4:""},{col1:`الاسم: ${d.name}`,col2:"",col3:`الفترة: ${new Date(C).toLocaleDateString("ar-EG")} - ${new Date(V).toLocaleDateString("ar-EG")}`,col4:""},{col1:"",col2:"",col3:"",col4:""},{col1:"الصنف",col2:"الكمية",col3:"متوسط السعر",col4:"الإجمالي"},...L.map(l=>({col1:l.name,col2:l.qty,col3:l.avgPrice,col4:l.total})),{col1:"",col2:"",col3:"",col4:""},{col1:"الإجمالي",col2:i,col3:"-",col4:c}],n=[{s:{r:0,c:0},e:{r:0,c:3}},{s:{r:1,c:0},e:{r:1,c:1}},{s:{r:1,c:2},e:{r:1,c:3}}]}const s=De.utils.json_to_sheet(t,{skipHeader:!0});s["!merges"]=n;const u=De.utils.book_new();De.utils.book_append_sheet(u,s,"Statement"),s["!cols"]=[{wch:18},{wch:25},{wch:50},{wch:18},{wch:18},{wch:20}];const x=De.utils.decode_range(s["!ref"]||"A1");for(let i=x.s.r;i<=x.e.r;++i)for(let c=x.s.c;c<=x.e.c;++c){const l=De.utils.encode_cell({r:i,c});if(!s[l])continue;s[l].s||(s[l].s={}),s[l].s={font:{name:"Calibri",sz:12},border:{top:{style:"thin",color:{rgb:"CBD5E1"}},bottom:{style:"thin",color:{rgb:"CBD5E1"}},left:{style:"thin",color:{rgb:"CBD5E1"}},right:{style:"thin",color:{rgb:"CBD5E1"}}},alignment:{horizontal:"right",vertical:"center",wrapText:!0,readingOrder:2}},i===0&&(s[l].s.font={name:"Calibri",bold:!0,sz:18,color:{rgb:"FFFFFF"}},s[l].s.fill={fgColor:{rgb:"1E3A8A"}},s[l].s.alignment={...s[l].s.alignment,horizontal:"center"},s[l].s.border={bottom:{style:"medium",color:{rgb:"F59E0B"}}}),i===1&&(s[l].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"1E293B"}},s[l].s.fill={fgColor:{rgb:"F1F5F9"}});const f=s[l].v;["التاريخ","نوع الحركة","تفاصيل الأصناف","مدين","دائن","الرصيد","رقم الفاتورة","النوع","المبلغ","الصنف","الكمية","السعر","الإجمالي","متوسط السعر"].includes(f)&&(s[l].s.font={name:"Calibri",bold:!0,sz:12,color:{rgb:"FFFFFF"}},s[l].s.fill={fgColor:{rgb:"334155"}},s[l].s.alignment={...s[l].s.alignment,horizontal:"center"},s[l].s.border={bottom:{style:"medium",color:{rgb:"94A3B8"}},top:{style:"thin",color:{rgb:"94A3B8"}},left:{style:"thin",color:{rgb:"94A3B8"}},right:{style:"thin",color:{rgb:"94A3B8"}}}),(f==="رصيد افتتاحي"||f==="رصيد ما قبل الفترة")&&(s[l].s.fill={fgColor:{rgb:"FEF3C7"}},s[l].s.font={name:"Calibri",bold:!0}),["الملخص المالي","إجمالي مدين","إجمالي دائن","الرصيد الختامي","الإجمالي"].includes(f)&&(s[l].s.font={name:"Calibri",bold:!0,sz:12},s[l].s.fill={fgColor:{rgb:"E2E8F0"}},i===t.length-2&&(s[l].s.border.top={style:"double",color:{rgb:"475569"}})),typeof s[l].v=="number"&&s[l].v!==0&&(s[l].z="#,##0.00",c===3?s[l].s.font={...s[l].s.font,color:{rgb:"047857"}}:c===4?s[l].s.font={...s[l].s.font,color:{rgb:"BE123C"}}:c===5&&(s[l].s.font={...s[l].s.font,bold:!0},s[l].s.fill={fgColor:{rgb:"F8FAFC"}})),i>3&&i<t.length-2&&!s[l].s.fill&&(i%2===0?s[l].s.fill={fgColor:{rgb:"FFFFFF"}}:s[l].s.fill={fgColor:{rgb:"F8FAFC"}})}s["!freeze"]={xSplit:0,ySplit:4},De.writeFile(u,a,{cellStyles:!0})};return e.jsxDEV("div",{className:"space-y-6 h-full flex flex-col relative p-6 rounded-[2.5rem] bg-white/80 backdrop-blur-xl border border-white/60 shadow-2xl overflow-hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(45deg, #000 0, #000 1px, transparent 0, transparent 50%)",backgroundSize:"20px 20px"}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1445,columnNumber:13},void 0),oe&&Z&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-slate-900/80 flex items-center justify-center p-2 backdrop-blur-sm animate-fade-in",children:e.jsxDEV("div",{className:"bg-white w-[98vw] h-[96vh] rounded-xl overflow-hidden flex flex-col shadow-2xl border border-slate-200",children:[e.jsxDEV("div",{className:"px-4 py-2 border-b border-slate-200 flex justify-between items-center bg-gradient-to-r from-slate-50 to-white shrink-0",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-base",children:[e.jsxDEV(Ft,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1456,columnNumber:104},void 0)," عرض / تعديل المعاملة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1456,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-rose-500 hover:bg-rose-50 p-2 rounded-lg transition-all flex items-center gap-2 text-sm font-medium",children:[e.jsxDEV("span",{className:"hidden sm:inline",children:"إغلاق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1458,columnNumber:33},void 0),e.jsxDEV(Ze,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1459,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1457,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1455,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-slate-50 min-h-0",children:[o.INVOICE_SALE,o.INVOICE_PURCHASE,o.RETURN_SALE,o.RETURN_PURCHASE].includes(oe.type)?e.jsxDEV(wt,{config:se(oe.type),initialData:oe,partners:N,warehouses:D,systemConfig:F,invoicesHistory:h,onSave:(t,a)=>{Z&&Z(t,a),A(null)},onCancel:()=>A(null),onDelete:I?t=>{I(t),A(null)}:void 0},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1464,columnNumber:33},void 0):[o.PAYMENT,o.RECEIPT].includes(oe.type)?e.jsxDEV("div",{className:"p-6",children:e.jsxDEV(qt,{partners:N,transactions:h,accounts:re,banks:xe,cheques:K,onSaveTransaction:(t,a,n)=>{Z&&Z(t,a,n),A(null)},onDeleteInvoice:I?t=>{I(t),A(null)}:void 0,isSupplier:v,config:Ce(oe),initialTransactionId:oe.id},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1477,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1476,columnNumber:33},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-slate-400",children:"نوع المعاملة غير مدعوم للعرض التفصيلي حالياً"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1491,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1462,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1454,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1453,columnNumber:17},void 0),e.jsxDEV("div",{className:`p-4 sm:p-8 rounded-2xl sm:rounded-3xl shadow-xl mb-4 sm:mb-6 relative overflow-hidden group ${v?"bg-gradient-to-r from-amber-700 via-orange-600 to-red-700":"bg-gradient-to-r from-blue-700 via-indigo-600 to-violet-700"}`,children:[e.jsxDEV("div",{className:"hidden sm:block absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-white/10 rounded-full blur-3xl transition-transform group-hover:scale-110 duration-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1501,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden sm:block absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-black/20 rounded-full blur-3xl transition-transform group-hover:scale-110 duration-700"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1502,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col xl:flex-row justify-between items-start gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3 sm:gap-4 w-full xl:flex-1 text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxDEV("div",{className:"p-2 sm:p-3 bg-white/10 backdrop-blur-md rounded-xl sm:rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(Ye,{size:24,className:"sm:w-8 sm:h-8 text-white",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1509,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1508,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-xl sm:text-3xl font-black tracking-tight drop-shadow-sm",children:["كشف حساب ",v?"مورد":"عميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1512,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-white/80 text-xs sm:text-sm font-bold mt-0.5 sm:mt-1",children:"التقارير المالية / كشوف الحسابات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1513,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1511,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1507,columnNumber:25},void 0),e.jsxDEV("div",{className:"lg:mr-8 w-full lg:w-80",children:[e.jsxDEV("label",{className:"block text-[10px] sm:text-xs font-black text-white/80 uppercase mb-1 sm:mb-2 tracking-wider",children:["اختر ",v?"المورد":"العميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1519,columnNumber:29},void 0),e.jsxDEV(Le,{options:R.map(t=>({id:t.id,label:`${t.name} (${t.calculatedBalance.toLocaleString()})`,subLabel:t.phone||"No Phone"})),value:g,onChange:de,placeholder:"ابحث بالاسم..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1520,columnNumber:29},void 0),d&&e.jsxDEV("div",{className:"mt-2 sm:mt-3 bg-white/10 backdrop-blur-sm px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:`flex items-center justify-center text-xs sm:text-sm font-black w-7 h-7 sm:w-8 sm:h-8 rounded-lg shadow-inner flex-shrink-0 ${v?"bg-amber-500 text-white":"bg-blue-500 text-white"}`,children:d.name.charAt(0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1534,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"text-xs sm:text-sm font-black text-white truncate",children:d.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1538,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-[10px] sm:text-xs text-white/70 font-mono",children:d.phone||""},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1539,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1537,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1533,columnNumber:37},void 0),b&&e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-white/10 flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-[10px] sm:text-xs text-white/60 font-bold",children:"الرصيد:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1545,columnNumber:45},void 0),e.jsxDEV("span",{className:`text-sm sm:text-base font-black font-mono ${b.endingBalance>=0?"text-emerald-300":"text-rose-300"}`,dir:"ltr",children:j(b.endingBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1546,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1544,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1531,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1518,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1506,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 sm:gap-4 w-full xl:w-auto",children:[e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 w-full justify-start sm:justify-end",children:[e.jsxDEV("div",{className:"flex bg-white/10 backdrop-blur-md p-1 sm:p-1.5 rounded-xl sm:rounded-2xl border border-white/20 h-[44px] sm:h-[56px] items-center shadow-inner w-full sm:w-auto",children:[e.jsxDEV("button",{onClick:()=>ne("STATEMENT"),className:`flex-1 sm:flex-none px-3 sm:px-5 h-full text-[10px] sm:text-sm font-black rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-1.5 sm:gap-2 whitespace-nowrap ${P==="STATEMENT"?"bg-white shadow-md text-slate-900":"text-white hover:bg-white/10"}`,children:[e.jsxDEV(Vt,{size:18,className:"sm:w-5 sm:h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1565,columnNumber:37},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"تفصيلي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1565,columnNumber:81},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1564,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ne("INVOICES"),className:`flex-1 sm:flex-none px-3 sm:px-5 h-full text-[10px] sm:text-sm font-black rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-1.5 sm:gap-2 whitespace-nowrap ${P==="INVOICES"?"bg-white shadow-md text-slate-900":"text-white hover:bg-white/10"}`,children:[e.jsxDEV(St,{size:18,className:"sm:w-5 sm:h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1568,columnNumber:37},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"ملخص"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1568,columnNumber:88},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1567,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ne("INVOICES_DETAILED"),className:`flex-1 sm:flex-none px-3 sm:px-5 h-full text-[10px] sm:text-sm font-black rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-1.5 sm:gap-2 whitespace-nowrap ${P==="INVOICES_DETAILED"?"bg-white shadow-md text-slate-900":"text-white hover:bg-white/10"}`,children:[e.jsxDEV(Ue,{size:18,className:"sm:w-5 sm:h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1571,columnNumber:37},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"فواتير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1571,columnNumber:83},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1570,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>ne("ITEMS"),className:`flex-1 sm:flex-none px-3 sm:px-5 h-full text-[10px] sm:text-sm font-black rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-1.5 sm:gap-2 whitespace-nowrap ${P==="ITEMS"?"bg-white shadow-md text-slate-900":"text-white hover:bg-white/10"}`,children:[e.jsxDEV(kt,{size:18,className:"sm:w-5 sm:h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1574,columnNumber:37},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"أصناف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1574,columnNumber:84},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1573,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1563,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 bg-white/10 backdrop-blur-md px-3 sm:px-5 py-2 rounded-xl sm:rounded-2xl border border-white/20 h-[44px] sm:h-[56px] shadow-sm",children:[e.jsxDEV("span",{className:"text-xs sm:text-sm font-black text-white",children:"دمج"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1580,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>pe(!T),className:`w-10 sm:w-12 h-6 sm:h-7 rounded-full transition-colors flex items-center px-0.5 ${T?"bg-emerald-500 shadow-inner":"bg-black/30 shadow-inner"}`,children:e.jsxDEV("div",{className:`w-5 sm:w-6 h-5 sm:h-6 rounded-full bg-white shadow-md transform transition-transform ${T?"-translate-x-4 sm:-translate-x-5":"translate-x-0"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1585,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1581,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1579,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1560,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row flex-wrap items-stretch sm:items-center gap-2 sm:gap-3 w-full justify-start sm:justify-end",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxDEV("div",{className:"flex items-center bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-1.5 shadow-sm focus-within:bg-white/20 transition-all h-[40px] sm:h-[56px] w-full sm:w-auto",children:[e.jsxDEV("span",{className:"text-[10px] sm:text-xs font-black text-white/80 px-2 sm:px-3 uppercase tracking-wider whitespace-nowrap",children:"من"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1597,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 sm:w-48",children:e.jsxDEV($e,{value:C,onChange:t=>{J(t),Y("CUSTOM")},className:"bg-transparent text-white placeholder-white/50 border-none focus:ring-0 text-center font-black text-xs sm:text-base h-full w-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1599,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1598,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1596,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-1.5 shadow-sm focus-within:bg-white/20 transition-all h-[40px] sm:h-[56px] w-full sm:w-auto",children:[e.jsxDEV("span",{className:"text-[10px] sm:text-xs font-black text-white/80 px-2 sm:px-3 uppercase tracking-wider whitespace-nowrap",children:"إلى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1604,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 sm:w-48",children:e.jsxDEV($e,{value:V,onChange:t=>{$(t),Y("CUSTOM")},className:"bg-transparent text-white placeholder-white/50 border-none focus:ring-0 text-center font-black text-xs sm:text-base h-full w-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1606,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1605,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1603,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1594,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar pb-1 sm:pb-0 w-full sm:w-auto",children:[e.jsxDEV("button",{onClick:()=>y("TODAY"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="TODAY"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"اليوم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1613,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>y("WEEK"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="WEEK"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"أسبوع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1614,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>y("MONTH"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="MONTH"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"شهر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1615,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>y("QUARTER"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="QUARTER"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"3 شهور"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1616,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>y("YEAR"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="YEAR"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"سنة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1617,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>y("ALL"),className:`px-3 py-1.5 rounded-lg text-[10px] sm:text-xs font-black whitespace-nowrap transition-all ${G==="ALL"?"bg-white text-slate-900 shadow-md":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"الكل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1618,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1612,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto justify-end",children:[P==="STATEMENT"&&e.jsxDEV("button",{onClick:Be,disabled:!b,className:"bg-white/10 text-white border border-white/20 px-3 sm:px-5 h-[44px] sm:h-[56px] rounded-xl sm:rounded-2xl font-black hover:bg-white/20 disabled:opacity-50 flex items-center justify-center gap-1.5 sm:gap-2 transition-all shadow-sm text-xs sm:text-sm whitespace-nowrap backdrop-blur-md",title:"طباعة مصادقة رصيد",children:[e.jsxDEV(It,{size:18,className:"sm:w-[22px] sm:h-[22px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1630,columnNumber:41},void 0)," ",e.jsxDEV("span",{className:"hidden sm:inline",children:"مصادقة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1630,columnNumber:105},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1624,columnNumber:37},void 0),e.jsxDEV("button",{onClick:Re,disabled:!b,className:"bg-emerald-500/20 text-white border border-emerald-400/30 px-3 sm:px-5 h-[44px] sm:h-[56px] rounded-xl sm:rounded-2xl font-black hover:bg-emerald-500/30 disabled:opacity-50 flex items-center justify-center gap-1.5 sm:gap-2 transition-all shadow-sm text-xs sm:text-sm whitespace-nowrap backdrop-blur-md",title:"تصدير إلى Excel",children:[e.jsxDEV(Mt,{size:18,className:"sm:w-[22px] sm:h-[22px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1639,columnNumber:37},void 0)," ",e.jsxDEV("span",{className:"hidden sm:inline",children:"Excel"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1639,columnNumber:103},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1633,columnNumber:33},void 0),e.jsxDEV("button",{onClick:ue,disabled:!b,className:"bg-white text-slate-900 px-4 sm:px-8 h-[44px] sm:h-[56px] rounded-xl sm:rounded-2xl font-black shadow-lg hover:bg-slate-50 disabled:opacity-50 flex items-center justify-center gap-1.5 sm:gap-3 transition-all text-xs sm:text-sm whitespace-nowrap",children:[e.jsxDEV(Ct,{size:18,className:"sm:w-[22px] sm:h-[22px]"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1646,columnNumber:37},void 0)," ",e.jsxDEV("span",{className:"hidden sm:inline",children:"طباعة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1646,columnNumber:95},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1641,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1622,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1591,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1557,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1504,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1499,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col h-full overflow-hidden relative z-10",children:b?e.jsxDEV("div",{className:"flex-1 bg-white/60 backdrop-blur-md rounded-2xl sm:rounded-[2rem] border border-white/50 overflow-y-auto p-4 sm:p-8 shadow-inner relative no-scrollbar",children:e.jsxDEV("div",{className:"bg-white shadow-2xl mx-auto max-w-full sm:max-w-[95%] min-h-[29.7cm] p-4 sm:p-12 relative text-slate-800 animate-fade-in rounded-xl ring-1 ring-slate-900/5",children:[e.jsxDEV("div",{className:`flex justify-between items-start border-b-4 border-${w}-600 pb-6 mb-8`,children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-3xl font-extrabold text-slate-900",children:P==="STATEMENT"?"كشف حساب":P==="INVOICES"?v?"تقرير المشتريات":"تقرير المبيعات":P==="INVOICES_DETAILED"?v?"كشف فواتير مشتريات تفصيلي":"كشف فواتير مبيعات تفصيلي":v?"تحليل مشتريات الأصناف":"تحليل مبيعات الأصناف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1664,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-sm font-bold text-teal-700 uppercase tracking-widest mt-1",children:P==="STATEMENT"?"Statement of Account":P==="INVOICES"?"Invoices Report":P==="INVOICES_DETAILED"?"Detailed Invoices Statement":"Items Analysis"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1667,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1663,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("div",{className:"font-bold text-lg text-slate-900",children:ze.companyName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1672,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 mt-1",children:ze.companyAddress},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1673,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500",children:ze.companyPhone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1674,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1671,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1662,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 mb-8",children:[e.jsxDEV("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-200",children:[e.jsxDEV("div",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:["بيانات ",v?"المورد":"العميل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1681,columnNumber:37},void 0),e.jsxDEV("div",{className:"font-bold text-slate-900 text-xl",children:d?.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1682,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-sm text-slate-600 font-medium",children:d?.address},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1683,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-sm text-slate-600 font-medium",children:d?.phone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1684,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1680,columnNumber:33},void 0),e.jsxDEV("div",{className:"text-right md:text-left pt-2",children:[e.jsxDEV("div",{className:"flex justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-slate-600 font-bold",children:"تاريخ الإصدار:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1688,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-slate-900",children:new Date().toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1689,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1687,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-slate-600 font-bold",children:"الفترة من:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1692,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-slate-900",children:new Date(C).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1693,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1691,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-sm text-slate-600 font-bold",children:"إلى:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1696,columnNumber:41},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-slate-900",children:new Date(V).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1697,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1695,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1686,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1679,columnNumber:29},void 0),P==="STATEMENT"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-10",children:[e.jsxDEV("div",{className:"p-3 sm:p-6 bg-white border border-slate-200 rounded-xl sm:rounded-3xl shadow-sm hover:shadow-xl transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 bg-slate-100 rounded-full -mr-8 sm:-mr-10 -mt-8 sm:-mt-10 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1709,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs sm:text-sm font-black text-slate-500 mb-1 sm:mb-3 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1711,columnNumber:49},void 0),"رصيد سابق"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1710,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-black text-slate-800 text-xl sm:text-3xl font-mono relative z-10",dir:"ltr",children:j(b.openingBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1714,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1708,columnNumber:41},void 0),e.jsxDEV("div",{className:"p-3 sm:p-6 bg-gradient-to-br from-emerald-50 to-white border border-emerald-100 rounded-xl sm:rounded-3xl shadow-sm hover:shadow-xl transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 bg-emerald-100/50 rounded-full -mr-8 sm:-mr-10 -mt-8 sm:-mt-10 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1719,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs sm:text-sm font-black text-emerald-700 mb-1 sm:mb-3 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1721,columnNumber:49},void 0),"إجمالي مدين"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1720,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-black text-emerald-700 text-xl sm:text-3xl font-mono relative z-10",dir:"ltr",children:b.totalDebit.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1724,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1718,columnNumber:41},void 0),e.jsxDEV("div",{className:"p-3 sm:p-6 bg-gradient-to-br from-rose-50 to-white border border-rose-100 rounded-xl sm:rounded-3xl shadow-sm hover:shadow-xl transition-all relative overflow-hidden group",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 bg-rose-100/50 rounded-full -mr-8 sm:-mr-10 -mt-8 sm:-mt-10 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1729,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs sm:text-sm font-black text-rose-700 mb-1 sm:mb-3 uppercase tracking-wider flex items-center gap-2 relative z-10",children:[e.jsxDEV("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1731,columnNumber:49},void 0),"إجمالي دائن"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1730,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-black text-rose-700 text-xl sm:text-3xl font-mono relative z-10",dir:"ltr",children:b.totalCredit.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1734,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1728,columnNumber:41},void 0),e.jsxDEV("div",{className:`p-4 sm:p-6 text-white rounded-xl sm:rounded-3xl shadow-2xl relative overflow-hidden group ${v?"bg-gradient-to-br from-amber-600 to-orange-700":"bg-gradient-to-br from-blue-600 to-indigo-700"}`,children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-24 sm:w-32 h-24 sm:h-32 bg-white/10 rounded-full -mr-10 sm:-mr-12 -mt-10 sm:-mt-12 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1739,columnNumber:45},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-24 sm:w-32 h-24 sm:h-32 bg-black/10 rounded-full -ml-10 sm:-ml-12 -mb-10 sm:-mb-12 transition-transform group-hover:scale-150"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1740,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs sm:text-sm font-black text-white/90 mb-1 sm:mb-3 uppercase tracking-wider relative z-10",children:"الرصيد الختامي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1742,columnNumber:45},void 0),e.jsxDEV("div",{className:"font-black text-2xl sm:text-4xl relative z-10 font-mono drop-shadow-md",dir:"ltr",children:j(b.endingBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1743,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1738,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1706,columnNumber:37},void 0),e.jsxDEV("div",{className:"border border-slate-200 rounded-xl overflow-hidden mb-8",children:[e.jsxDEV("div",{className:"md:hidden",children:[e.jsxDEV("div",{className:"bg-yellow-50 border-b border-slate-200 p-4",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-xs text-slate-600 mb-1",children:"رصيد ما قبل الفترة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1755,columnNumber:57},void 0),e.jsxDEV("div",{className:"font-bold text-slate-800",children:"Opening Balance"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1756,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1754,columnNumber:53},void 0),e.jsxDEV("div",{className:"font-bold text-lg text-slate-800 font-mono",dir:"ltr",children:j(b.openingBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1758,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1753,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1752,columnNumber:45},void 0),e.jsxDEV("div",{className:"divide-y divide-slate-100",children:O.length===0?e.jsxDEV("div",{className:"py-12 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-2 text-slate-400",children:[e.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center",children:e.jsxDEV(qe,{size:20,className:"text-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1768,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1767,columnNumber:61},void 0),e.jsxDEV("p",{className:"italic text-sm",children:"لا توجد حركات خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1770,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1766,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1765,columnNumber:53},void 0):O.map((t,a)=>e.jsxDEV("div",{className:`p-3 transition-colors cursor-pointer border-b border-slate-100 ${a%2===0?"bg-white hover:bg-indigo-50/30":v?"bg-amber-50/30 hover:bg-amber-50/50":"bg-blue-50/30 hover:bg-blue-50/50"}`,onClick:()=>te(t),title:"اضغط للتفاصيل والتعديل",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-black ${v?"bg-gradient-to-br from-amber-500 to-orange-500":"bg-gradient-to-br from-blue-500 to-indigo-500"}`,children:a+1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1789,columnNumber:69},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-black text-slate-700 text-sm",children:t.label},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1796,columnNumber:73},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-400 font-mono",children:["#",t.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1797,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1795,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1788,columnNumber:65},void 0),e.jsxDEV("div",{className:"text-[10px] text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded",children:new Date(t.date).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1800,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1787,columnNumber:61},void 0),t.hasInvoiceLines&&t.lines?e.jsxDEV("div",{className:"mb-2 space-y-1",children:[t.lines.slice(0,3).map((n,s)=>e.jsxDEV("div",{className:"flex items-center justify-between gap-2 bg-slate-50 px-2 py-1 rounded border border-slate-100 text-[10px]",children:[e.jsxDEV("span",{className:"font-bold text-slate-700 truncate flex-1",title:n.productName,children:n.productName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1810,columnNumber:77},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsxDEV("span",{className:"bg-blue-100 text-blue-700 px-1 rounded font-black",children:n.quantity},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1812,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-slate-400",children:"×"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1813,columnNumber:81},void 0),e.jsxDEV("span",{className:"bg-emerald-100 text-emerald-700 px-1 rounded font-black",children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1814,columnNumber:81},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1811,columnNumber:77},void 0)]},s,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1809,columnNumber:73},void 0)),t.lines.length>3&&e.jsxDEV("div",{className:"text-[9px] text-slate-400 text-center",children:["+",t.lines.length-3," أصناف أخرى"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1819,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1807,columnNumber:65},void 0):t.displayNotes&&t.displayNotes!=="-"?e.jsxDEV("div",{className:"text-[10px] text-slate-500 mb-2 leading-relaxed truncate",title:t.notes,children:t.displayNotes},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1823,columnNumber:65},void 0):null,e.jsxDEV("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e.jsxDEV("div",{className:"bg-emerald-50 p-1.5 rounded-lg border border-emerald-100 overflow-hidden",children:[e.jsxDEV("div",{className:"text-[8px] text-emerald-600 font-black mb-0.5 text-center",children:"مدين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1831,columnNumber:69},void 0),e.jsxDEV("div",{className:"font-mono font-black text-emerald-700 text-center text-[11px] truncate",dir:"ltr",children:t.debit>0?t.debit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1832,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1830,columnNumber:65},void 0),e.jsxDEV("div",{className:"bg-rose-50 p-1.5 rounded-lg border border-rose-100 overflow-hidden",children:[e.jsxDEV("div",{className:"text-[8px] text-rose-600 font-black mb-0.5 text-center",children:"دائن"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1835,columnNumber:69},void 0),e.jsxDEV("div",{className:"font-mono font-black text-rose-700 text-center text-[11px] truncate",dir:"ltr",children:t.credit>0?t.credit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1836,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1834,columnNumber:65},void 0),e.jsxDEV("div",{className:`p-1.5 rounded-lg border overflow-hidden ${v?"bg-amber-100 border-amber-200":"bg-blue-100 border-blue-200"}`,children:[e.jsxDEV("div",{className:`text-[8px] font-black mb-0.5 text-center ${v?"text-amber-700":"text-blue-700"}`,children:"الرصيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1842,columnNumber:69},void 0),e.jsxDEV("div",{className:`font-mono font-black text-center text-[11px] truncate ${v?"text-amber-800":"text-blue-800"}`,dir:"ltr",children:j(t.runningBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1843,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1838,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1829,columnNumber:61},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1775,columnNumber:57},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1763,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1750,columnNumber:41},void 0),e.jsxDEV("table",{className:"hidden md:table w-full text-right text-sm border-collapse",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white border-b border-slate-900 shadow-md",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"py-5 px-5 font-black w-36 rounded-tr-xl",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1856,columnNumber:53},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black w-48",children:"نوع الحركة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1857,columnNumber:53},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black",children:"تفاصيل الأصناف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1858,columnNumber:53},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-32 bg-emerald-900/30 text-emerald-300",children:"مدين"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1859,columnNumber:53},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-32 bg-rose-900/30 text-rose-300",children:"دائن"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1860,columnNumber:53},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-36 rounded-tl-xl bg-indigo-900/30 text-indigo-200",children:"الرصيد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1861,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1855,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1854,columnNumber:45},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[e.jsxDEV("tr",{className:"bg-yellow-50/50",children:[e.jsxDEV("td",{className:"py-4 px-4 text-slate-400 text-center font-mono font-bold",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1866,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-4 px-4 font-black text-slate-700",colSpan:2,children:e.jsxDEV("span",{className:"inline-flex items-center gap-2",children:[e.jsxDEV("span",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400 shadow-sm"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1869,columnNumber:61},void 0),"رصيد ما قبل الفترة (Opening Balance)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1868,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1867,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-4 px-4 text-center text-slate-400 bg-emerald-50/10 font-bold",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1873,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-4 px-4 text-center text-slate-400 bg-rose-50/10 font-bold",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1874,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-4 px-4 text-center font-black bg-yellow-100/30 text-slate-800 font-mono",dir:"ltr",children:j(b.openingBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1875,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1865,columnNumber:49},void 0),O.map((t,a)=>e.jsxDEV("tr",{className:`group transition-all duration-200 cursor-pointer hover:bg-white hover:shadow-md hover:scale-[1.005] hover:z-10 relative ${a%2===0?"bg-white":v?"bg-amber-50/40":"bg-blue-50/40"}`,onClick:()=>te(t),title:"اضغط للتفاصيل والتعديل",children:[e.jsxDEV("td",{className:`py-5 px-5 font-mono font-bold text-slate-700 border-l-4 border-transparent group-hover:border-${w}-500 transition-all`,children:new Date(t.date).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1884,columnNumber:57},void 0),e.jsxDEV("td",{className:"py-5 px-5",children:[e.jsxDEV("span",{className:`font-black text-slate-800 block text-base group-hover:text-${w}-700 transition-colors`,children:t.label},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1886,columnNumber:61},void 0),e.jsxDEV("span",{className:`text-xs text-slate-500 font-mono font-bold group-hover:text-${w}-600 transition-colors bg-white px-1.5 py-0.5 rounded border border-slate-200 inline-block mt-1`,children:["#",t.number||t.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1887,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1885,columnNumber:57},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-slate-700 text-sm max-w-[350px]",title:t.notes,children:t.hasInvoiceLines&&t.lines?e.jsxDEV("div",{className:"space-y-1.5",children:t.lines.map((n,s)=>e.jsxDEV("div",{className:"flex items-center gap-2 bg-gradient-to-r from-slate-50 to-white px-2.5 py-1.5 rounded-lg border border-slate-100 hover:border-slate-200 hover:shadow-sm transition-all",children:[e.jsxDEV("span",{className:"font-bold text-slate-800 flex-1 truncate",title:n.productName,children:n.productName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1894,columnNumber:77},void 0),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs shrink-0",children:[e.jsxDEV("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded font-black",children:n.quantity},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1896,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-slate-400",children:"×"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1897,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-slate-600 font-mono",children:n.price.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1898,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-slate-400",children:"="},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1899,columnNumber:81},void 0),e.jsxDEV("span",{className:"bg-emerald-100 text-emerald-700 px-1.5 py-0.5 rounded font-black font-mono",children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1900,columnNumber:81},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1895,columnNumber:77},void 0)]},s,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1893,columnNumber:73},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1891,columnNumber:65},void 0):e.jsxDEV("span",{className:"text-slate-500 font-medium",children:t.displayNotes},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1906,columnNumber:65},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1889,columnNumber:57},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center font-mono font-black text-emerald-700 bg-emerald-50/10 group-hover:bg-emerald-100/30 transition-colors text-lg",children:t.debit>0?t.debit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1909,columnNumber:57},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center font-mono font-black text-rose-700 bg-rose-50/10 group-hover:bg-rose-100/30 transition-colors text-lg",children:t.credit>0?t.credit.toLocaleString():"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1910,columnNumber:57},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center font-mono font-black text-slate-900 bg-slate-50/50 group-hover:bg-indigo-50/50 transition-colors text-lg",dir:"ltr",children:j(t.runningBalance)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1911,columnNumber:57},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1878,columnNumber:53},void 0)),b.transactions.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:6,className:"py-16 text-center",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center gap-3 text-slate-400",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-slate-50 flex items-center justify-center",children:e.jsxDEV(qe,{size:24,className:"text-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1919,columnNumber:69},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1918,columnNumber:65},void 0),e.jsxDEV("p",{className:"italic",children:"لا توجد حركات خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1921,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1917,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1916,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1915,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1864,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1853,columnNumber:41},void 0),b.transactions.length>ee&&e.jsxDEV("div",{className:"p-4 border-t border-slate-200 bg-slate-50 flex flex-col sm:flex-row justify-between items-center gap-3",children:[e.jsxDEV("div",{className:"text-sm text-slate-600",children:["عرض ",e.jsxDEV("span",{className:"font-bold text-slate-800",children:(Q-1)*ee+1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1933,columnNumber:57},void 0)," -",e.jsxDEV("span",{className:"font-bold text-slate-800",children:[" ",Math.min(Q*ee,b.transactions.length)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1934,columnNumber:53},void 0)," من",e.jsxDEV("span",{className:"font-bold text-slate-800",children:[" ",b.transactions.length]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1935,columnNumber:53},void 0)," حركة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1932,columnNumber:49},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>ie(t=>Math.max(1,t-1)),disabled:Q===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"الصفحة السابقة",children:e.jsxDEV(Rt,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1944,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1938,columnNumber:53},void 0),e.jsxDEV("span",{className:"px-4 py-2 bg-white border border-slate-300 rounded-lg text-sm font-bold flex items-center",children:[Q," / ",Math.ceil(b.transactions.length/ee)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1946,columnNumber:53},void 0),e.jsxDEV("button",{onClick:()=>ie(t=>Math.min(Math.ceil(b.transactions.length/ee),t+1)),disabled:Q===Math.ceil(b.transactions.length/ee),className:"p-2 rounded-lg border border-slate-300 hover:bg-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"الصفحة التالية",children:e.jsxDEV(ht,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1955,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1949,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1937,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1931,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1748,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1704,columnNumber:33},void 0),P==="INVOICES"&&e.jsxDEV("div",{className:"border border-slate-200 rounded-xl overflow-hidden mb-8",children:[e.jsxDEV("div",{className:"md:hidden divide-y divide-slate-100",children:[U.map((t,a)=>e.jsxDEV("div",{className:"p-4 bg-white hover:bg-indigo-50/30 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-700 font-mono",children:t.number||t.id},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1973,columnNumber:57},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 mt-0.5",children:p(t.type)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1974,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1972,columnNumber:53},void 0),e.jsxDEV("div",{className:"text-xs text-slate-400 font-mono",children:new Date(t.date).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1976,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1971,columnNumber:49},void 0),e.jsxDEV("div",{className:`text-lg font-bold font-mono text-center p-2 rounded ${t.type.includes("RETURN")?"bg-rose-50 text-rose-600":"bg-slate-100 text-slate-800"}`,children:(t.type.includes("RETURN")?-t.total:t.total).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1978,columnNumber:49},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1970,columnNumber:45},void 0)),e.jsxDEV("div",{className:"bg-slate-100 font-bold p-4",children:e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-600",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1985,columnNumber:49},void 0),e.jsxDEV("span",{className:"text-slate-900 text-lg",children:U.reduce((t,a)=>t+(a.type.includes("RETURN")?-a.total:a.total),0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1986,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1984,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1983,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1968,columnNumber:37},void 0),e.jsxDEV("table",{className:"hidden md:table w-full text-right text-sm border-collapse",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white border-b border-slate-900 shadow-md",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"py-5 px-5 font-black w-40 rounded-tr-xl",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1995,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black w-40",children:"رقم الفاتورة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1996,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black",children:"النوع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1997,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-40 rounded-tl-xl bg-indigo-900/30 text-indigo-200",children:"القيمة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1998,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1994,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1993,columnNumber:41},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[U.map((t,a)=>e.jsxDEV("tr",{className:`group transition-all duration-200 cursor-pointer hover:bg-white hover:shadow-md hover:scale-[1.005] hover:z-10 relative ${a%2===0?"bg-white":"bg-slate-50/40"}`,children:[e.jsxDEV("td",{className:"py-5 px-5 font-mono font-bold text-slate-500 border-l-4 border-transparent group-hover:border-indigo-500 transition-all",children:new Date(t.date).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2004,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-5 px-5 font-black text-slate-700 font-mono text-base",children:["#",t.number||t.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2005,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-slate-700 font-bold",children:p(t.type)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2006,columnNumber:53},void 0),e.jsxDEV("td",{className:`py-5 px-5 text-center font-mono font-black text-lg ${t.type.includes("RETURN")?"text-rose-600 bg-rose-50/10":"text-slate-800 bg-slate-50/10"}`,children:(t.type.includes("RETURN")?-t.total:t.total).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2007,columnNumber:53},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2003,columnNumber:49},void 0)),e.jsxDEV("tr",{className:"bg-slate-100 font-black border-t-2 border-slate-300",children:[e.jsxDEV("td",{colSpan:3,className:"py-5 px-5 text-center text-slate-600 text-base",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2013,columnNumber:49},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center text-slate-900 text-xl font-mono bg-slate-200/50",children:U.reduce((t,a)=>t+(a.type.includes("RETURN")?-a.total:a.total),0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2014,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2012,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2001,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1992,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1966,columnNumber:33},void 0),P==="INVOICES_DETAILED"&&e.jsxDEV("div",{className:"space-y-6",children:[U.map(t=>e.jsxDEV("div",{className:"border border-slate-200 rounded-xl overflow-hidden break-inside-avoid bg-white shadow-sm hover:shadow-md transition-shadow",children:[e.jsxDEV("div",{className:"bg-slate-50 p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 border-b border-slate-200",children:[e.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxDEV("span",{className:"font-bold text-slate-800 text-sm",children:[p(t.type)," #",t.number||t.id]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2030,columnNumber:53},void 0),e.jsxDEV("span",{className:"text-xs text-slate-500 bg-white px-2 py-0.5 rounded border border-slate-200 font-mono",children:new Date(t.date).toLocaleDateString("ar-EG")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2031,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2029,columnNumber:49},void 0),e.jsxDEV("div",{className:`font-bold font-mono text-lg ${t.type.includes("RETURN")?"text-rose-600":"text-slate-900"}`,children:(t.type.includes("RETURN")?-t.total:t.total).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2033,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2028,columnNumber:45},void 0),t.lines&&t.lines.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden divide-y divide-slate-50",children:t.lines.map((a,n)=>e.jsxDEV("div",{className:"p-3 hover:bg-slate-50/50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-slate-700 text-sm mb-1",children:a.productName||"صنف غير معروف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2045,columnNumber:65},void 0),e.jsxDEV("div",{className:"flex justify-between items-center text-xs",children:[e.jsxDEV("div",{className:"text-slate-500 font-mono",children:[a.quantity," × ",(a.price||0).toLocaleString()]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2047,columnNumber:69},void 0),e.jsxDEV("div",{className:"font-bold text-slate-800 font-mono",children:(a.total||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2050,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2046,columnNumber:65},void 0)]},n,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2044,columnNumber:61},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2042,columnNumber:53},void 0),e.jsxDEV("table",{className:"hidden md:table w-full text-right text-xs",children:[e.jsxDEV("thead",{className:"bg-slate-50/50 text-slate-500 border-b border-slate-100",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3 font-medium",children:"الصنف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2062,columnNumber:65},void 0),e.jsxDEV("th",{className:"p-3 text-center w-24 font-medium",children:"الكمية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2063,columnNumber:65},void 0),e.jsxDEV("th",{className:"p-3 text-center w-24 font-medium",children:"السعر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2064,columnNumber:65},void 0),e.jsxDEV("th",{className:"p-3 text-center w-32 font-medium",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2065,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2061,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2060,columnNumber:57},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-50",children:t.lines.map((a,n)=>e.jsxDEV("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsxDEV("td",{className:"p-3 font-medium text-slate-700",children:a.productName||"صنف غير معروف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2071,columnNumber:69},void 0),e.jsxDEV("td",{className:"p-3 text-center text-slate-600 font-mono",children:a.quantity},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2072,columnNumber:69},void 0),e.jsxDEV("td",{className:"p-3 text-center text-slate-600 font-mono",children:(a.price||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2073,columnNumber:69},void 0),e.jsxDEV("td",{className:"p-3 text-center font-bold text-slate-800 font-mono",children:(a.total||0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2074,columnNumber:69},void 0)]},n,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2070,columnNumber:65},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2068,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2059,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2040,columnNumber:49},void 0):e.jsxDEV("div",{className:"p-4 text-center text-slate-400 bg-slate-50 text-sm",children:e.jsxDEV("span",{className:"opacity-70",children:"لا توجد تفاصيل للأصناف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2082,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2081,columnNumber:49},void 0)]},t.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2027,columnNumber:41},void 0)),U.length===0&&e.jsxDEV("div",{className:"py-16 text-center text-slate-400 italic border-2 border-dashed border-slate-200 rounded-xl flex flex-col items-center gap-2",children:[e.jsxDEV(Ue,{size:32,className:"text-slate-300"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2089,columnNumber:45},void 0),e.jsxDEV("span",{children:"لا توجد فواتير خلال الفترة المحددة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2090,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2088,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2025,columnNumber:33},void 0),P==="ITEMS"&&e.jsxDEV("div",{className:"border border-slate-200 rounded-xl overflow-hidden mb-8",children:[e.jsxDEV("div",{className:"md:hidden divide-y divide-slate-100",children:[L.map((t,a)=>e.jsxDEV("div",{className:"p-4 bg-white hover:bg-indigo-50/30 transition-colors",children:[e.jsxDEV("div",{className:"font-bold text-slate-700 mb-3",children:t.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2103,columnNumber:49},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{className:"bg-slate-50 p-2 rounded",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-500 font-bold mb-0.5",children:"الكمية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2106,columnNumber:57},void 0),e.jsxDEV("div",{className:"font-mono text-slate-900",children:t.qty},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2107,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2105,columnNumber:53},void 0),e.jsxDEV("div",{className:"bg-slate-50 p-2 rounded",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-500 font-bold mb-0.5",children:"متوسط السعر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2110,columnNumber:57},void 0),e.jsxDEV("div",{className:"font-mono text-slate-600",children:t.avgPrice.toLocaleString(void 0,{maximumFractionDigits:2})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2111,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2109,columnNumber:53},void 0),e.jsxDEV("div",{className:"bg-slate-100 p-2 rounded",children:[e.jsxDEV("div",{className:"text-[10px] text-slate-700 font-bold mb-0.5",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2114,columnNumber:57},void 0),e.jsxDEV("div",{className:"font-mono font-bold text-slate-900",children:t.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2115,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2113,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2104,columnNumber:49},void 0)]},a,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2102,columnNumber:45},void 0)),e.jsxDEV("div",{className:"bg-slate-100 font-bold p-4",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-xs text-slate-500",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2123,columnNumber:53},void 0),e.jsxDEV("div",{className:"text-slate-900",children:L.reduce((t,a)=>t+a.qty,0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2124,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2122,columnNumber:49},void 0),e.jsxDEV("div",{className:"text-center text-slate-400",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2126,columnNumber:49},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-xs text-slate-500",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2128,columnNumber:53},void 0),e.jsxDEV("div",{className:"text-slate-900 text-lg",children:L.reduce((t,a)=>t+a.total,0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2129,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2127,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2121,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2120,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2100,columnNumber:37},void 0),e.jsxDEV("table",{className:"hidden md:table w-full text-right text-sm border-collapse",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white border-b border-slate-900 shadow-md",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"py-5 px-5 font-black rounded-tr-xl",children:"الصنف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2139,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-36 bg-white/10",children:"الكمية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2140,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-36 bg-white/5",children:"متوسط السعر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2141,columnNumber:49},void 0),e.jsxDEV("th",{className:"py-5 px-5 font-black text-center w-40 rounded-tl-xl bg-indigo-900/30 text-indigo-200",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2142,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2138,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2137,columnNumber:41},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[L.map((t,a)=>e.jsxDEV("tr",{className:`group transition-all duration-200 cursor-pointer hover:bg-white hover:shadow-md hover:scale-[1.005] hover:z-10 relative ${a%2===0?"bg-white":"bg-slate-50/40"}`,children:[e.jsxDEV("td",{className:"py-5 px-5 font-black text-slate-700 border-l-4 border-transparent group-hover:border-indigo-500 transition-all",children:t.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2148,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center text-slate-600 font-mono font-bold bg-slate-50/30",children:t.qty},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2149,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center font-mono text-slate-500 font-bold",children:t.avgPrice.toLocaleString(void 0,{maximumFractionDigits:2})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2150,columnNumber:53},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center font-mono font-black text-slate-900 text-lg bg-indigo-50/10 group-hover:bg-indigo-100/30 transition-colors",children:t.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2151,columnNumber:53},void 0)]},a,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2147,columnNumber:49},void 0)),e.jsxDEV("tr",{className:"bg-slate-100 font-black border-t-2 border-slate-300",children:[e.jsxDEV("td",{className:"py-5 px-5 text-slate-600 text-base",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2155,columnNumber:49},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center text-slate-900 font-mono text-lg bg-slate-200/30",children:L.reduce((t,a)=>t+a.qty,0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2156,columnNumber:49},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2157,columnNumber:49},void 0),e.jsxDEV("td",{className:"py-5 px-5 text-center text-slate-900 text-xl font-mono bg-slate-200/50",children:L.reduce((t,a)=>t+a.total,0).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2158,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2154,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2145,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2136,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2098,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1659,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1657,columnNumber:21},void 0):e.jsxDEV("div",{className:"flex-1 flex flex-col items-center justify-center bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 m-4",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-white rounded-full shadow-sm flex items-center justify-center mb-4 text-slate-300",children:e.jsxDEV(tt,{size:40},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2170,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2169,columnNumber:25},void 0),e.jsxDEV("h3",{className:"text-xl font-bold text-slate-500",children:"لم يتم تحديد حساب"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2172,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-slate-400 mt-2 max-w-xs text-center",children:["الرجاء اختيار ",v?"المورد":"العميل"," من القائمة الجانبية لعرض كشف الحساب"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2173,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:2168,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1655,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerStatement.tsx",lineNumber:1443,columnNumber:9},void 0)};function Yt(N,h=300){const[v,H]=m.useState(N);return m.useEffect(()=>{const re=setTimeout(()=>{H(N)},h);return()=>{clearTimeout(re)}},[N,h]),v}const nn=({isSupplier:N,onViewStatement:h,title:v,showAddButton:H=!0})=>{const[re,xe]=m.useState(""),K=Yt(re,500),[D,F]=m.useState("ALL"),[Z,I]=m.useState(1),k=50,{data:z,isLoading:g,isFetching:de,isError:C}=yt({page:Z,limit:k,search:K,isSupplier:N?!0:void 0,isCustomer:N?void 0:!0,balanceStatus:D==="ALL"?void 0:D}),[J,V]=m.useState([]),[$,G]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const{Capacitor:w}=await Je(async()=>{const{Capacitor:R}=await import("./index-BIcNJgNM.js").then(p=>p.a0);return{Capacitor:R}},__vite__mapDeps([0,1,2,3,4,5]));if(w.isNativePlatform()&&(C||!g&&!z?.partners?.length)){const{unifiedStorage:R}=await Je(async()=>{const{unifiedStorage:j}=await import("./index-BIcNJgNM.js").then(le=>le.a1);return{unifiedStorage:j}},__vite__mapDeps([0,1,2,3,4,5])),y=(await R.getPartners()).filter(j=>N?j.isSupplier:j.isCustomer).map(j=>({id:j.id,code:j.code||"",name:j.name,phone:j.phone,email:j.email,address:j.address,type:j.type,isCustomer:j.isCustomer,isSupplier:j.isSupplier,balance:j.balance}));y.length>0&&(V(y),G(!0))}}catch{}})()},[C,g,z,N]);const Y=m.useMemo(()=>{if($&&J.length>0){let d=J;if(K){const w=K.toLowerCase();d=d.filter(R=>R.name.toLowerCase().includes(w)||R.phone?.toLowerCase().includes(w))}return D==="CREDIT"?d=d.filter(w=>(w.balance||0)<0):D==="DEBIT"?d=d.filter(w=>(w.balance||0)>0):D==="ZERO"&&(d=d.filter(w=>(w.balance||0)===0)),d}return z?.partners||[]},[z,$,J,K,D]),P=m.useMemo(()=>({page:Z,limit:k,total:$?Y.length:z?.pagination?.total||0,totalPages:$?1:z?.pagination?.totalPages||1}),[z,Z,k,$,Y.length]),ne=m.useMemo(()=>{if($){const d=J.reduce((p,y)=>p+(y.balance||0),0),w=J.filter(p=>(p.balance||0)<0).reduce((p,y)=>p+Math.abs(y.balance||0),0),R=J.filter(p=>(p.balance||0)>0).reduce((p,y)=>p+(y.balance||0),0);return{netBalance:d,totalLiabilities:w,totalAssets:R}}return z?.stats||{netBalance:0,totalLiabilities:0,totalAssets:0}},[z,$,J]),[T,pe]=m.useState({isOpen:!1,message:"",type:"info"}),Q=(d,w="info")=>{pe({isOpen:!0,message:d,type:w})};m.useEffect(()=>{I(1)},[K,D,N]);const ie=(d,w,R)=>{if(!d)return Q("رقم الهاتف غير مسجل","warning");const p=Math.abs(R).toLocaleString(),y=R<0?"لكم":"عليكم",j="مرحباً "+w+`،
نود تذكيركم بأن رصيد حسابكم الحالي هو `+p+" ج.م ("+y+`).
يرجى المراجعة.
شكراً لكم.`,le="https://wa.me/"+d.replace(/\D/g,"")+"?text="+encodeURIComponent(j);window.open(le,"_blank")},ee=d=>{navigator.clipboard.writeText(d),Q("تم النسخ!","success")},oe=async()=>{try{Q("جاري تجهيز الملف...","info");const d=await Pt.getPartners({page:1,limit:1e4,search:K,isSupplier:N?!0:void 0,isCustomer:N?void 0:!0,balanceStatus:D==="ALL"?void 0:D}),w=d.partners||[],R=d.stats||ne;if(w.length===0){Q("لا توجد بيانات للتصدير","warning");return}const p=De.utils.book_new(),y={font:{bold:!0,color:{rgb:"FFFFFF"},sz:12},fill:{fgColor:{rgb:N?"D97706":"4F46E5"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}},j={font:{bold:!0,sz:16,color:{rgb:N?"D97706":"4F46E5"}},alignment:{horizontal:"center",vertical:"center"}},le={font:{bold:!0,sz:11,color:{rgb:"64748B"}},alignment:{horizontal:"center"}},b={border:{top:{style:"thin",color:{rgb:"E2E8F0"}},bottom:{style:"thin",color:{rgb:"E2E8F0"}},left:{style:"thin",color:{rgb:"E2E8F0"}},right:{style:"thin",color:{rgb:"E2E8F0"}}},alignment:{horizontal:"right",vertical:"center"}},O={...b,numFmt:"#,##0.00",alignment:{horizontal:"left",vertical:"center"}},U={...O,font:{color:{rgb:"059669"},bold:!0}},L={...O,font:{color:{rgb:"DC2626"},bold:!0}},Be={...O,font:{color:{rgb:"6B7280"}}},ue=new Date().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),te=N?"إجمالي حسابات الموردين":"إجمالي حسابات العملاء",se=[[{v:te,s:j}],[{v:`تاريخ التقرير: ${ue}`,s:le}],[""],[{v:"ملخص الأرصدة",s:{font:{bold:!0,sz:12}}},"",{v:"صافي الأرصدة:",s:{font:{bold:!0}}},{v:Number(R.netBalance),s:Number(R.netBalance)>=0?U:L},{v:"المستحق لهم:",s:{font:{bold:!0}}},{v:Number(R.totalLiabilities),s:L},{v:"المستحق عليهم:",s:{font:{bold:!0}}},{v:Number(R.totalAssets),s:U}],[""],[{v:"#",s:y},{v:"الاسم",s:y},{v:"الهاتف",s:y},{v:"العنوان",s:y},{v:"الرصيد",s:y},{v:"الحالة",s:y},{v:N?"":"حد الائتمان",s:y}]];w.forEach((t,a)=>{const n=t.balance||0,s=n<0?"له (دائن)":n>0?"عليه (مدين)":"خالص",u=n<0?L:n>0?U:Be;se.push([{v:a+1,s:b},{v:t.name,s:b},{v:t.phone||"-",s:{...b,alignment:{horizontal:"left"}}},{v:t.address||"-",s:b},{v:n,s:u},{v:s,s:b},{v:!N&&t.limit?t.limit:"",s:O}])}),se.push([""]),se.push([{v:"",s:{}},{v:`إجمالي: ${w.length} ${N?"مورد":"عميل"}`,s:{font:{bold:!0,sz:11}}},{v:"",s:{}},{v:"",s:{}},{v:Number(R.netBalance),s:{...y,numFmt:"#,##0.00"}},{v:"",s:{}},{v:"",s:{}}]);const Ce=De.utils.aoa_to_sheet(se);Ce["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:25},{wch:15},{wch:12},{wch:15}],Ce["!merges"]=[{s:{r:0,c:0},e:{r:0,c:6}},{s:{r:1,c:0},e:{r:1,c:6}}],De.utils.book_append_sheet(p,Ce,N?"الموردين":"العملاء");const Re=`${te}_${new Date().toISOString().split("T")[0]}.xlsx`;De.writeFile(p,Re),Q("تم تصدير الملف بنجاح!","success")}catch{Q("فشل تصدير الملف","error")}},A=N?"from-amber-600 via-orange-500 to-rose-600":"from-blue-600 via-indigo-600 to-violet-600";return e.jsxDEV("div",{className:"space-y-4 md:space-y-6 animate-fade-in",children:[e.jsxDEV("div",{className:"relative rounded-2xl md:rounded-3xl overflow-hidden",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${A} opacity-95`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:332,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`radial-gradient(circle at 25% 25%, rgba(255,255,255,0.2) 0%, transparent 50%),
                                          radial-gradient(circle at 75% 75%, rgba(255,255,255,0.15) 0%, transparent 50%)`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:335,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4 animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:343,columnNumber:17},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:344,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 p-5 md:p-8",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4 md:mb-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-white/40 blur-xl rounded-full"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:353,columnNumber:33},void 0),e.jsxDEV("div",{className:"relative p-3 md:p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-2xl",children:e.jsxDEV(ot,{className:"w-6 h-6 md:w-8 md:h-8 text-white",strokeWidth:2},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:355,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:354,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:352,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl md:text-4xl font-black text-white tracking-tight",children:v||(N?"إجمالي حسابات الموردين":"إجمالي حسابات العملاء")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:361,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-white/70 text-sm md:text-base mt-1 font-medium",children:["تقرير شامل بأرصدة ",N?"الموردين":"العملاء"," ومتابعة الحسابات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:364,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:360,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:350,columnNumber:25},void 0),e.jsxDEV("button",{onClick:oe,className:"flex items-center gap-2 px-3 md:px-4 py-2.5 md:py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 rounded-xl text-white transition-all hover:scale-105 active:scale-95",title:"تصدير إلى Excel",children:[e.jsxDEV(Tt,{className:"w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:376,columnNumber:29},void 0),e.jsxDEV("span",{className:"hidden md:inline text-sm font-bold",children:"تصدير Excel"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:377,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:371,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:349,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-white/5 blur-sm rounded-xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:383,columnNumber:25},void 0),e.jsxDEV("div",{className:"relative flex items-center",children:[e.jsxDEV("input",{type:"text",placeholder:"بحث بالاسم أو رقم الهاتف...",className:"w-full py-3.5 md:py-4 px-5 pr-12 bg-white/95 backdrop-blur-xl border-2 border-white/30 rounded-xl md:rounded-2xl text-slate-800 font-semibold placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-white/30 transition-all shadow-xl",value:re,onChange:d=>xe(d.target.value)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:385,columnNumber:29},void 0),e.jsxDEV(tt,{className:"absolute right-4 text-slate-400 w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:392,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:384,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:382,columnNumber:21},void 0),H&&e.jsxDEV("button",{className:"mt-4 w-full py-3.5 bg-white text-slate-900 rounded-xl font-bold flex items-center justify-center gap-2 shadow-xl hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all",children:[e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:400,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:399,columnNumber:29},void 0),"إضافة جديد"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:398,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:330,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex md:grid md:grid-cols-3 overflow-x-auto md:overflow-visible gap-4 md:gap-5 pb-4 md:pb-0 snap-x snap-mandatory no-scrollbar",children:[e.jsxDEV("div",{className:"flex-shrink-0 w-[85vw] md:w-auto snap-center relative overflow-hidden rounded-2xl md:rounded-3xl p-5 md:p-6 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 shadow-2xl group",children:[e.jsxDEV("div",{className:`absolute -top-20 -right-20 w-40 h-40 ${N?"bg-amber-500":"bg-indigo-500"} rounded-full blur-3xl opacity-20 group-hover:opacity-30 transition-opacity`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:413,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("span",{className:`text-xs font-bold uppercase tracking-widest ${N?"text-amber-400":"text-indigo-400"}`,children:"صافي الأرصدة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:418,columnNumber:29},void 0),e.jsxDEV("div",{className:`p-2 rounded-lg ${N?"bg-amber-500/20":"bg-indigo-500/20"}`,children:e.jsxDEV(At,{className:`w-4 h-4 ${N?"text-amber-400":"text-indigo-400"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:422,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:421,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:417,columnNumber:25},void 0),g?e.jsxDEV("div",{className:"h-10 w-40 bg-slate-700 rounded-xl animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:427,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[e.jsxDEV("span",{className:`text-3xl md:text-4xl font-black ${Number(ne.netBalance)>=0?"text-emerald-400":"text-rose-400"}`,dir:"ltr",children:Number(ne.netBalance).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:430,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-slate-500 font-bold text-sm",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:433,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:429,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-3 text-slate-400 text-xs font-medium",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${N?"bg-amber-500":"bg-indigo-500"} animate-pulse`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:438,columnNumber:29},void 0),P.total," حساب نشط"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:437,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:416,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:411,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 w-[85vw] md:w-auto snap-center relative overflow-hidden rounded-2xl md:rounded-3xl p-5 md:p-6 bg-white border border-slate-200 shadow-lg group hover:shadow-xl hover:border-rose-200 transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-rose-400 via-rose-500 to-rose-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:447,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-xs font-bold uppercase tracking-wider text-rose-600",children:"المستحق لهم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:451,columnNumber:29},void 0),g?e.jsxDEV("div",{className:"h-8 w-28 bg-slate-100 rounded-lg mt-2 animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:455,columnNumber:33},void 0):e.jsxDEV("div",{className:"flex items-baseline gap-1.5 mt-2",children:[e.jsxDEV("span",{className:"text-2xl md:text-3xl font-black text-slate-800",dir:"ltr",children:Number(ne.totalLiabilities).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:458,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-slate-400 font-bold text-xs",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:461,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:457,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:450,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-3 bg-gradient-to-br from-rose-50 to-rose-100 rounded-xl border border-rose-200 group-hover:scale-110 transition-transform",children:e.jsxDEV(Lt,{className:"w-5 h-5 text-rose-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:466,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:465,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:449,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:445,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-shrink-0 w-[85vw] md:w-auto snap-center relative overflow-hidden rounded-2xl md:rounded-3xl p-5 md:p-6 bg-white border border-slate-200 shadow-lg group hover:shadow-xl hover:border-emerald-200 transition-all",children:[e.jsxDEV("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:474,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-xs font-bold uppercase tracking-wider text-emerald-600",children:"المستحق عليهم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:478,columnNumber:29},void 0),g?e.jsxDEV("div",{className:"h-8 w-28 bg-slate-100 rounded-lg mt-2 animate-pulse"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:482,columnNumber:33},void 0):e.jsxDEV("div",{className:"flex items-baseline gap-1.5 mt-2",children:[e.jsxDEV("span",{className:"text-2xl md:text-3xl font-black text-slate-800",dir:"ltr",children:Number(ne.totalAssets).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:485,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-slate-400 font-bold text-xs",children:"ج.م"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:488,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:484,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:477,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-3 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl border border-emerald-200 group-hover:scale-110 transition-transform",children:e.jsxDEV($t,{className:"w-5 h-5 text-emerald-500"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:493,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:492,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:476,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:472,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:409,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[{key:"ALL",label:`الكل (${P.total})`,icon:null,color:"slate"},{key:"CREDIT",label:N?"له":"لنا",icon:it,color:"rose"},{key:"DEBIT",label:"عليه",icon:lt,color:"emerald"},{key:"ZERO",label:"خالص",icon:nt,color:"slate"}].map(d=>{const w=D===d.key,R=d.icon;return e.jsxDEV("button",{onClick:()=>F(d.key),className:`relative px-4 md:px-5 py-2.5 rounded-full text-sm font-bold whitespace-nowrap transition-all flex items-center gap-2 ${w?d.color==="rose"?"bg-rose-500 text-white shadow-lg shadow-rose-200":d.color==="emerald"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-slate-800 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600 hover:border-slate-300 hover:bg-slate-50"}`,children:[R&&e.jsxDEV(R,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:523,columnNumber:38},void 0),d.label]},d.key,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:511,columnNumber:25},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:500,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:[e.jsxDEV("div",{className:"md:hidden divide-y divide-slate-100",children:g?e.jsxDEV("div",{className:"p-10 text-center",children:[e.jsxDEV("div",{className:`w-12 h-12 mx-auto mb-4 border-4 ${N?"border-amber-100 border-t-amber-500":"border-indigo-100 border-t-indigo-500"} rounded-full animate-spin`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:536,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-slate-500 font-medium",children:"جاري التحميل..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:537,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:535,columnNumber:25},void 0):Y.length===0?e.jsxDEV("div",{className:"p-16 text-center",children:[e.jsxDEV("div",{className:`w-20 h-20 mx-auto mb-6 ${N?"bg-amber-50":"bg-indigo-50"} rounded-2xl flex items-center justify-center`,children:e.jsxDEV(Ot,{className:`w-10 h-10 ${N?"text-amber-300":"text-indigo-300"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:542,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:541,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-800 font-bold text-lg mb-2",children:"لا توجد نتائج"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:544,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-slate-400",children:"جرب تغيير الفلاتر أو البحث بكلمة أخرى"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:545,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:540,columnNumber:25},void 0):Y.map((d,w)=>{const R=d.balance||0,p=R<0?"credit":R>0?"debit":"zero";return e.jsxDEV("div",{className:`p-4 ${w%2===1?"bg-slate-50/50":""} hover:bg-slate-50 transition-colors`,style:{animationDelay:`${w*50}ms`},children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-base font-black text-white shadow-lg ${p==="credit"?"bg-gradient-to-br from-rose-400 to-rose-600":p==="debit"?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-slate-400 to-slate-500"}`,children:d.name.charAt(0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:561,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"font-bold text-slate-800 truncate",children:d.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:570,columnNumber:45},void 0),e.jsxDEV("div",{className:"flex gap-1.5 mt-1",children:e.jsxDEV("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${N?"bg-amber-100 text-amber-700":"bg-indigo-100 text-indigo-700"}`,children:d.type==="SUPPLIER"?"مورد":"عميل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:572,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:571,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:569,columnNumber:41},void 0),e.jsxDEV("div",{className:"text-left",children:p==="zero"?e.jsxDEV("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full bg-slate-100 text-slate-500 font-bold text-xs",children:[e.jsxDEV(nt,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:583,columnNumber:53},void 0)," خالص"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:582,columnNumber:49},void 0):e.jsxDEV("div",{className:"flex flex-col items-end",children:[e.jsxDEV("span",{className:`inline-block px-3 py-1.5 rounded-xl font-black text-sm ${p==="credit"?"bg-rose-100 text-rose-700 border border-rose-200":"bg-emerald-100 text-emerald-700 border border-emerald-200"}`,dir:"ltr",children:Math.abs(R).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:587,columnNumber:53},void 0),e.jsxDEV("span",{className:`text-[10px] mt-0.5 font-bold ${p==="credit"?"text-rose-500":"text-emerald-500"}`,children:p==="credit"?"له":"عليه"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:593,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:586,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:580,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:559,columnNumber:37},void 0),d.phone&&e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-slate-500 mb-3 bg-slate-50 px-3 py-2 rounded-lg",children:[e.jsxDEV(mt,{size:12,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:605,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono",dir:"ltr",children:d.phone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:606,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:604,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>ie(d.phone,d.name,R),className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-bold text-sm shadow-md hover:shadow-lg active:scale-95 transition-all",children:[e.jsxDEV(ut,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:616,columnNumber:45},void 0)," واتساب"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:612,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>h?.(d.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 ${N?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-gradient-to-r from-indigo-500 to-violet-500"} text-white rounded-xl font-bold text-sm shadow-md hover:shadow-lg active:scale-95 transition-all`,children:[e.jsxDEV(Ye,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:625,columnNumber:45},void 0)," كشف حساب"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:618,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>ee(`${d.name} - ${d.phone||""}`),className:"p-2.5 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 active:scale-95 transition-all",children:e.jsxDEV(ct,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:631,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:627,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:611,columnNumber:37},void 0)]},d.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:553,columnNumber:33},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:533,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden md:block overflow-x-auto",children:e.jsxDEV("table",{className:"w-full text-sm",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:`${N?"bg-gradient-to-r from-amber-600 to-orange-600":"bg-gradient-to-r from-indigo-600 to-violet-600"} text-white`,children:[e.jsxDEV("th",{className:"p-4 text-right font-bold",children:"الاسم / البيانات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:645,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-right font-bold",children:"بيانات الاتصال"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:646,columnNumber:33},void 0),e.jsxDEV("th",{className:"p-4 text-right font-bold",children:"الرصيد القائم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:647,columnNumber:33},void 0),!N&&e.jsxDEV("th",{className:"p-4 text-right font-bold",children:"حد الائتمان"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:648,columnNumber:49},void 0),e.jsxDEV("th",{className:"p-4 text-center font-bold",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:649,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:644,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:643,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:g?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"p-12 text-center text-slate-500",children:"جاري التحميل..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:654,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:654,columnNumber:33},void 0):Y.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"p-16 text-center text-slate-400",children:"لا توجد نتائج"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:656,columnNumber:37},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:656,columnNumber:33},void 0):Y.map((d,w)=>{const R=d.balance||0,p=R<0?"credit":R>0?"debit":"zero",y=d.limit&&d.limit>0?R/d.limit*100:0,j=y>100;return e.jsxDEV("tr",{className:`${w%2===1?"bg-slate-50/50":""} hover:bg-slate-100/50 transition-colors group`,children:[e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-sm font-bold text-white shadow-md ${p==="credit"?"bg-gradient-to-br from-rose-400 to-rose-600":p==="debit"?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-slate-400 to-slate-500"}`,children:d.name.charAt(0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:671,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:d.name},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:678,columnNumber:53},void 0),e.jsxDEV("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${N?"bg-amber-100 text-amber-700":"bg-indigo-100 text-indigo-700"}`,children:d.type==="SUPPLIER"?"مورد":"عميل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:679,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:677,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:670,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:669,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"space-y-1",children:[d.phone?e.jsxDEV("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsxDEV(mt,{size:14,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:692,columnNumber:57},void 0),e.jsxDEV("span",{className:"font-mono",dir:"ltr",children:d.phone},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:693,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:691,columnNumber:53},void 0):e.jsxDEV("span",{className:"text-slate-400 text-xs",children:"لا يوجد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:696,columnNumber:53},void 0),d.address&&e.jsxDEV("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[e.jsxDEV(_t,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:700,columnNumber:57},void 0),e.jsxDEV("span",{className:"truncate max-w-[150px]",children:d.address},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:701,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:699,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:689,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:688,columnNumber:41},void 0),e.jsxDEV("td",{className:"p-4",children:p==="zero"?e.jsxDEV("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-100 text-slate-500 font-bold text-xs",children:[e.jsxDEV(nt,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:711,columnNumber:53},void 0)," خالص"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:710,columnNumber:49},void 0):e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg font-bold ${p==="credit"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-emerald-50 text-emerald-700 border border-emerald-100"}`,children:[p==="credit"?e.jsxDEV(it,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:719,columnNumber:87},void 0):e.jsxDEV(lt,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:719,columnNumber:117},void 0),e.jsxDEV("span",{dir:"ltr",children:Math.abs(R).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:720,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:715,columnNumber:53},void 0),e.jsxDEV("span",{className:`text-[10px] mt-1 font-medium ${p==="credit"?"text-rose-500":"text-emerald-500"}`,children:p==="credit"?"له (دائن)":"عليه (مدين)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:722,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:714,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:708,columnNumber:41},void 0),!N&&e.jsxDEV("td",{className:"p-4",children:d.limit&&d.limit>0?e.jsxDEV("div",{className:"w-32",children:[e.jsxDEV("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxDEV("span",{className:`font-bold ${j?"text-rose-500":"text-slate-500"}`,children:[y.toFixed(0),"%"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:736,columnNumber:61},void 0),e.jsxDEV("span",{className:"font-mono text-slate-600",children:d.limit.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:739,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:735,columnNumber:57},void 0),e.jsxDEV("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:`h-full rounded-full transition-all ${j?"bg-rose-500":y>80?"bg-amber-400":"bg-indigo-500"}`,style:{width:`${Math.min(100,y)}%`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:742,columnNumber:61},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:741,columnNumber:57},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:734,columnNumber:53},void 0):e.jsxDEV("span",{className:"text-slate-400 text-xs",children:"غير محدد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:750,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:732,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4",children:e.jsxDEV("div",{className:"flex justify-center gap-2 opacity-70 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:()=>ie(d.phone,d.name,R),className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl hover:bg-emerald-100 transition-colors border border-emerald-100",title:"مراسلة واتساب",children:e.jsxDEV(ut,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:763,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:758,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>h?.(d.id),className:`p-2.5 rounded-xl transition-colors border ${N?"bg-amber-50 text-amber-600 hover:bg-amber-100 border-amber-100":"bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border-indigo-100"}`,title:"كشف حساب",children:e.jsxDEV(Ye,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:773,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:765,columnNumber:49},void 0),e.jsxDEV("button",{onClick:()=>ee(`${d.name} - ${d.phone||""}`),className:"p-2.5 bg-slate-50 text-slate-500 rounded-xl hover:bg-slate-100 transition-colors border border-slate-100",title:"نسخ",children:e.jsxDEV(ct,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:780,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:775,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:757,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:756,columnNumber:41},void 0)]},d.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:664,columnNumber:37},void 0)})},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:652,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:642,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:641,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 border-t border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-3 bg-slate-50/50",children:[e.jsxDEV("div",{className:"text-sm text-slate-500 font-medium",children:["عرض ",e.jsxDEV("span",{className:"font-bold text-slate-700",children:(P.page-1)*P.limit+1},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:794,columnNumber:29},void 0)," - ",e.jsxDEV("span",{className:"font-bold text-slate-700",children:Math.min(P.page*P.limit,P.total)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:794,columnNumber:130},void 0)," من ",e.jsxDEV("span",{className:"font-bold text-slate-700",children:P.total},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:794,columnNumber:248},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:793,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>I(d=>Math.max(1,d-1)),disabled:P.page===1||g||de,className:"p-2.5 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed shadow-sm transition-all hover:shadow",children:e.jsxDEV(Rt,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:802,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:797,columnNumber:25},void 0),e.jsxDEV("span",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-700 shadow-sm",children:[P.page," / ",P.totalPages]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:804,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>I(d=>Math.min(P.totalPages,d+1)),disabled:P.page===P.totalPages||g||de,className:"p-2.5 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed shadow-sm transition-all hover:shadow",children:e.jsxDEV(ht,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:812,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:807,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:796,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:792,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:531,columnNumber:13},void 0),e.jsxDEV(st,{isOpen:T.isOpen,onClose:()=>pe(d=>({...d,isOpen:!1})),message:T.message,type:T.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:819,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/PartnerDirectory.tsx",lineNumber:328,columnNumber:9},void 0)},on=({partners:N,transactions:h,onSaveTransaction:v,isSupplier:H,config:re,initialTransactionId:xe})=>{const[K,D]=m.useState("NEW"),[F,Z]=m.useState(null),[I,k]=m.useState(""),[z,g]=m.useState(""),[de,C]=m.useState(""),[J,V]=m.useState(""),[$,G]=m.useState("FIXED"),[Y,P]=m.useState(""),[ne,T]=m.useState(Et()),[pe,Q]=m.useState(""),[ie,ee]=m.useState(""),[oe,A]=m.useState(""),[d,w]=m.useState({isOpen:!1,message:"",type:"info"}),[R,p]=m.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),y=(n,s="success")=>{w({isOpen:!0,message:n,type:s})};m.useEffect(()=>{const n=setTimeout(()=>A(ie),300);return()=>clearTimeout(n)},[ie]),m.useEffect(()=>{if(xe&&h.length>0){const n=h.find(s=>s.id===xe);n&&se(n)}},[xe,h.length>0]);const j=N.find(n=>n.id===I),le=m.useMemo(()=>{const n=H?[o.INVOICE_PURCHASE,o.RETURN_PURCHASE,o.PAYMENT,o.DISCOUNT_EARNED]:[o.INVOICE_SALE,o.RETURN_SALE,o.RECEIPT,o.DISCOUNT_ALLOWED];return N.map(s=>{const u=h.filter(i=>i.partnerId===s.id&&i.status==="POSTED"&&n.includes(i.type));let x=parseFloat(String(s.openingBalance||0));for(const i of u){const c=i.total,l=i.whtAmount||0,f=c-l;switch(i.type){case o.INVOICE_SALE:x+=f;break;case o.RETURN_SALE:x-=c;break;case o.RECEIPT:x-=c;break;case o.DISCOUNT_ALLOWED:x-=c;break;case o.INVOICE_PURCHASE:x-=c;break;case o.RETURN_PURCHASE:x+=c;break;case o.PAYMENT:x+=c;break;case o.DISCOUNT_EARNED:x+=c;break}}return{...s,calculatedBalance:Math.round(x*100)/100}})},[N,h,H]),b=m.useMemo(()=>le.find(s=>s.id===I)?.calculatedBalance||0,[le,I]),O=H?"emerald":"amber",U=H?pt:Nt,L=m.useMemo(()=>{if(!I)return[];const n=H?o.INVOICE_PURCHASE:o.INVOICE_SALE;return h.filter(s=>s.partnerId===I&&s.type===n&&s.status===Me.POSTED)},[I,h,H]),ue=(()=>{const n=typeof Y=="number"?Y:0;if(n===0)return 0;if($==="FIXED")return n;if(z){const s=L.find(u=>u.id===z);return s?s.total*(n/100):0}else return Math.abs(b)*(n/100)})(),te=()=>{P(""),Q(""),C(""),V(""),g(""),k(""),Z(null),G("FIXED")},se=n=>{Z(n.id),D("NEW"),k(n.partnerId),T(n.date.split("T")[0]),G("FIXED"),P(n.total),Q(n.notes||""),C(n.referenceNumber||""),g(n.linkedInvoiceId||""),V("")},Ce=()=>{if(!I||ue<=0)return y("يرجى استكمال البيانات وتحديد القيمة","error");let n=pe;J&&(n=`[${J}] ${n} `),de&&!n.includes(de)&&(n=`(Ref: ${de}) ${n} `),v({id:F||void 0,date:ne,partnerId:I,partnerName:j?.name,type:re.transType,lines:[],total:ue,paymentMethod:Fe.CREDIT,status:Me.POSTED,notes:n||re.title,referenceNumber:de,linkedInvoiceId:z}),y(F?"تم تحديث البيانات بنجاح":"تم تسجيل الخصم وتحديث الرصيد بنجاح","success"),te()},Re=m.useMemo(()=>h.filter(n=>n.type===re.transType&&n.status!==Me.VOID).filter(n=>n.partnerName.toLowerCase().includes(oe.toLowerCase())||n.notes?.toLowerCase().includes(oe.toLowerCase())).sort((n,s)=>new Date(s.date).getTime()-new Date(n.date).getTime()),[h,re.transType,oe]),t=n=>{p({isOpen:!0,title:"إلغاء الخصم",message:"هل أنت متأكد من إلغاء هذا الخصم؟ سيتم عكس التأثير المالي.",type:"danger",onConfirm:()=>{const s=h.find(u=>u.id===n);s&&v({...s,status:Me.VOID,notes:(s.notes||"")+" [ملغي]"}),p(u=>({...u,isOpen:!1})),y("تم إلغاء الخصم بنجاح.","success")}})},a=H?["خصم تعجيل دفع","خصم كمية / تارجت","تسوية بضاعة تالفة","فرق أسعار"]:["خصم ولاء عميل","خصم تجاري خاص","تعويض تأخير","خصم سداد مبكر"];return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:`${H?"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600":"bg-gradient-to-r from-amber-600 via-orange-600 to-red-600"} p-8 rounded-3xl shadow-xl mb-8 relative overflow-hidden`,children:[e.jsxDEV("div",{className:"hidden sm:block absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-white/20 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:253,columnNumber:17},void 0),e.jsxDEV("div",{className:"hidden sm:block absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-black/10 rounded-full blur-3xl"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:254,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxDEV("div",{className:"text-white",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxDEV("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner",children:e.jsxDEV(U,{size:32,className:"text-white",strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:260,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:259,columnNumber:29},void 0),e.jsxDEV("h1",{className:"text-4xl font-black tracking-tight drop-shadow-sm",children:re.title},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:262,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:258,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-white/90 text-base font-bold max-w-2xl leading-relaxed opacity-95",children:H?"تسجيل الإشعارات الدائنة والخصومات المكتسبة من الموردين":"تسجيل الإشعارات المدينة والخصومات المسموح بها للعملاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:264,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:257,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex bg-white/10 backdrop-blur-md p-1 rounded-xl border border-white/20",children:[e.jsxDEV("button",{onClick:()=>D("NEW"),className:`px-6 py-3 rounded-lg text-sm font-black transition-all ${K==="NEW"?"bg-white shadow-lg text-slate-900":"text-white hover:bg-white/10"}`,children:"تسجيل جديد"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:270,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>D("HISTORY"),className:`px-6 py-3 rounded-lg text-sm font-black transition-all ${K==="HISTORY"?"bg-white shadow-lg text-slate-900":"text-white hover:bg-white/10"}`,children:"الأرشيف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:271,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:269,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:256,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:251,columnNumber:13},void 0),K==="NEW"?e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 animate-fade-in",children:[e.jsxDEV("div",{className:"lg:col-span-8 space-y-6",children:e.jsxDEV("div",{className:`bg-white rounded-2xl shadow-xl border ${F?"border-indigo-300 ring-4 ring-indigo-50":"border-slate-200"} p-6 space-y-6 relative overflow-hidden transition-all`,children:[e.jsxDEV("div",{className:`absolute top-0 left-0 w-1.5 h-full bg-${O}-600`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:281,columnNumber:29},void 0),F&&e.jsxDEV("div",{className:"bg-indigo-50 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold flex justify-between items-center",children:[e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV(Ke,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:285,columnNumber:79},void 0)," جاري تعديل المعاملة رقم ",F]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:285,columnNumber:37},void 0),e.jsxDEV("button",{onClick:te,className:"text-indigo-500 hover:text-indigo-800 underline",children:"إلغاء التعديل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:286,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:284,columnNumber:33},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700",children:[H?"المورد (الجهة المانحة)":"العميل (الجهة المستفيدة)"," ",e.jsxDEV("span",{className:"text-rose-500",children:"*"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:294,columnNumber:110},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:293,columnNumber:37},void 0),e.jsxDEV(Le,{options:le.map(n=>({id:n.id,label:n.name,subLabel:`R: ${n.calculatedBalance.toLocaleString()} `})),value:I,onChange:k,placeholder:"ابحث بالاسم..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:296,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:292,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:304,columnNumber:37},void 0),e.jsxDEV($e,{value:ne,onChange:T},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:305,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:303,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:291,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-xs font-bold text-slate-500 flex items-center gap-1",children:[e.jsxDEV(zt,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:313,columnNumber:41},void 0)," ربط بفاتورة (اختياري)"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:312,columnNumber:37},void 0),e.jsxDEV("select",{className:"w-full border border-slate-300 rounded-lg p-2.5 bg-white text-sm outline-none focus:border-teal-500",value:z,onChange:n=>g(n.target.value),disabled:!I,children:[e.jsxDEV("option",{value:"",children:"-- خصم عام على الحساب --"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:321,columnNumber:41},void 0),L.map(n=>e.jsxDEV("option",{value:n.id,children:["فاتورة #",n.id," (",n.date.split("T")[0].split("-").reverse().join("/"),") - ",n.total.toLocaleString()]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:323,columnNumber:45},void 0))]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:315,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:311,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-xs font-bold text-slate-500 flex items-center gap-1",children:[e.jsxDEV(Ye,{size:12},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:331,columnNumber:41},void 0)," رقم الإشعار ",H?"الدائن (من المورد)":"المدين"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:330,columnNumber:37},void 0),e.jsxDEV("input",{type:"text",value:de,onChange:n=>C(n.target.value),className:"w-full border border-slate-300 rounded-lg p-2.5 text-sm outline-none focus:border-teal-500",placeholder:"مثال: CN-2024-001"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:333,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:329,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:310,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700",children:"قيمة الخصم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:345,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsxDEV("button",{onClick:()=>G("FIXED"),className:`flex-1 sm:flex-none px-4 py-3 sm:py-2 rounded-md text-sm font-bold transition-all ${$==="FIXED"?"bg-white shadow text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"مبلغ ثابت"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:348,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>G("PERCENT"),className:`flex-1 sm:flex-none px-4 py-3 sm:py-2 rounded-md text-sm font-bold transition-all ${$==="PERCENT"?"bg-white shadow text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"نسبة %"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:349,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:347,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV("input",{type:"number",value:Y,onChange:n=>P(parseFloat(n.target.value)),className:"w-full border-2 border-slate-200 rounded-xl p-3 pl-12 font-bold text-lg outline-none focus:border-teal-500",placeholder:"0.00"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:352,columnNumber:41},void 0),e.jsxDEV("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:$==="PERCENT"?"%":"EGP"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:359,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:351,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:346,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-bold text-slate-500 mb-2",children:"سبب الخصم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:367,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[a.map(n=>e.jsxDEV("button",{onClick:()=>V(n),className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-colors ${J===n?`bg-${O}-100 text-${O}-700 border-${O}-200`:"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:n},n,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:370,columnNumber:45},void 0)),e.jsxDEV("input",{type:"text",placeholder:"سبب آخر...",value:J,onChange:n=>V(n.target.value),className:"px-3 py-1.5 rounded-full text-xs border border-slate-200 outline-none focus:border-teal-400 w-32"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:378,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:368,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:366,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"ملاحظات إضافية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:389,columnNumber:37},void 0),e.jsxDEV("textarea",{value:pe,onChange:n=>Q(n.target.value),className:"w-full border border-slate-300 rounded-xl p-3 h-20 resize-none outline-none text-sm",placeholder:"تفاصيل إضافية..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:390,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:388,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:344,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[F&&e.jsxDEV("button",{onClick:te,className:"flex-1 bg-white border border-slate-300 text-slate-600 py-3 rounded-xl font-bold hover:bg-slate-50",children:"إلغاء"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:401,columnNumber:37},void 0),e.jsxDEV("button",{onClick:Ce,className:`flex-[2] bg-${O}-600 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-${O}-700 transition-all flex items-center justify-center gap-2`,children:[e.jsxDEV(xt,{size:20},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:409,columnNumber:37},void 0)," ",F?"تحديث البيانات":"حفظ الإشعار"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:405,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:399,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:280,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:279,columnNumber:21},void 0),e.jsxDEV("div",{className:"lg:col-span-4 space-y-6",children:[e.jsxDEV("div",{className:`bg-gradient-to-br ${H?"from-emerald-50 to-white border-emerald-200":"from-amber-50 to-white border-amber-200"} border-2 rounded-2xl p-6 shadow-lg`,children:[e.jsxDEV("h3",{className:`${H?"text-emerald-900":"text-amber-900"} font-black text-xl mb-4 flex items-center gap-2`,children:[e.jsxDEV(Ut,{size:22,strokeWidth:2.5},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:420,columnNumber:33},void 0)," ملخص الأثر المالي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:419,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-slate-600 text-sm font-medium",children:"الرصيد الحالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:425,columnNumber:37},void 0),e.jsxDEV("span",{className:`font-mono font-bold text-lg ${b>=0?"text-slate-800":"text-rose-600"}`,dir:"ltr",children:b.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:426,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:424,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-center py-2 border-t border-b border-dashed border-slate-300",children:[e.jsxDEV("span",{className:`text-${O}-700 font-bold flex items-center gap-1`,children:[H?e.jsxDEV(rt,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:433,columnNumber:55},void 0):e.jsxDEV(lt,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:433,columnNumber:76},void 0)," قيمة الخصم"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:432,columnNumber:37},void 0),e.jsxDEV("span",{className:`font-mono font-bold text-xl text-${O}-600`,children:ue.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:435,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:431,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-slate-800 text-sm font-bold",children:"الرصيد المتوقع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:441,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-mono font-extrabold text-2xl text-slate-900",dir:"ltr",children:(H?b+ue:b-ue).toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:442,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:440,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV("div",{className:"mt-6 text-xs text-slate-500 bg-white/50 p-3 rounded-lg",children:[e.jsxDEV("p",{children:"سيتم ترحيل قيد يومية:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:452,columnNumber:33},void 0),e.jsxDEV("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsxDEV("li",{children:H?"من ح/ الموردين (Debit)":"من ح/ خصم مسموح به (Debit)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:454,columnNumber:37},void 0),e.jsxDEV("li",{children:H?"إلى ح/ خصم مكتسب (Credit)":"إلى ح/ العملاء (Credit)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:455,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:453,columnNumber:33},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:451,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:418,columnNumber:25},void 0),z&&e.jsxDEV("div",{className:"bg-white border border-slate-200 rounded-2xl p-5 shadow-sm",children:[e.jsxDEV("h4",{className:"font-bold text-slate-700 mb-2 text-sm flex items-center gap-2",children:[e.jsxDEV(Ye,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:463,columnNumber:111},void 0)," الفاتورة المرتبطة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:463,columnNumber:33},void 0),L.find(n=>n.id===z)&&e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-500",children:"رقم الفاتورة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:467,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono font-bold",children:z},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:468,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:466,columnNumber:41},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-500",children:"قيمة الفاتورة:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:471,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono font-bold",children:L.find(n=>n.id===z)?.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:472,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:470,columnNumber:41},void 0),$==="PERCENT"&&e.jsxDEV("div",{className:"bg-slate-50 p-2 rounded text-center text-xs text-slate-500 mt-2",children:["تم احتساب ",Y,"% من قيمة هذه الفاتورة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:475,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:465,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:462,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:416,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:276,columnNumber:17},void 0):e.jsxDEV("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden animate-fade-in relative",children:[e.jsxDEV("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:`repeating-linear-gradient(
                                -45deg,
                                ${H?"#059669":"#d97706"},
                                ${H?"#059669":"#d97706"} 1px,
                                transparent 1px,
                                transparent 10px
                            )`}},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:488,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4 relative z-10",children:[e.jsxDEV("h3",{className:"font-bold text-slate-800",children:"سجل الخصومات والإشعارات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:500,columnNumber:25},void 0),e.jsxDEV("div",{className:"relative w-full md:w-72",children:[e.jsxDEV(tt,{className:"absolute right-3 top-2.5 text-slate-400",size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:502,columnNumber:29},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث برقم الإشعار، العميل، أو الملاحظات...",className:"w-full pl-3 pr-10 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-teal-100",value:ie,onChange:n=>ee(n.target.value)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:503,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:501,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:499,columnNumber:21},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3 p-4 bg-slate-50",children:Re.length===0?e.jsxDEV("div",{className:"p-12 text-center text-slate-400",children:"لا توجد سجلات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:516,columnNumber:29},void 0):Re.map(n=>e.jsxDEV("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-bold text-slate-800",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:522,columnNumber:45},void 0),e.jsxDEV("div",{className:"text-xs text-slate-500 font-mono mt-1",children:n.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:523,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:521,columnNumber:41},void 0),e.jsxDEV("div",{className:`font-bold font-mono text-lg text-${O}-600`,children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:525,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:520,columnNumber:37},void 0),e.jsxDEV("div",{className:"space-y-2 mb-3",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-slate-500",children:"رقم الإشعار:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:530,columnNumber:45},void 0),e.jsxDEV("span",{className:"font-mono font-bold text-slate-700",children:n.referenceNumber||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:531,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:529,columnNumber:41},void 0),n.notes&&e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-slate-500",children:"البيان:"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:535,columnNumber:49},void 0),e.jsxDEV("span",{className:"text-slate-600 truncate max-w-[150px]",title:n.notes,children:n.notes},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:536,columnNumber:49},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:534,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:528,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-3 border-t border-slate-100",children:[e.jsxDEV("button",{onClick:()=>se(n),className:"flex-1 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 p-2 rounded-lg transition-colors flex items-center justify-center gap-1 text-sm font-bold",title:"تعديل",children:[e.jsxDEV(Ke,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:543,columnNumber:45},void 0)," تعديل"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:542,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>t(n.id),className:"p-2 text-rose-600 bg-rose-50 hover:bg-rose-100 rounded-lg transition-colors",title:"إلغاء الحركة",children:e.jsxDEV(et,{size:18},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:546,columnNumber:45},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:545,columnNumber:41},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:541,columnNumber:37},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:519,columnNumber:33},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:514,columnNumber:21},void 0),e.jsxDEV("div",{className:"hidden md:block overflow-x-auto relative z-10",children:e.jsxDEV("table",{className:"w-full text-sm text-right",children:[e.jsxDEV("thead",{className:"bg-slate-900 text-white font-black border-b border-slate-900",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-4 rounded-tr-lg",children:"التاريخ"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:559,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-4",children:"رقم الإشعار (Ref)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:560,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-4",children:"الجهة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:561,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-4",children:"البيان"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:562,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-4",children:"القيمة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:563,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-4 text-center rounded-tl-lg",children:"إجراءات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:564,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:558,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:557,columnNumber:29},void 0),e.jsxDEV("tbody",{className:"divide-y divide-slate-100",children:[Re.map((n,s)=>{const u=s%2===0?"bg-white":H?"bg-emerald-50/30":"bg-amber-50/30";return e.jsxDEV("tr",{className:`${u} hover:brightness-95 transition-all group`,children:[e.jsxDEV("td",{className:"p-4 font-mono font-bold text-slate-600",children:n.date.split("T")[0].split("-").reverse().join("/")},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:572,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 font-mono font-black text-slate-800",children:n.referenceNumber||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:573,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 font-black text-slate-900",children:n.partnerName},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:574,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-slate-600 max-w-xs truncate",title:n.notes,children:n.notes},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:575,columnNumber:45},void 0),e.jsxDEV("td",{className:`p-4 font-bold font-mono text-${O}-600`,children:n.total.toLocaleString()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:576,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-4 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:()=>se(n),className:"text-indigo-400 hover:text-indigo-600 hover:bg-indigo-50 p-2 rounded transition-colors",title:"تعديل",children:e.jsxDEV(Ke,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:580,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:579,columnNumber:53},void 0),e.jsxDEV("button",{onClick:()=>t(n.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded transition-colors",title:"إلغاء الحركة",children:e.jsxDEV(et,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:583,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:582,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:578,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:577,columnNumber:45},void 0)]},n.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:571,columnNumber:41},void 0)}),Re.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:"لا توجد سجلات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:591,columnNumber:41},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:591,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:567,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:556,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:555,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV(st,{isOpen:d.isOpen,onClose:()=>w(n=>({...n,isOpen:!1})),message:d.message,type:d.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:600,columnNumber:13},void 0),e.jsxDEV(bt,{isOpen:R.isOpen,onClose:()=>p(n=>({...n,isOpen:!1})),onConfirm:R.onConfirm,title:R.title,message:R.message,type:R.type},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:607,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/partners/DiscountManager.tsx",lineNumber:249,columnNumber:9},void 0)};export{on as D,qt as P,tn as a,nn as b};
