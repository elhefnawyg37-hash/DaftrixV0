import{j as o}from"./index-BIcNJgNM.js";import{r as c,a as U}from"./react-vendor-CJgqbvH4.js";import{an as v,am as J,t as Q,s as W,ae as Z,X as _}from"./ui-vendor-DNgltnAO.js";const se=({value:a,onChange:x,label:b,placeholder:k="DD/MM/YYYY",className:F="",transparent:S=!1})=>{const C=`${c.useId()}-label`,[m,f]=c.useState(!1),[d,E]=c.useState("DAYS"),[n,u]=c.useState(()=>a?new Date(a):new Date),[D,j]=c.useState({top:0,left:0}),P=c.useRef(null),N=c.useRef(null);c.useEffect(()=>{a&&u(new Date(a))},[a]),c.useEffect(()=>{const e=s=>{const l=s.target,i=P.current&&!P.current.contains(l),r=N.current&&!N.current.contains(l);i&&r&&(f(!1),E("DAYS"))},t=s=>{N.current&&N.current.contains(s.target)||m&&f(!1)};return m&&(document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",t)),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}},[m]);const Y=e=>e?new Date(e).toLocaleDateString("en-GB"):"",R=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],V=["ح","ن","ث","ر","خ","ج","س"],B=(e,t)=>new Date(e,t+1,0).getDate(),H=(e,t)=>new Date(e,t,1).getDay(),y=e=>{const t=n.getFullYear(),s=n.getMonth(),l=`${t}-${String(s+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`;x(l),f(!1)},M=e=>{const t=new Date(n.getFullYear(),e,1);u(t),E("DAYS")},$=e=>{const t=new Date(e,n.getMonth(),1);u(t),E("MONTHS")},A=e=>{e.stopPropagation(),u(d==="DAYS"?new Date(n.getFullYear(),n.getMonth()-1,1):d==="YEARS"?new Date(n.getFullYear()-12,n.getMonth(),1):new Date(n.getFullYear()-1,n.getMonth(),1))},z=e=>{e.stopPropagation(),u(d==="DAYS"?new Date(n.getFullYear(),n.getMonth()+1,1):d==="YEARS"?new Date(n.getFullYear()+12,n.getMonth(),1):new Date(n.getFullYear()+1,n.getMonth(),1))},O=e=>{e.stopPropagation(),E(d==="DAYS"?"YEARS":"DAYS")},g=e=>{if(e.stopPropagation(),!m&&P.current){const t=P.current.getBoundingClientRect();let l=t.right-288+window.scrollX;l<0&&(l=t.left+window.scrollX),j({top:t.bottom+window.scrollY+4,left:l})}f(!m)},I=()=>{const e=n.getFullYear(),t=n.getMonth(),s=B(e,t),l=H(e,t),i=[];for(let r=0;r<l;r++)i.push(o.jsxDEV("div",{className:"h-8 w-8"},`empty-${r}`,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:174,columnNumber:23},void 0));for(let r=1;r<=s;r++){const h=`${e}-${String(t+1).padStart(2,"0")}-${String(r).padStart(2,"0")}`,w=a===h,p=new Date,q=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`,G=h===q;i.push(o.jsxDEV("button",{onClick:K=>{K.stopPropagation(),y(r)},className:`
                      h-8 w-8 rounded-lg text-sm flex items-center justify-center transition-all font-mono
                      ${w?"bg-teal-600 text-white shadow-lg shadow-teal-900/50 font-bold":"text-slate-300 hover:bg-slate-700 hover:text-white"}
                      ${!w&&G?"border border-teal-500 text-teal-400":""}
                  `,children:r},r,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:188,columnNumber:17},void 0))}return i},L=()=>R.map((e,t)=>o.jsxDEV("button",{onClick:s=>{s.stopPropagation(),M(t)},className:`
                  p-2 rounded-lg text-sm transition-all
                  ${n.getMonth()===t?"bg-teal-600 text-white shadow-lg font-bold":"text-slate-300 hover:bg-slate-700 hover:text-white"}
              `,children:e},t,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:208,columnNumber:13},void 0)),T=()=>{const t=n.getFullYear()-6,s=[];for(let l=0;l<12;l++){const i=t+l;s.push(o.jsxDEV("button",{onClick:r=>{r.stopPropagation(),$(i)},className:`
                      p-2 rounded-lg text-sm font-mono transition-all
                      ${n.getFullYear()===i?"bg-teal-600 text-white shadow-lg font-bold":"text-slate-300 hover:bg-slate-700 hover:text-white"}
                  `,children:i},i,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:230,columnNumber:17},void 0))}return s},X=m?o.jsxDEV("div",{ref:N,className:"absolute z-[9999] p-4 bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 w-72 animate-fade-in origin-top font-sans",style:{top:D.top,left:D.left},onMouseDown:e=>e.stopPropagation(),children:[o.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[o.jsxDEV("button",{onClick:O,className:"text-white font-bold hover:text-teal-400 transition-colors flex items-center gap-1",children:[R[n.getMonth()]," ",n.getFullYear(),d==="DAYS"?o.jsxDEV(v,{size:14,className:"opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:262,columnNumber:40},void 0):o.jsxDEV(J,{size:14,className:"opacity-50"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:262,columnNumber:91},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:257,columnNumber:17},void 0),o.jsxDEV("div",{className:"flex gap-1",children:[o.jsxDEV("button",{onClick:A,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:o.jsxDEV(Q,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:265,columnNumber:148},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:265,columnNumber:21},void 0),o.jsxDEV("button",{onClick:z,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:o.jsxDEV(W,{size:16},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:266,columnNumber:148},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:264,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:256,columnNumber:13},void 0),o.jsxDEV("div",{className:"min-h-[240px]",children:[d==="DAYS"&&o.jsxDEV(o.Fragment,{children:[o.jsxDEV("div",{className:"grid grid-cols-7 gap-1 mb-2 border-b border-slate-700/50 pb-2",children:V.map((e,t)=>o.jsxDEV("div",{className:"text-center text-xs font-medium text-slate-500",children:e},t,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:276,columnNumber:33},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:274,columnNumber:25},void 0),o.jsxDEV("div",{className:"grid grid-cols-7 gap-1",children:I()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:279,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:273,columnNumber:21},void 0),d==="MONTHS"&&o.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:L()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:286,columnNumber:21},void 0),d==="YEARS"&&o.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:T()},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:292,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:271,columnNumber:13},void 0),o.jsxDEV("div",{className:"mt-4 pt-3 border-t border-slate-700 flex justify-between items-center",children:[o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),x(""),f(!1)},className:"text-xs font-medium text-slate-400 hover:text-rose-400 transition-colors",children:"مسح (Clear)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:300,columnNumber:17},void 0),o.jsxDEV("button",{onClick:e=>{e.stopPropagation();const t=new Date,s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;x(s),f(!1)},className:"text-xs font-bold text-teal-500 hover:text-teal-400 transition-colors",children:"اليوم (Today)"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:299,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:249,columnNumber:9},void 0):null;return o.jsxDEV("div",{className:`relative ${F}`,ref:P,children:[b&&o.jsxDEV("label",{id:C,className:"block text-xs font-bold text-slate-500 mb-1.5",children:b},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:324,columnNumber:23},void 0),o.jsxDEV("div",{role:"button","aria-haspopup":"dialog","aria-expanded":m,"aria-labelledby":b?C:void 0,tabIndex:0,onKeyDown:e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),g(e))},className:`
            flex items-center justify-between w-full border rounded-xl px-3 py-2.5 cursor-pointer transition-all
            ${S?"bg-transparent":"bg-white"}
            ${m?"ring-2 ring-teal-100 border-teal-500 shadow-sm":"border-slate-200 hover:border-slate-300"}
        `,onClick:g,children:[o.jsxDEV("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsxDEV(Z,{size:16,className:`shrink-0 ${a?"text-teal-600":"text-slate-400"}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:347,columnNumber:21},void 0),o.jsxDEV("span",{className:`text-sm font-bold truncate font-mono ${a?"text-slate-800":"text-slate-400"}`,children:a?Y(a):k},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:348,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:346,columnNumber:17},void 0),a?o.jsxDEV("button",{onClick:e=>{e.stopPropagation(),x("")},className:"text-slate-400 hover:text-rose-500 p-1 rounded-full hover:bg-slate-100 transition-colors",children:o.jsxDEV(_,{size:14},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:357,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:353,columnNumber:21},void 0):o.jsxDEV(v,{size:14,className:"text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:360,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:327,columnNumber:13},void 0),U.createPortal(X,document.body)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/DatePicker.tsx",lineNumber:323,columnNumber:9},void 0)};export{se as D};
