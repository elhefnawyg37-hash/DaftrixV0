import{a as j,j as e}from"./index-DYLume9J.js";import{r as n,R as G}from"./react-vendor-CJgqbvH4.js";import{K as E,j as F,ah as U,h as z,R as b,am as q,an as W,aa as O,a7 as K,o as B,ad as X}from"./ui-vendor-BUxR0pcK.js";import"./utils-vendor-5vCYNseS.js";import"./query-vendor-GtDMnHGN.js";import"./socket-vendor-TjCxX7sJ.js";const se=()=>{const[u,C]=n.useState([]),[N,h]=n.useState(!0),[a,R]=n.useState(null),[i,p]=n.useState(null),[H,S]=n.useState(!1),[r,V]=n.useState("ALL"),[c,g]=n.useState(""),[f,w]=n.useState(""),[P,y]=n.useState("");n.useEffect(()=>{v()},[]);const v=async()=>{h(!0);try{const s=await j.get("/pos/shifts");C(Array.isArray(s)?s:[])}catch{C([])}finally{h(!1)}},$=async s=>{S(!0);try{const o=await j.get(`/pos/shift/${s}/report`);p(o)}catch{p(null)}finally{S(!1)}},T=s=>{a===s?(R(null),p(null)):(R(s),$(s))},L=s=>{const o=`
            <!DOCTYPE html>
            <html dir="rtl" lang="ar">
            <head>
                <meta charset="UTF-8">
                <title>Report - ${s.shift.userName}</title>
                <style>
                    @page { size: 80mm auto; margin: 0; }
                    body { font-family: 'Segoe UI', sans-serif; width: 80mm; padding: 4mm; font-size: 12px; }
                    .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                    .title { font-size: 16px; font-weight: bold; margin-bottom: 5px; }
                    .row { display: flex; justify-content: space-between; margin-bottom: 5px; }
                    .bold { font-weight: bold; }
                    .section { margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 10px; }
                    .section-title { font-weight: bold; margin-bottom: 8px; text-decoration: underline; }
                </style>
            </head>
            <body>
                <div class="header">
                    <div class="title">تقرير وردية (X-Report)</div>
                    <div>${new Date().toLocaleDateString("ar-EG")} ${new Date().toLocaleTimeString("ar-EG")}</div>
                    <div>${s.shift.userName} | #${s.shift.id.substring(0,8)}</div>
                </div>

                <div class="row">
                    <span>رصيد افتتاحي:</span>
                    <span>${s.shift.openingCash.toFixed(2)}</span>
                </div>

                <div class="section">
                    <div class="section-title">المبيعات</div>
                    <div class="row">
                        <span>نقدي:</span>
                        <span>${s.salesByPaymentMethod.cash.toFixed(2)}</span>
                    </div>
                    <div class="row">
                        <span>بنكي:</span>
                        <span>${s.salesByPaymentMethod.bank.toFixed(2)}</span>
                    </div>
                     <div class="row">
                        <span>شيك:</span>
                        <span>${s.salesByPaymentMethod.cheque.toFixed(2)}</span>
                    </div>
                    <div class="row bold" style="margin-top: 5px; border-top: 1px solid #000; padding-top: 5px;">
                        <span>إجمالي المبيعات:</span>
                        <span>${s.salesByPaymentMethod.total.toFixed(2)}</span>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">النقدية في الدرج</div>
                    <div class="row">
                        <span>الرصيد المتوقع:</span>
                        <span class="bold">${s.shift.expectedCash?.toFixed(2)||"0.00"}</span>
                    </div>
                    ${s.shift.closingCash?`
                    <div class="row">
                        <span>الرصيد الفعلي:</span>
                        <span>${s.shift.closingCash.toFixed(2)}</span>
                    </div>
                    <div class="row">
                        <span>العجز/الزيادة:</span>
                        <span>${(s.shift.cashDifference||0).toFixed(2)}</span>
                    </div>
                    `:""}
                </div>

                <div class="section" style="text-align: center; margin-top: 30px;">
                    *** نهاية التقرير ***
                </div>
            </body>
            </html>
        `,l=window.open("","_blank","width=350,height=600");l&&(l.document.write(o),l.document.close(),l.onload=()=>{l.print(),l.onafterprint=()=>l.close()})},D=n.useMemo(()=>u.filter(s=>{if(r!=="ALL"&&s.status!==r||c&&new Date(s.openedAt).toISOString().split("T")[0]<c||f&&new Date(s.openedAt).toISOString().split("T")[0]>f)return!1;if(P){const o=P.toLowerCase();return s.userName?.toLowerCase().includes(o)||s.warehouseName?.toLowerCase().includes(o)}return!0}),[u,r,c,f,P]),x=n.useMemo(()=>{const s=u.filter(d=>d.status==="OPEN").length,o=u.filter(d=>{if(d.status!=="CLOSED"||!d.closedAt)return!1;const m=new Date().toISOString().split("T")[0];return d.closedAt.startsWith(m)}).length,l=u.filter(d=>new Date(d.openedAt).toISOString().split("T")[0]===new Date().toISOString().split("T")[0]).reduce((d,m)=>d+(m.totalSales||0),0);return{openShifts:s,closedToday:o,totalSalesToday:l}},[u]),t=s=>new Intl.NumberFormat("ar-EG",{minimumFractionDigits:2}).format(s||0),k=s=>new Date(s).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=(s,o)=>{const l=new Date(s),d=o?new Date(o):new Date,m=Math.round((d.getTime()-l.getTime())/6e4),M=Math.floor(m/60),I=m%60;return`${M}س ${I}د`};return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",dir:"rtl",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[e.jsxDEV(E,{className:"w-8 h-8 text-teal-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:265,columnNumber:21},void 0),"إدارة الورديات"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:264,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-slate-400",children:"عرض وإدارة ورديات نقطة البيع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:268,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:263,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 backdrop-blur-xl rounded-2xl p-6 border border-emerald-500/30",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-emerald-300 text-sm mb-1",children:"ورديات مفتوحة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:276,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-3xl font-bold text-white",children:x.openShifts},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:277,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:275,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-14 h-14 bg-emerald-500/30 rounded-xl flex items-center justify-center",children:e.jsxDEV(E,{className:"w-7 h-7 text-emerald-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:280,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:279,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:274,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:273,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 backdrop-blur-xl rounded-2xl p-6 border border-blue-500/30",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-blue-300 text-sm mb-1",children:"مغلقة اليوم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:288,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-3xl font-bold text-white",children:x.closedToday},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:289,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:287,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-14 h-14 bg-blue-500/30 rounded-xl flex items-center justify-center",children:e.jsxDEV(F,{className:"w-7 h-7 text-blue-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:292,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:291,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:286,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gradient-to-br from-amber-500/20 to-amber-600/10 backdrop-blur-xl rounded-2xl p-6 border border-amber-500/30",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-amber-300 text-sm mb-1",children:"مبيعات اليوم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:300,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-3xl font-bold text-white",children:t(x.totalSalesToday)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:301,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:299,columnNumber:25},void 0),e.jsxDEV("div",{className:"w-14 h-14 bg-amber-500/30 rounded-xl flex items-center justify-center",children:e.jsxDEV(U,{className:"w-7 h-7 text-amber-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:304,columnNumber:29},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:303,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:298,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:297,columnNumber:17},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:272,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 mb-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:315,columnNumber:25},void 0),e.jsxDEV("input",{type:"text",placeholder:"بحث بالاسم أو الفرع...",value:P,onChange:s=>y(s.target.value),className:"w-full bg-white/10 border border-white/20 rounded-xl py-3 pr-12 pl-4 text-white placeholder-slate-400 focus:outline-none focus:border-teal-400 focus:ring-2 focus:ring-teal-400/20"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:316,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV("select",{value:r,onChange:s=>V(s.target.value),className:"bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-400",children:[e.jsxDEV("option",{value:"ALL",className:"bg-slate-800",children:"جميع الحالات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:331,columnNumber:25},void 0),e.jsxDEV("option",{value:"OPEN",className:"bg-slate-800",children:"مفتوحة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:332,columnNumber:25},void 0),e.jsxDEV("option",{value:"CLOSED",className:"bg-slate-800",children:"مغلقة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:333,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:326,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:c,onChange:s=>g(s.target.value),className:"bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:337,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:f,onChange:s=>w(s.target.value),className:"bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:345,columnNumber:21},void 0),e.jsxDEV("button",{onClick:v,disabled:N,className:"bg-teal-500/20 hover:bg-teal-500/30 text-teal-400 rounded-xl py-3 px-6 flex items-center justify-center gap-2 transition-colors border border-teal-500/30",children:[e.jsxDEV(b,{className:`w-5 h-5 ${N?"animate-spin":""}`},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:358,columnNumber:25},void 0),"تحديث"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:353,columnNumber:21},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:312,columnNumber:17},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:311,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:N?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(b,{className:"w-12 h-12 text-teal-400 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:368,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-slate-400",children:"جاري تحميل الورديات..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:369,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:367,columnNumber:21},void 0):D.length===0?e.jsxDEV("div",{className:"p-12 text-center",children:[e.jsxDEV(E,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:373,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-slate-400",children:"لا توجد ورديات مطابقة للفلاتر"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:374,columnNumber:25},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:372,columnNumber:21},void 0):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"bg-white/5 border-b border-white/10",children:[e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"الموظف"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:381,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"الفرع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:382,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"بداية الوردية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:383,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"المدة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:384,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"الحالة"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:385,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"المبيعات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:386,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-right text-slate-400 font-medium py-4 px-6",children:"الفرق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:387,columnNumber:37},void 0),e.jsxDEV("th",{className:"text-center text-slate-400 font-medium py-4 px-6",children:"تفاصيل"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:388,columnNumber:37},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:380,columnNumber:33},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:379,columnNumber:29},void 0),e.jsxDEV("tbody",{children:D.map(s=>e.jsxDEV(G.Fragment,{children:[e.jsxDEV("tr",{className:`border-b border-white/5 hover:bg-white/5 transition-colors cursor-pointer ${a===s.id?"bg-teal-500/10":""}`,onClick:()=>T(s.id),children:[e.jsxDEV("td",{className:"py-4 px-6",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold",children:s.userName?.charAt(0)||"U"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:401,columnNumber:53},void 0),e.jsxDEV("span",{className:"text-white font-medium",children:s.userName||"مستخدم"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:404,columnNumber:53},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:400,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:399,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6 text-slate-300",children:s.warehouseName||"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:407,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6 text-slate-300",children:k(s.openedAt)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:408,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6 text-slate-300",children:A(s.openedAt,s.closedAt)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:409,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6",children:e.jsxDEV("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${s.status==="OPEN"?"bg-emerald-500/20 text-emerald-400":"bg-slate-500/20 text-slate-400"}`,children:s.status==="OPEN"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:416,columnNumber:59},void 0)," مفتوحة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:416,columnNumber:57},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(F,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:418,columnNumber:59},void 0)," مغلقة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:418,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:411,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:410,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6 text-white font-bold",children:t(s.totalSales||0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:422,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6",children:s.cashDifference!==null&&s.cashDifference!==void 0?e.jsxDEV("span",{className:`font-medium ${s.cashDifference===0?"text-emerald-400":s.cashDifference>0?"text-blue-400":"text-red-400"}`,children:[s.cashDifference>0?"+":"",t(s.cashDifference)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:425,columnNumber:53},void 0):e.jsxDEV("span",{className:"text-slate-500",children:"-"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:434,columnNumber:53},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:423,columnNumber:45},void 0),e.jsxDEV("td",{className:"py-4 px-6 text-center",children:e.jsxDEV("button",{className:"text-teal-400 hover:text-teal-300 transition-colors",children:a===s.id?e.jsxDEV(q,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:440,columnNumber:57},void 0):e.jsxDEV(W,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:442,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:438,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:437,columnNumber:45},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:394,columnNumber:41},void 0),a===s.id&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:8,className:"bg-white/5 p-6",children:H?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(b,{className:"w-8 h-8 text-teal-400 animate-spin mx-auto mb-2"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:454,columnNumber:61},void 0),e.jsxDEV("p",{className:"text-slate-400",children:"جاري تحميل التقرير..."},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:455,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:453,columnNumber:57},void 0):i?e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10",children:[e.jsxDEV("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e.jsxDEV(O,{className:"w-5 h-5 text-emerald-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:462,columnNumber:69},void 0),"ملخص الكاش"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:461,columnNumber:65},void 0),e.jsxDEV("button",{onClick:()=>L(i),className:"absolute top-4 left-4 p-2 bg-slate-700/50 hover:bg-slate-600 rounded-lg text-slate-300 hover:text-white transition-colors",title:"طباعة تقرير",children:e.jsxDEV(K,{className:"w-5 h-5"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:470,columnNumber:69},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:465,columnNumber:65},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-400",children:"رصيد افتتاحي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:474,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-white",children:t(s.openingCash)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:475,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:473,columnNumber:69},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-400",children:"مبيعات نقدية"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:478,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-emerald-400",children:["+",t(i.salesByPaymentMethod.cash)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:479,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:477,columnNumber:69},void 0),e.jsxDEV("div",{className:"border-t border-white/10 pt-3 flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-400",children:"المتوقع"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:482,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-white font-bold",children:t(s.expectedCash||0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:483,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:481,columnNumber:69},void 0),s.closingCash!==null&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-400",children:"الفعلي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:488,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-white",children:t(s.closingCash)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:489,columnNumber:81},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:487,columnNumber:77},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-slate-400",children:"الفرق"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:492,columnNumber:81},void 0),e.jsxDEV("span",{className:s.cashDifference===0?"text-emerald-400":s.cashDifference>0?"text-blue-400":"text-red-400",children:[s.cashDifference>0?"+":"",t(s.cashDifference||0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:493,columnNumber:81},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:491,columnNumber:77},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:486,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:472,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:460,columnNumber:61},void 0),e.jsxDEV("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10",children:[e.jsxDEV("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e.jsxDEV(B,{className:"w-5 h-5 text-blue-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:505,columnNumber:69},void 0),"طرق الدفع"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:504,columnNumber:65},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-slate-400 flex items-center gap-2",children:[e.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:511,columnNumber:77},void 0)," نقدي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:510,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-white",children:t(i.salesByPaymentMethod.cash)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:513,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:509,columnNumber:69},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-slate-400 flex items-center gap-2",children:[e.jsxDEV(B,{className:"w-4 h-4"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:517,columnNumber:77},void 0)," بنكي"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:516,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-white",children:t(i.salesByPaymentMethod.bank)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:519,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:515,columnNumber:69},void 0),e.jsxDEV("div",{className:"border-t border-white/10 pt-3 flex justify-between",children:[e.jsxDEV("span",{className:"text-white font-bold",children:"الإجمالي"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:522,columnNumber:73},void 0),e.jsxDEV("span",{className:"text-teal-400 font-bold",children:t(i.salesByPaymentMethod.total)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:523,columnNumber:73},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:521,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:508,columnNumber:65},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:503,columnNumber:61},void 0),e.jsxDEV("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10",children:[e.jsxDEV("h4",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[e.jsxDEV(X,{className:"w-5 h-5 text-amber-400"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:531,columnNumber:69},void 0),"الأكثر مبيعاً"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:530,columnNumber:65},void 0),i.topProducts.length>0?e.jsxDEV("div",{className:"space-y-2",children:i.topProducts.slice(0,5).map((o,l)=>e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-slate-300 text-sm truncate flex-1",children:[e.jsxDEV("span",{className:"text-teal-400 font-bold ml-2",children:["#",l+1]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:539,columnNumber:85},void 0),o.productName]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:538,columnNumber:81},void 0),e.jsxDEV("span",{className:"text-white text-sm",children:[o.quantity," وحدة"]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:542,columnNumber:81},void 0)]},o.productId,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:537,columnNumber:77},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:535,columnNumber:69},void 0):e.jsxDEV("p",{className:"text-slate-500 text-center py-4",children:"لا توجد مبيعات"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:547,columnNumber:69},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:529,columnNumber:61},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:458,columnNumber:57},void 0):e.jsxDEV("p",{className:"text-slate-400 text-center py-4",children:"فشل تحميل التقرير"},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:552,columnNumber:57},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:451,columnNumber:49},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:450,columnNumber:45},void 0)]},s.id,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:393,columnNumber:37},void 0))},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:391,columnNumber:29},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:378,columnNumber:25},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:377,columnNumber:21},void 0)},void 0,!1,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:365,columnNumber:13},void 0)]},void 0,!0,{fileName:"F:/Codes/ERP/18 -12 B/Cloud ERP 12-16 H/Cloud ERP/components/pos/POSShifts.tsx",lineNumber:261,columnNumber:9},void 0)};export{se as default};
